{
  "version": 3,
  "sources": ["<stdin>"],
  "sourcesContent": ["import __import_BUFFER from \"buffer\";\nimport __import_CRYPTO from \"crypto\";\nimport __import_UTIL from \"util\";\nimport __import_STREAM from \"stream\";\nimport __import_ZLIB from \"zlib\";\nimport __import_EVENTS from \"events\";\nimport __import_FS from \"fs\";\nimport __import_PATH from \"path\";\n\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __require = /* @__PURE__ */ ((x2) => typeof require !== \"undefined\" ? require : typeof Proxy !== \"undefined\" ? new Proxy(x2, {\n  get: (a, b2) => (typeof require !== \"undefined\" ? require : a)[b2]\n}) : x2)(function(x2) {\n  if (typeof require !== \"undefined\") return require.apply(this, arguments);\n  throw Error('Dynamic require of \"' + x2 + '\" is not supported');\n});\nvar __commonJS = (cb, mod) => function __require2() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\n\n// node_modules/avsc/lib/utils.js\nvar require_utils = __commonJS({\n  \"node_modules/avsc/lib/utils.js\"(exports, module) {\n    \"use strict\";\n    var buffer = __import_BUFFER;\n    var crypto2 = __import_CRYPTO;\n    var util = __import_UTIL;\n    var Buffer2 = buffer.Buffer;\n    var POOL = new BufferPool(4096);\n    var NAME_PATTERN = /^[A-Za-z_][A-Za-z0-9_]*$/;\n    var f2 = util.format;\n    function newBuffer(size) {\n      if (typeof Buffer2.alloc == \"function\") {\n        return Buffer2.alloc(size);\n      } else {\n        return new Buffer2(size);\n      }\n    }\n    function bufferFrom(data, enc) {\n      if (typeof Buffer2.from == \"function\") {\n        return Buffer2.from(data, enc);\n      } else {\n        return new Buffer2(data, enc);\n      }\n    }\n    function capitalize(s) {\n      return s.charAt(0).toUpperCase() + s.slice(1);\n    }\n    function compare(n1, n2) {\n      return n1 === n2 ? 0 : n1 < n2 ? -1 : 1;\n    }\n    function getOption(opts, key, def) {\n      var value = opts[key];\n      return value === void 0 ? def : value;\n    }\n    function getHash(str, algorithm) {\n      algorithm = algorithm || \"md5\";\n      var hash = crypto2.createHash(algorithm);\n      hash.end(str);\n      return hash.read();\n    }\n    function singleIndexOf(arr, v2) {\n      var pos = -1;\n      var i, l;\n      if (!arr) {\n        return -1;\n      }\n      for (i = 0, l = arr.length; i < l; i++) {\n        if (arr[i] === v2) {\n          if (pos >= 0) {\n            return -2;\n          }\n          pos = i;\n        }\n      }\n      return pos;\n    }\n    function toMap(arr, fn) {\n      var obj = {};\n      var i, elem;\n      for (i = 0; i < arr.length; i++) {\n        elem = arr[i];\n        obj[fn(elem)] = elem;\n      }\n      return obj;\n    }\n    function objectValues(obj) {\n      return Object.keys(obj).map(function(key) {\n        return obj[key];\n      });\n    }\n    function hasDuplicates(arr, fn) {\n      var obj = /* @__PURE__ */ Object.create(null);\n      var i, l, elem;\n      for (i = 0, l = arr.length; i < l; i++) {\n        elem = arr[i];\n        if (fn) {\n          elem = fn(elem);\n        }\n        if (obj[elem]) {\n          return true;\n        }\n        obj[elem] = true;\n      }\n      return false;\n    }\n    function copyOwnProperties(src, dst, overwrite) {\n      var names = Object.getOwnPropertyNames(src);\n      var i, l, name;\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        if (!dst.hasOwnProperty(name) || overwrite) {\n          var descriptor = Object.getOwnPropertyDescriptor(src, name);\n          Object.defineProperty(dst, name, descriptor);\n        }\n      }\n      return dst;\n    }\n    function isValidName(str) {\n      return NAME_PATTERN.test(str);\n    }\n    function qualify(name, namespace) {\n      if (~name.indexOf(\".\")) {\n        name = name.replace(/^\\./, \"\");\n      } else if (namespace) {\n        name = namespace + \".\" + name;\n      }\n      name.split(\".\").forEach(function(part) {\n        if (!isValidName(part)) {\n          throw new Error(f2(\"invalid name: %j\", name));\n        }\n      });\n      return name;\n    }\n    function unqualify(name) {\n      var parts = name.split(\".\");\n      return parts[parts.length - 1];\n    }\n    function impliedNamespace(name) {\n      var match = /^(.*)\\.[^.]+$/.exec(name);\n      return match ? match[1] : void 0;\n    }\n    function jsonEnd(str, pos) {\n      pos = pos | 0;\n      var c = str.charAt(pos++);\n      if (/[\\d-]/.test(c)) {\n        while (/[eE\\d.+-]/.test(str.charAt(pos))) {\n          pos++;\n        }\n        return pos;\n      } else if (/true|null/.test(str.slice(pos - 1, pos + 3))) {\n        return pos + 3;\n      } else if (/false/.test(str.slice(pos - 1, pos + 4))) {\n        return pos + 4;\n      }\n      var depth = 0;\n      var literal = false;\n      do {\n        switch (c) {\n          case \"{\":\n          case \"[\":\n            if (!literal) {\n              depth++;\n            }\n            break;\n          case \"}\":\n          case \"]\":\n            if (!literal && !--depth) {\n              return pos;\n            }\n            break;\n          case '\"':\n            literal = !literal;\n            if (!depth && !literal) {\n              return pos;\n            }\n            break;\n          case \"\\\\\":\n            pos++;\n        }\n      } while (c = str.charAt(pos++));\n      return -1;\n    }\n    function abstractFunction() {\n      throw new Error(\"abstract\");\n    }\n    function addDeprecatedGetters(obj, props) {\n      var proto = obj.prototype;\n      var i, l, prop, getter;\n      for (i = 0, l = props.length; i < l; i++) {\n        prop = props[i];\n        getter = \"get\" + capitalize(prop);\n        proto[getter] = util.deprecate(\n          createGetter(prop),\n          \"use `.\" + prop + \"` instead of `.\" + getter + \"()`\"\n        );\n      }\n      function createGetter(prop2) {\n        return function() {\n          var delegate = this[prop2];\n          return typeof delegate == \"function\" ? delegate.apply(this, arguments) : delegate;\n        };\n      }\n    }\n    function BufferPool(len) {\n      this._len = len | 0;\n      this._pos = 0;\n      this._slab = newBuffer(this._len);\n    }\n    BufferPool.prototype.alloc = function(len) {\n      if (len < 0) {\n        throw new Error(\"negative length\");\n      }\n      var maxLen = this._len;\n      if (len > maxLen) {\n        return newBuffer(len);\n      }\n      if (this._pos + len > maxLen) {\n        this._slab = newBuffer(maxLen);\n        this._pos = 0;\n      }\n      return this._slab.slice(this._pos, this._pos += len);\n    };\n    function Lcg(seed) {\n      var a = 1103515245;\n      var c = 12345;\n      var m2 = Math.pow(2, 31);\n      var state = Math.floor(seed || Math.random() * (m2 - 1));\n      this._max = m2;\n      this._nextInt = function() {\n        return state = (a * state + c) % m2;\n      };\n    }\n    Lcg.prototype.nextBoolean = function() {\n      return !!(this._nextInt() % 2);\n    };\n    Lcg.prototype.nextInt = function(start, end) {\n      if (end === void 0) {\n        end = start;\n        start = 0;\n      }\n      end = end === void 0 ? this._max : end;\n      return start + Math.floor(this.nextFloat() * (end - start));\n    };\n    Lcg.prototype.nextFloat = function(start, end) {\n      if (end === void 0) {\n        end = start;\n        start = 0;\n      }\n      end = end === void 0 ? 1 : end;\n      return start + (end - start) * this._nextInt() / this._max;\n    };\n    Lcg.prototype.nextString = function(len, flags) {\n      len |= 0;\n      flags = flags || \"aA\";\n      var mask = \"\";\n      if (flags.indexOf(\"a\") > -1) {\n        mask += \"abcdefghijklmnopqrstuvwxyz\";\n      }\n      if (flags.indexOf(\"A\") > -1) {\n        mask += \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n      }\n      if (flags.indexOf(\"#\") > -1) {\n        mask += \"0123456789\";\n      }\n      if (flags.indexOf(\"!\") > -1) {\n        mask += \"~`!@#$%^&*()_+-={}[]:\\\";'<>?,./|\\\\\";\n      }\n      var result = [];\n      for (var i = 0; i < len; i++) {\n        result.push(this.choice(mask));\n      }\n      return result.join(\"\");\n    };\n    Lcg.prototype.nextBuffer = function(len) {\n      var arr = [];\n      var i;\n      for (i = 0; i < len; i++) {\n        arr.push(this.nextInt(256));\n      }\n      return bufferFrom(arr);\n    };\n    Lcg.prototype.choice = function(arr) {\n      var len = arr.length;\n      if (!len) {\n        throw new Error(\"choosing from empty array\");\n      }\n      return arr[this.nextInt(len)];\n    };\n    function OrderedQueue() {\n      this._index = 0;\n      this._items = [];\n    }\n    OrderedQueue.prototype.push = function(item) {\n      var items = this._items;\n      var i = items.length | 0;\n      var j2;\n      items.push(item);\n      while (i > 0 && items[i].index < items[j2 = i - 1 >> 1].index) {\n        item = items[i];\n        items[i] = items[j2];\n        items[j2] = item;\n        i = j2;\n      }\n    };\n    OrderedQueue.prototype.pop = function() {\n      var items = this._items;\n      var len = items.length - 1 | 0;\n      var first = items[0];\n      if (!first || first.index > this._index) {\n        return null;\n      }\n      this._index++;\n      if (!len) {\n        items.pop();\n        return first;\n      }\n      items[0] = items.pop();\n      var mid = len >> 1;\n      var i = 0;\n      var i1, i2, j2, item, c, c1, c2;\n      while (i < mid) {\n        item = items[i];\n        i1 = (i << 1) + 1;\n        i2 = i + 1 << 1;\n        c1 = items[i1];\n        c2 = items[i2];\n        if (!c2 || c1.index <= c2.index) {\n          c = c1;\n          j2 = i1;\n        } else {\n          c = c2;\n          j2 = i2;\n        }\n        if (c.index >= item.index) {\n          break;\n        }\n        items[j2] = item;\n        items[i] = c;\n        i = j2;\n      }\n      return first;\n    };\n    function Tap(buf, pos) {\n      this.buf = buf;\n      this.pos = pos | 0;\n      if (this.pos < 0) {\n        throw new Error(\"negative offset\");\n      }\n    }\n    Tap.prototype.isValid = function() {\n      return this.pos <= this.buf.length;\n    };\n    Tap.prototype._invalidate = function() {\n      this.pos = this.buf.length + 1;\n    };\n    Tap.prototype.readBoolean = function() {\n      return !!this.buf[this.pos++];\n    };\n    Tap.prototype.skipBoolean = function() {\n      this.pos++;\n    };\n    Tap.prototype.writeBoolean = function(b2) {\n      this.buf[this.pos++] = !!b2;\n    };\n    Tap.prototype.readInt = Tap.prototype.readLong = function() {\n      var n = 0;\n      var k2 = 0;\n      var buf = this.buf;\n      var b2, h, f3, fk;\n      do {\n        b2 = buf[this.pos++];\n        h = b2 & 128;\n        n |= (b2 & 127) << k2;\n        k2 += 7;\n      } while (h && k2 < 28);\n      if (h) {\n        f3 = n;\n        fk = 268435456;\n        do {\n          b2 = buf[this.pos++];\n          f3 += (b2 & 127) * fk;\n          fk *= 128;\n        } while (b2 & 128);\n        return (f3 % 2 ? -(f3 + 1) : f3) / 2;\n      }\n      return n >> 1 ^ -(n & 1);\n    };\n    Tap.prototype.skipInt = Tap.prototype.skipLong = function() {\n      var buf = this.buf;\n      while (buf[this.pos++] & 128) {\n      }\n    };\n    Tap.prototype.writeInt = Tap.prototype.writeLong = function(n) {\n      var buf = this.buf;\n      var f3, m2;\n      if (n >= -1073741824 && n < 1073741824) {\n        m2 = n >= 0 ? n << 1 : ~n << 1 | 1;\n        do {\n          buf[this.pos] = m2 & 127;\n          m2 >>= 7;\n        } while (m2 && (buf[this.pos++] |= 128));\n      } else {\n        f3 = n >= 0 ? n * 2 : -n * 2 - 1;\n        do {\n          buf[this.pos] = f3 & 127;\n          f3 /= 128;\n        } while (f3 >= 1 && (buf[this.pos++] |= 128));\n      }\n      this.pos++;\n    };\n    Tap.prototype.readFloat = function() {\n      var buf = this.buf;\n      var pos = this.pos;\n      this.pos += 4;\n      if (this.pos > buf.length) {\n        return 0;\n      }\n      return this.buf.readFloatLE(pos);\n    };\n    Tap.prototype.skipFloat = function() {\n      this.pos += 4;\n    };\n    Tap.prototype.writeFloat = function(f3) {\n      var buf = this.buf;\n      var pos = this.pos;\n      this.pos += 4;\n      if (this.pos > buf.length) {\n        return;\n      }\n      return this.buf.writeFloatLE(f3, pos);\n    };\n    Tap.prototype.readDouble = function() {\n      var buf = this.buf;\n      var pos = this.pos;\n      this.pos += 8;\n      if (this.pos > buf.length) {\n        return 0;\n      }\n      return this.buf.readDoubleLE(pos);\n    };\n    Tap.prototype.skipDouble = function() {\n      this.pos += 8;\n    };\n    Tap.prototype.writeDouble = function(d) {\n      var buf = this.buf;\n      var pos = this.pos;\n      this.pos += 8;\n      if (this.pos > buf.length) {\n        return;\n      }\n      return this.buf.writeDoubleLE(d, pos);\n    };\n    Tap.prototype.readFixed = function(len) {\n      var pos = this.pos;\n      this.pos += len;\n      if (this.pos > this.buf.length) {\n        return;\n      }\n      var fixed = POOL.alloc(len);\n      this.buf.copy(fixed, 0, pos, pos + len);\n      return fixed;\n    };\n    Tap.prototype.skipFixed = function(len) {\n      this.pos += len;\n    };\n    Tap.prototype.writeFixed = function(buf, len) {\n      len = len || buf.length;\n      var pos = this.pos;\n      this.pos += len;\n      if (this.pos > this.buf.length) {\n        return;\n      }\n      buf.copy(this.buf, pos, 0, len);\n    };\n    Tap.prototype.readBytes = function() {\n      var len = this.readLong();\n      if (len < 0) {\n        this._invalidate();\n        return;\n      }\n      return this.readFixed(len);\n    };\n    Tap.prototype.skipBytes = function() {\n      var len = this.readLong();\n      if (len < 0) {\n        this._invalidate();\n        return;\n      }\n      this.pos += len;\n    };\n    Tap.prototype.writeBytes = function(buf) {\n      var len = buf.length;\n      this.writeLong(len);\n      this.writeFixed(buf, len);\n    };\n    if (typeof Buffer2.prototype.utf8Slice == \"function\") {\n      Tap.prototype.readString = function() {\n        var len = this.readLong();\n        if (len < 0) {\n          this._invalidate();\n          return \"\";\n        }\n        var pos = this.pos;\n        var buf = this.buf;\n        this.pos += len;\n        if (this.pos > buf.length) {\n          return;\n        }\n        return this.buf.utf8Slice(pos, pos + len);\n      };\n    } else {\n      Tap.prototype.readString = function() {\n        var len = this.readLong();\n        if (len < 0) {\n          this._invalidate();\n          return \"\";\n        }\n        var pos = this.pos;\n        var buf = this.buf;\n        this.pos += len;\n        if (this.pos > buf.length) {\n          return;\n        }\n        return this.buf.slice(pos, pos + len).toString();\n      };\n    }\n    Tap.prototype.skipString = function() {\n      var len = this.readLong();\n      if (len < 0) {\n        this._invalidate();\n        return;\n      }\n      this.pos += len;\n    };\n    Tap.prototype.writeString = function(s) {\n      var len = Buffer2.byteLength(s);\n      var buf = this.buf;\n      this.writeLong(len);\n      var pos = this.pos;\n      this.pos += len;\n      if (this.pos > buf.length) {\n        return;\n      }\n      if (len > 64 && typeof Buffer2.prototype.utf8Write == \"function\") {\n        buf.utf8Write(s, pos, len);\n      } else {\n        var i, l, c1, c2;\n        for (i = 0, l = len; i < l; i++) {\n          c1 = s.charCodeAt(i);\n          if (c1 < 128) {\n            buf[pos++] = c1;\n          } else if (c1 < 2048) {\n            buf[pos++] = c1 >> 6 | 192;\n            buf[pos++] = c1 & 63 | 128;\n          } else if ((c1 & 64512) === 55296 && ((c2 = s.charCodeAt(i + 1)) & 64512) === 56320) {\n            c1 = 65536 + ((c1 & 1023) << 10) + (c2 & 1023);\n            i++;\n            buf[pos++] = c1 >> 18 | 240;\n            buf[pos++] = c1 >> 12 & 63 | 128;\n            buf[pos++] = c1 >> 6 & 63 | 128;\n            buf[pos++] = c1 & 63 | 128;\n          } else {\n            buf[pos++] = c1 >> 12 | 224;\n            buf[pos++] = c1 >> 6 & 63 | 128;\n            buf[pos++] = c1 & 63 | 128;\n          }\n        }\n      }\n    };\n    if (typeof Buffer2.prototype.latin1Write == \"function\") {\n      Tap.prototype.writeBinary = function(str, len) {\n        var pos = this.pos;\n        this.pos += len;\n        if (this.pos > this.buf.length) {\n          return;\n        }\n        this.buf.latin1Write(str, pos, len);\n      };\n    } else if (typeof Buffer2.prototype.binaryWrite == \"function\") {\n      Tap.prototype.writeBinary = function(str, len) {\n        var pos = this.pos;\n        this.pos += len;\n        if (this.pos > this.buf.length) {\n          return;\n        }\n        this.buf.binaryWrite(str, pos, len);\n      };\n    } else {\n      Tap.prototype.writeBinary = function(s, len) {\n        var pos = this.pos;\n        this.pos += len;\n        if (this.pos > this.buf.length) {\n          return;\n        }\n        this.buf.write(s, pos, len, \"binary\");\n      };\n    }\n    Tap.prototype.matchBoolean = function(tap) {\n      return this.buf[this.pos++] - tap.buf[tap.pos++];\n    };\n    Tap.prototype.matchInt = Tap.prototype.matchLong = function(tap) {\n      var n1 = this.readLong();\n      var n2 = tap.readLong();\n      return n1 === n2 ? 0 : n1 < n2 ? -1 : 1;\n    };\n    Tap.prototype.matchFloat = function(tap) {\n      var n1 = this.readFloat();\n      var n2 = tap.readFloat();\n      return n1 === n2 ? 0 : n1 < n2 ? -1 : 1;\n    };\n    Tap.prototype.matchDouble = function(tap) {\n      var n1 = this.readDouble();\n      var n2 = tap.readDouble();\n      return n1 === n2 ? 0 : n1 < n2 ? -1 : 1;\n    };\n    Tap.prototype.matchFixed = function(tap, len) {\n      return this.readFixed(len).compare(tap.readFixed(len));\n    };\n    Tap.prototype.matchBytes = Tap.prototype.matchString = function(tap) {\n      var l1 = this.readLong();\n      var p1 = this.pos;\n      this.pos += l1;\n      var l2 = tap.readLong();\n      var p2 = tap.pos;\n      tap.pos += l2;\n      var b1 = this.buf.slice(p1, this.pos);\n      var b2 = tap.buf.slice(p2, tap.pos);\n      return b1.compare(b2);\n    };\n    Tap.prototype.unpackLongBytes = function() {\n      var res = newBuffer(8);\n      var n = 0;\n      var i = 0;\n      var j2 = 6;\n      var buf = this.buf;\n      var b2, neg;\n      b2 = buf[this.pos++];\n      neg = b2 & 1;\n      res.fill(0);\n      n |= (b2 & 127) >> 1;\n      while (b2 & 128) {\n        b2 = buf[this.pos++];\n        n |= (b2 & 127) << j2;\n        j2 += 7;\n        if (j2 >= 8) {\n          j2 -= 8;\n          res[i++] = n;\n          n >>= 8;\n        }\n      }\n      res[i] = n;\n      if (neg) {\n        invert(res, 8);\n      }\n      return res;\n    };\n    Tap.prototype.packLongBytes = function(buf) {\n      var neg = (buf[7] & 128) >> 7;\n      var res = this.buf;\n      var j2 = 1;\n      var k2 = 0;\n      var m2 = 3;\n      var n;\n      if (neg) {\n        invert(buf, 8);\n        n = 1;\n      } else {\n        n = 0;\n      }\n      var parts = [\n        buf.readUIntLE(0, 3),\n        buf.readUIntLE(3, 3),\n        buf.readUIntLE(6, 2)\n      ];\n      while (m2 && !parts[--m2]) {\n      }\n      while (k2 < m2) {\n        n |= parts[k2++] << j2;\n        j2 += 24;\n        while (j2 > 7) {\n          res[this.pos++] = n & 127 | 128;\n          n >>= 7;\n          j2 -= 7;\n        }\n      }\n      n |= parts[m2] << j2;\n      do {\n        res[this.pos] = n & 127;\n        n >>= 7;\n      } while (n && (res[this.pos++] |= 128));\n      this.pos++;\n      if (neg) {\n        invert(buf, 8);\n      }\n    };\n    function invert(buf, len) {\n      while (len--) {\n        buf[len] = ~buf[len];\n      }\n    }\n    module.exports = {\n      abstractFunction,\n      addDeprecatedGetters,\n      bufferFrom,\n      capitalize,\n      copyOwnProperties,\n      getHash,\n      compare,\n      getOption,\n      impliedNamespace,\n      isValidName,\n      jsonEnd,\n      newBuffer,\n      objectValues,\n      qualify,\n      toMap,\n      singleIndexOf,\n      hasDuplicates,\n      unqualify,\n      BufferPool,\n      Lcg,\n      OrderedQueue,\n      Tap\n    };\n  }\n});\n\n// node_modules/avsc/lib/types.js\nvar require_types = __commonJS({\n  \"node_modules/avsc/lib/types.js\"(exports, module) {\n    \"use strict\";\n    var utils = require_utils();\n    var buffer = __import_BUFFER;\n    var util = __import_UTIL;\n    var Buffer2 = buffer.Buffer;\n    var SlowBuffer = buffer.SlowBuffer;\n    var Tap = utils.Tap;\n    var debug = util.debuglog(\"avsc:types\");\n    var f2 = util.format;\n    var TYPES = {\n      \"array\": ArrayType,\n      \"boolean\": BooleanType,\n      \"bytes\": BytesType,\n      \"double\": DoubleType,\n      \"enum\": EnumType,\n      \"error\": RecordType,\n      \"fixed\": FixedType,\n      \"float\": FloatType,\n      \"int\": IntType,\n      \"long\": LongType,\n      \"map\": MapType,\n      \"null\": NullType,\n      \"record\": RecordType,\n      \"string\": StringType\n    };\n    var RANDOM = new utils.Lcg();\n    var TAP = new Tap(new SlowBuffer(1024));\n    var LOGICAL_TYPE = null;\n    var UNDERLYING_TYPES = [];\n    function Type(schema, opts) {\n      var type;\n      if (LOGICAL_TYPE) {\n        type = LOGICAL_TYPE;\n        UNDERLYING_TYPES.push([LOGICAL_TYPE, this]);\n        LOGICAL_TYPE = null;\n      } else {\n        type = this;\n      }\n      this._hash = new Hash();\n      this.name = void 0;\n      this.aliases = void 0;\n      this.doc = schema && schema.doc ? \"\" + schema.doc : void 0;\n      if (schema) {\n        var name = schema.name;\n        var namespace = schema.namespace === void 0 ? opts && opts.namespace : schema.namespace;\n        if (name !== void 0) {\n          name = maybeQualify(name, namespace);\n          if (isPrimitive(name)) {\n            throw new Error(f2(\"cannot rename primitive type: %j\", name));\n          }\n          var registry = opts && opts.registry;\n          if (registry) {\n            if (registry[name] !== void 0) {\n              throw new Error(f2(\"duplicate type name: %s\", name));\n            }\n            registry[name] = type;\n          }\n        } else if (opts && opts.noAnonymousTypes) {\n          throw new Error(f2(\"missing name property in schema: %j\", schema));\n        }\n        this.name = name;\n        this.aliases = schema.aliases ? schema.aliases.map(function(s) {\n          return maybeQualify(s, namespace);\n        }) : [];\n      }\n    }\n    Type.forSchema = function(schema, opts) {\n      opts = opts || {};\n      opts.registry = opts.registry || {};\n      var UnionType2 = function(wrapUnions) {\n        if (wrapUnions === true) {\n          wrapUnions = \"always\";\n        } else if (wrapUnions === false) {\n          wrapUnions = \"never\";\n        } else if (wrapUnions === void 0) {\n          wrapUnions = \"auto\";\n        } else if (typeof wrapUnions == \"string\") {\n          wrapUnions = wrapUnions.toLowerCase();\n        }\n        switch (wrapUnions) {\n          case \"always\":\n            return WrappedUnionType;\n          case \"never\":\n            return UnwrappedUnionType;\n          case \"auto\":\n            return void 0;\n          default:\n            throw new Error(f2(\"invalid wrap unions option: %j\", wrapUnions));\n        }\n      }(opts.wrapUnions);\n      if (schema === null) {\n        throw new Error('invalid type: null (did you mean \"null\"?)');\n      }\n      if (Type.isType(schema)) {\n        return schema;\n      }\n      var type;\n      if (opts.typeHook && (type = opts.typeHook(schema, opts))) {\n        if (!Type.isType(type)) {\n          throw new Error(f2(\"invalid typehook return value: %j\", type));\n        }\n        return type;\n      }\n      if (typeof schema == \"string\") {\n        schema = maybeQualify(schema, opts.namespace);\n        type = opts.registry[schema];\n        if (type) {\n          return type;\n        }\n        if (isPrimitive(schema)) {\n          return opts.registry[schema] = Type.forSchema({ type: schema }, opts);\n        }\n        throw new Error(f2(\"undefined type name: %s\", schema));\n      }\n      if (schema.logicalType && opts.logicalTypes && !LOGICAL_TYPE) {\n        var DerivedType = opts.logicalTypes[schema.logicalType];\n        if (DerivedType) {\n          var namespace = opts.namespace;\n          var registry = {};\n          Object.keys(opts.registry).forEach(function(key) {\n            registry[key] = opts.registry[key];\n          });\n          try {\n            debug(\"instantiating logical type for %s\", schema.logicalType);\n            return new DerivedType(schema, opts);\n          } catch (err) {\n            debug(\"failed to instantiate logical type for %s\", schema.logicalType);\n            if (opts.assertLogicalTypes) {\n              throw err;\n            }\n            LOGICAL_TYPE = null;\n            opts.namespace = namespace;\n            opts.registry = registry;\n          }\n        }\n      }\n      if (Array.isArray(schema)) {\n        var logicalType = LOGICAL_TYPE;\n        LOGICAL_TYPE = null;\n        var types = schema.map(function(obj) {\n          return Type.forSchema(obj, opts);\n        });\n        if (!UnionType2) {\n          UnionType2 = isAmbiguous(types) ? WrappedUnionType : UnwrappedUnionType;\n        }\n        LOGICAL_TYPE = logicalType;\n        type = new UnionType2(types, opts);\n      } else {\n        type = function(typeName) {\n          var Type2 = TYPES[typeName];\n          if (Type2 === void 0) {\n            throw new Error(f2(\"unknown type: %j\", typeName));\n          }\n          return new Type2(schema, opts);\n        }(schema.type);\n      }\n      return type;\n    };\n    Type.forValue = function(val, opts) {\n      opts = opts || {};\n      opts.emptyArrayType = opts.emptyArrayType || Type.forSchema({\n        type: \"array\",\n        items: \"null\"\n      });\n      if (opts.valueHook) {\n        var type = opts.valueHook(val, opts);\n        if (type !== void 0) {\n          if (!Type.isType(type)) {\n            throw new Error(f2(\"invalid value hook return value: %j\", type));\n          }\n          return type;\n        }\n      }\n      switch (typeof val) {\n        case \"string\":\n          return Type.forSchema(\"string\", opts);\n        case \"boolean\":\n          return Type.forSchema(\"boolean\", opts);\n        case \"number\":\n          if ((val | 0) === val) {\n            return Type.forSchema(\"int\", opts);\n          } else if (Math.abs(val) < 9007199254740991) {\n            return Type.forSchema(\"float\", opts);\n          }\n          return Type.forSchema(\"double\", opts);\n        case \"object\":\n          if (val === null) {\n            return Type.forSchema(\"null\", opts);\n          } else if (Array.isArray(val)) {\n            if (!val.length) {\n              return opts.emptyArrayType;\n            }\n            return Type.forSchema({\n              type: \"array\",\n              items: Type.forTypes(\n                val.map(function(v2) {\n                  return Type.forValue(v2, opts);\n                }),\n                opts\n              )\n            }, opts);\n          } else if (Buffer2.isBuffer(val)) {\n            return Type.forSchema(\"bytes\", opts);\n          }\n          var fieldNames = Object.keys(val);\n          if (fieldNames.some(function(s) {\n            return !utils.isValidName(s);\n          })) {\n            return Type.forSchema({\n              type: \"map\",\n              values: Type.forTypes(fieldNames.map(function(s) {\n                return Type.forValue(val[s], opts);\n              }), opts)\n            }, opts);\n          }\n          return Type.forSchema({\n            type: \"record\",\n            fields: fieldNames.map(function(s) {\n              return { name: s, type: Type.forValue(val[s], opts) };\n            })\n          }, opts);\n        default:\n          throw new Error(f2(\"cannot infer type from: %j\", val));\n      }\n    };\n    Type.forTypes = function(types, opts) {\n      if (!types.length) {\n        throw new Error(\"no types to combine\");\n      }\n      if (types.length === 1) {\n        return types[0];\n      }\n      opts = opts || {};\n      var expanded = [];\n      var numWrappedUnions = 0;\n      var isValidWrappedUnion = true;\n      types.forEach(function(type) {\n        switch (type.typeName) {\n          case \"union:unwrapped\":\n            isValidWrappedUnion = false;\n            expanded = expanded.concat(type.types);\n            break;\n          case \"union:wrapped\":\n            numWrappedUnions++;\n            expanded = expanded.concat(type.types);\n            break;\n          case \"null\":\n            expanded.push(type);\n            break;\n          default:\n            isValidWrappedUnion = false;\n            expanded.push(type);\n        }\n      });\n      if (numWrappedUnions) {\n        if (!isValidWrappedUnion) {\n          throw new Error(\"cannot combine wrapped union\");\n        }\n        var branchTypes = {};\n        expanded.forEach(function(type) {\n          var name = type.branchName;\n          var branchType = branchTypes[name];\n          if (!branchType) {\n            branchTypes[name] = type;\n          } else if (!type.equals(branchType)) {\n            throw new Error(\"inconsistent branch type\");\n          }\n        });\n        var wrapUnions = opts.wrapUnions;\n        var unionType;\n        opts.wrapUnions = true;\n        try {\n          unionType = Type.forSchema(Object.keys(branchTypes).map(function(name) {\n            return branchTypes[name];\n          }), opts);\n        } catch (err) {\n          opts.wrapUnions = wrapUnions;\n          throw err;\n        }\n        opts.wrapUnions = wrapUnions;\n        return unionType;\n      }\n      var bucketized = {};\n      expanded.forEach(function(type) {\n        var bucket = getTypeBucket(type);\n        var bucketTypes = bucketized[bucket];\n        if (!bucketTypes) {\n          bucketized[bucket] = bucketTypes = [];\n        }\n        bucketTypes.push(type);\n      });\n      var buckets = Object.keys(bucketized);\n      var augmented = buckets.map(function(bucket) {\n        var bucketTypes = bucketized[bucket];\n        if (bucketTypes.length === 1) {\n          return bucketTypes[0];\n        } else {\n          switch (bucket) {\n            case \"null\":\n            case \"boolean\":\n              return bucketTypes[0];\n            case \"number\":\n              return combineNumbers(bucketTypes);\n            case \"string\":\n              return combineStrings(bucketTypes, opts);\n            case \"buffer\":\n              return combineBuffers(bucketTypes, opts);\n            case \"array\":\n              bucketTypes = bucketTypes.filter(function(t) {\n                return t !== opts.emptyArrayType;\n              });\n              if (!bucketTypes.length) {\n                return opts.emptyArrayType;\n              }\n              return Type.forSchema({\n                type: \"array\",\n                items: Type.forTypes(bucketTypes.map(function(t) {\n                  return t.itemsType;\n                }), opts)\n              }, opts);\n            default:\n              return combineObjects(bucketTypes, opts);\n          }\n        }\n      });\n      if (augmented.length === 1) {\n        return augmented[0];\n      } else {\n        return Type.forSchema(augmented, opts);\n      }\n    };\n    Type.isType = function() {\n      var l = arguments.length;\n      if (!l) {\n        return false;\n      }\n      var any = arguments[0];\n      if (!any || typeof any._update != \"function\" || typeof any.fingerprint != \"function\") {\n        return false;\n      }\n      if (l === 1) {\n        return true;\n      }\n      var typeName = any.typeName;\n      var i;\n      for (i = 1; i < l; i++) {\n        if (typeName.indexOf(arguments[i]) === 0) {\n          return true;\n        }\n      }\n      return false;\n    };\n    Type.__reset = function(size) {\n      debug(\"resetting type buffer to %d\", size);\n      TAP.buf = new SlowBuffer(size);\n    };\n    Object.defineProperty(Type.prototype, \"branchName\", {\n      enumerable: true,\n      get: function() {\n        var type = Type.isType(this, \"logical\") ? this.underlyingType : this;\n        if (type.name) {\n          return type.name;\n        }\n        if (Type.isType(type, \"abstract\")) {\n          return type._concreteTypeName;\n        }\n        return Type.isType(type, \"union\") ? void 0 : type.typeName;\n      }\n    });\n    Type.prototype.clone = function(val, opts) {\n      if (opts) {\n        opts = {\n          coerce: !!opts.coerceBuffers | 0,\n          // Coerce JSON to Buffer.\n          fieldHook: opts.fieldHook,\n          qualifyNames: !!opts.qualifyNames,\n          skip: !!opts.skipMissingFields,\n          wrap: !!opts.wrapUnions | 0\n          // Wrap first match into union.\n        };\n        return this._copy(val, opts);\n      } else {\n        return this.fromBuffer(this.toBuffer(val));\n      }\n    };\n    Type.prototype.compare = utils.abstractFunction;\n    Type.prototype.compareBuffers = function(buf1, buf2) {\n      return this._match(new Tap(buf1), new Tap(buf2));\n    };\n    Type.prototype.createResolver = function(type, opts) {\n      if (!Type.isType(type)) {\n        throw new Error(f2(\"not a type: %j\", type));\n      }\n      if (!Type.isType(this, \"union\", \"logical\") && Type.isType(type, \"logical\")) {\n        return this.createResolver(type.underlyingType, opts);\n      }\n      opts = opts || {};\n      opts.registry = opts.registry || {};\n      var resolver, key;\n      if (Type.isType(this, \"record\", \"error\") && Type.isType(type, \"record\", \"error\")) {\n        key = this.name + \":\" + type.name;\n        resolver = opts.registry[key];\n        if (resolver) {\n          return resolver;\n        }\n      }\n      resolver = new Resolver(this);\n      if (key) {\n        opts.registry[key] = resolver;\n      }\n      if (Type.isType(type, \"union\")) {\n        var resolvers = type.types.map(function(t) {\n          return this.createResolver(t, opts);\n        }, this);\n        resolver._read = function(tap) {\n          var index = tap.readLong();\n          var resolver2 = resolvers[index];\n          if (resolver2 === void 0) {\n            throw new Error(f2(\"invalid union index: %s\", index));\n          }\n          return resolvers[index]._read(tap);\n        };\n      } else {\n        this._update(resolver, type, opts);\n      }\n      if (!resolver._read) {\n        throw new Error(f2(\"cannot read %s as %s\", type, this));\n      }\n      return Object.freeze(resolver);\n    };\n    Type.prototype.decode = function(buf, pos, resolver) {\n      var tap = new Tap(buf, pos);\n      var val = readValue(this, tap, resolver);\n      if (!tap.isValid()) {\n        return { value: void 0, offset: -1 };\n      }\n      return { value: val, offset: tap.pos };\n    };\n    Type.prototype.encode = function(val, buf, pos) {\n      var tap = new Tap(buf, pos);\n      this._write(tap, val);\n      if (!tap.isValid()) {\n        return buf.length - tap.pos;\n      }\n      return tap.pos;\n    };\n    Type.prototype.equals = function(type, opts) {\n      var canon = (\n        // Canonical equality.\n        Type.isType(type) && this.fingerprint().equals(type.fingerprint())\n      );\n      if (!canon || !(opts && opts.strict)) {\n        return canon;\n      }\n      return JSON.stringify(this.schema({ exportAttrs: true })) === JSON.stringify(type.schema({ exportAttrs: true }));\n    };\n    Type.prototype.fingerprint = function(algorithm) {\n      if (!algorithm) {\n        if (!this._hash.str) {\n          var schemaStr = JSON.stringify(this.schema());\n          this._hash.str = utils.getHash(schemaStr).toString(\"binary\");\n        }\n        return utils.bufferFrom(this._hash.str, \"binary\");\n      } else {\n        return utils.getHash(JSON.stringify(this.schema()), algorithm);\n      }\n    };\n    Type.prototype.fromBuffer = function(buf, resolver, noCheck) {\n      var tap = new Tap(buf);\n      var val = readValue(this, tap, resolver, noCheck);\n      if (!tap.isValid()) {\n        throw new Error(\"truncated buffer\");\n      }\n      if (!noCheck && tap.pos < buf.length) {\n        throw new Error(\"trailing data\");\n      }\n      return val;\n    };\n    Type.prototype.fromString = function(str) {\n      return this._copy(JSON.parse(str), { coerce: 2 });\n    };\n    Type.prototype.inspect = function() {\n      var typeName = this.typeName;\n      var className = getClassName(typeName);\n      if (isPrimitive(typeName)) {\n        return f2(\"<%s>\", className);\n      } else {\n        var obj = this.schema({ exportAttrs: true, noDeref: true });\n        if (typeof obj == \"object\" && !Type.isType(this, \"logical\")) {\n          obj.type = void 0;\n        }\n        return f2(\"<%s %j>\", className, obj);\n      }\n    };\n    Type.prototype.isValid = function(val, opts) {\n      var flags = (opts && opts.noUndeclaredFields) | 0;\n      var errorHook = opts && opts.errorHook;\n      var hook, path;\n      if (errorHook) {\n        path = [];\n        hook = function(any, type) {\n          errorHook.call(this, path.slice(), any, type, val);\n        };\n      }\n      return this._check(val, flags, hook, path);\n    };\n    Type.prototype.random = utils.abstractFunction;\n    Type.prototype.schema = function(opts) {\n      return this._attrs({\n        exportAttrs: !!(opts && opts.exportAttrs),\n        noDeref: !!(opts && opts.noDeref)\n      });\n    };\n    Type.prototype.toBuffer = function(val) {\n      TAP.pos = 0;\n      this._write(TAP, val);\n      var buf = utils.newBuffer(TAP.pos);\n      if (TAP.isValid()) {\n        TAP.buf.copy(buf, 0, 0, TAP.pos);\n      } else {\n        this._write(new Tap(buf), val);\n      }\n      return buf;\n    };\n    Type.prototype.toJSON = function() {\n      return this.schema({ exportAttrs: true });\n    };\n    Type.prototype.toString = function(val) {\n      if (val === void 0) {\n        return JSON.stringify(this.schema({ noDeref: true }));\n      }\n      return JSON.stringify(this._copy(val, { coerce: 3 }));\n    };\n    Type.prototype.wrap = function(val) {\n      var Branch = this._branchConstructor;\n      return Branch === null ? null : new Branch(val);\n    };\n    Type.prototype._attrs = function(opts) {\n      opts.derefed = opts.derefed || {};\n      var name = this.name;\n      if (name !== void 0) {\n        if (opts.noDeref || opts.derefed[name]) {\n          return name;\n        }\n        opts.derefed[name] = true;\n      }\n      var schema = {};\n      if (this.name !== void 0) {\n        schema.name = name;\n      }\n      schema.type = this.typeName;\n      var derefedSchema = this._deref(schema, opts);\n      if (derefedSchema !== void 0) {\n        schema = derefedSchema;\n      }\n      if (opts.exportAttrs) {\n        if (this.aliases && this.aliases.length) {\n          schema.aliases = this.aliases;\n        }\n        if (this.doc !== void 0) {\n          schema.doc = this.doc;\n        }\n      }\n      return schema;\n    };\n    Type.prototype._createBranchConstructor = function() {\n      var name = this.branchName;\n      if (name === \"null\") {\n        return null;\n      }\n      var attr = ~name.indexOf(\".\") ? \"this['\" + name + \"']\" : \"this.\" + name;\n      var body = \"return function Branch$(val) { \" + attr + \" = val; };\";\n      var Branch = new Function(body)();\n      Branch.type = this;\n      Branch.prototype.unwrap = new Function(\"return \" + attr + \";\");\n      Branch.prototype.unwrapped = Branch.prototype.unwrap;\n      return Branch;\n    };\n    Type.prototype._peek = function(tap) {\n      var pos = tap.pos;\n      var val = this._read(tap);\n      tap.pos = pos;\n      return val;\n    };\n    Type.prototype._check = utils.abstractFunction;\n    Type.prototype._copy = utils.abstractFunction;\n    Type.prototype._deref = utils.abstractFunction;\n    Type.prototype._match = utils.abstractFunction;\n    Type.prototype._read = utils.abstractFunction;\n    Type.prototype._skip = utils.abstractFunction;\n    Type.prototype._update = utils.abstractFunction;\n    Type.prototype._write = utils.abstractFunction;\n    Type.prototype.getAliases = function() {\n      return this.aliases;\n    };\n    Type.prototype.getFingerprint = Type.prototype.fingerprint;\n    Type.prototype.getName = function(asBranch) {\n      return this.name || !asBranch ? this.name : this.branchName;\n    };\n    Type.prototype.getSchema = Type.prototype.schema;\n    Type.prototype.getTypeName = function() {\n      return this.typeName;\n    };\n    function PrimitiveType(noFreeze) {\n      Type.call(this);\n      this._branchConstructor = this._createBranchConstructor();\n      if (!noFreeze) {\n        Object.freeze(this);\n      }\n    }\n    util.inherits(PrimitiveType, Type);\n    PrimitiveType.prototype._update = function(resolver, type) {\n      if (type.typeName === this.typeName) {\n        resolver._read = this._read;\n      }\n    };\n    PrimitiveType.prototype._copy = function(val) {\n      this._check(val, void 0, throwInvalidError);\n      return val;\n    };\n    PrimitiveType.prototype._deref = function() {\n      return this.typeName;\n    };\n    PrimitiveType.prototype.compare = utils.compare;\n    function NullType() {\n      PrimitiveType.call(this);\n    }\n    util.inherits(NullType, PrimitiveType);\n    NullType.prototype._check = function(val, flags, hook) {\n      var b2 = val === null;\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    NullType.prototype._read = function() {\n      return null;\n    };\n    NullType.prototype._skip = function() {\n    };\n    NullType.prototype._write = function(tap, val) {\n      if (val !== null) {\n        throwInvalidError(val, this);\n      }\n    };\n    NullType.prototype._match = function() {\n      return 0;\n    };\n    NullType.prototype.compare = NullType.prototype._match;\n    NullType.prototype.typeName = \"null\";\n    NullType.prototype.random = NullType.prototype._read;\n    function BooleanType() {\n      PrimitiveType.call(this);\n    }\n    util.inherits(BooleanType, PrimitiveType);\n    BooleanType.prototype._check = function(val, flags, hook) {\n      var b2 = typeof val == \"boolean\";\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    BooleanType.prototype._read = function(tap) {\n      return tap.readBoolean();\n    };\n    BooleanType.prototype._skip = function(tap) {\n      tap.skipBoolean();\n    };\n    BooleanType.prototype._write = function(tap, val) {\n      if (typeof val != \"boolean\") {\n        throwInvalidError(val, this);\n      }\n      tap.writeBoolean(val);\n    };\n    BooleanType.prototype._match = function(tap1, tap2) {\n      return tap1.matchBoolean(tap2);\n    };\n    BooleanType.prototype.typeName = \"boolean\";\n    BooleanType.prototype.random = function() {\n      return RANDOM.nextBoolean();\n    };\n    function IntType() {\n      PrimitiveType.call(this);\n    }\n    util.inherits(IntType, PrimitiveType);\n    IntType.prototype._check = function(val, flags, hook) {\n      var b2 = val === (val | 0);\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    IntType.prototype._read = function(tap) {\n      return tap.readInt();\n    };\n    IntType.prototype._skip = function(tap) {\n      tap.skipInt();\n    };\n    IntType.prototype._write = function(tap, val) {\n      if (val !== (val | 0)) {\n        throwInvalidError(val, this);\n      }\n      tap.writeInt(val);\n    };\n    IntType.prototype._match = function(tap1, tap2) {\n      return tap1.matchInt(tap2);\n    };\n    IntType.prototype.typeName = \"int\";\n    IntType.prototype.random = function() {\n      return RANDOM.nextInt(1e3) | 0;\n    };\n    function LongType() {\n      PrimitiveType.call(this);\n    }\n    util.inherits(LongType, PrimitiveType);\n    LongType.prototype._check = function(val, flags, hook) {\n      var b2 = typeof val == \"number\" && val % 1 === 0 && isSafeLong(val);\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    LongType.prototype._read = function(tap) {\n      var n = tap.readLong();\n      if (!isSafeLong(n)) {\n        throw new Error(\"potential precision loss\");\n      }\n      return n;\n    };\n    LongType.prototype._skip = function(tap) {\n      tap.skipLong();\n    };\n    LongType.prototype._write = function(tap, val) {\n      if (typeof val != \"number\" || val % 1 || !isSafeLong(val)) {\n        throwInvalidError(val, this);\n      }\n      tap.writeLong(val);\n    };\n    LongType.prototype._match = function(tap1, tap2) {\n      return tap1.matchLong(tap2);\n    };\n    LongType.prototype._update = function(resolver, type) {\n      switch (type.typeName) {\n        case \"int\":\n          resolver._read = type._read;\n          break;\n        case \"abstract:long\":\n        case \"long\":\n          resolver._read = this._read;\n      }\n    };\n    LongType.prototype.typeName = \"long\";\n    LongType.prototype.random = function() {\n      return RANDOM.nextInt();\n    };\n    LongType.__with = function(methods, noUnpack) {\n      methods = methods || {};\n      var mapping = {\n        toBuffer: \"_toBuffer\",\n        fromBuffer: \"_fromBuffer\",\n        fromJSON: \"_fromJSON\",\n        toJSON: \"_toJSON\",\n        isValid: \"_isValid\",\n        compare: \"compare\"\n      };\n      var type = new AbstractLongType(noUnpack);\n      Object.keys(mapping).forEach(function(name) {\n        if (methods[name] === void 0) {\n          throw new Error(f2(\"missing method implementation: %s\", name));\n        }\n        type[mapping[name]] = methods[name];\n      });\n      return Object.freeze(type);\n    };\n    function FloatType() {\n      PrimitiveType.call(this);\n    }\n    util.inherits(FloatType, PrimitiveType);\n    FloatType.prototype._check = function(val, flags, hook) {\n      var b2 = typeof val == \"number\";\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    FloatType.prototype._read = function(tap) {\n      return tap.readFloat();\n    };\n    FloatType.prototype._skip = function(tap) {\n      tap.skipFloat();\n    };\n    FloatType.prototype._write = function(tap, val) {\n      if (typeof val != \"number\") {\n        throwInvalidError(val, this);\n      }\n      tap.writeFloat(val);\n    };\n    FloatType.prototype._match = function(tap1, tap2) {\n      return tap1.matchFloat(tap2);\n    };\n    FloatType.prototype._update = function(resolver, type) {\n      switch (type.typeName) {\n        case \"float\":\n        case \"int\":\n          resolver._read = type._read;\n          break;\n        case \"abstract:long\":\n        case \"long\":\n          resolver._read = function(tap) {\n            return tap.readLong();\n          };\n      }\n    };\n    FloatType.prototype.typeName = \"float\";\n    FloatType.prototype.random = function() {\n      return RANDOM.nextFloat(1e3);\n    };\n    function DoubleType() {\n      PrimitiveType.call(this);\n    }\n    util.inherits(DoubleType, PrimitiveType);\n    DoubleType.prototype._check = function(val, flags, hook) {\n      var b2 = typeof val == \"number\";\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    DoubleType.prototype._read = function(tap) {\n      return tap.readDouble();\n    };\n    DoubleType.prototype._skip = function(tap) {\n      tap.skipDouble();\n    };\n    DoubleType.prototype._write = function(tap, val) {\n      if (typeof val != \"number\") {\n        throwInvalidError(val, this);\n      }\n      tap.writeDouble(val);\n    };\n    DoubleType.prototype._match = function(tap1, tap2) {\n      return tap1.matchDouble(tap2);\n    };\n    DoubleType.prototype._update = function(resolver, type) {\n      switch (type.typeName) {\n        case \"double\":\n        case \"float\":\n        case \"int\":\n          resolver._read = type._read;\n          break;\n        case \"abstract:long\":\n        case \"long\":\n          resolver._read = function(tap) {\n            return tap.readLong();\n          };\n      }\n    };\n    DoubleType.prototype.typeName = \"double\";\n    DoubleType.prototype.random = function() {\n      return RANDOM.nextFloat();\n    };\n    function StringType() {\n      PrimitiveType.call(this);\n    }\n    util.inherits(StringType, PrimitiveType);\n    StringType.prototype._check = function(val, flags, hook) {\n      var b2 = typeof val == \"string\";\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    StringType.prototype._read = function(tap) {\n      return tap.readString();\n    };\n    StringType.prototype._skip = function(tap) {\n      tap.skipString();\n    };\n    StringType.prototype._write = function(tap, val) {\n      if (typeof val != \"string\") {\n        throwInvalidError(val, this);\n      }\n      tap.writeString(val);\n    };\n    StringType.prototype._match = function(tap1, tap2) {\n      return tap1.matchString(tap2);\n    };\n    StringType.prototype._update = function(resolver, type) {\n      switch (type.typeName) {\n        case \"bytes\":\n        case \"string\":\n          resolver._read = this._read;\n      }\n    };\n    StringType.prototype.typeName = \"string\";\n    StringType.prototype.random = function() {\n      return RANDOM.nextString(RANDOM.nextInt(32));\n    };\n    function BytesType() {\n      PrimitiveType.call(this);\n    }\n    util.inherits(BytesType, PrimitiveType);\n    BytesType.prototype._check = function(val, flags, hook) {\n      var b2 = Buffer2.isBuffer(val);\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    BytesType.prototype._read = function(tap) {\n      return tap.readBytes();\n    };\n    BytesType.prototype._skip = function(tap) {\n      tap.skipBytes();\n    };\n    BytesType.prototype._write = function(tap, val) {\n      if (!Buffer2.isBuffer(val)) {\n        throwInvalidError(val, this);\n      }\n      tap.writeBytes(val);\n    };\n    BytesType.prototype._match = function(tap1, tap2) {\n      return tap1.matchBytes(tap2);\n    };\n    BytesType.prototype._update = StringType.prototype._update;\n    BytesType.prototype._copy = function(obj, opts) {\n      var buf;\n      switch ((opts && opts.coerce) | 0) {\n        case 3:\n          this._check(obj, void 0, throwInvalidError);\n          return obj.toString(\"binary\");\n        case 2:\n          if (typeof obj != \"string\") {\n            throw new Error(f2(\"cannot coerce to buffer: %j\", obj));\n          }\n          buf = utils.bufferFrom(obj, \"binary\");\n          this._check(buf, void 0, throwInvalidError);\n          return buf;\n        case 1:\n          if (!isJsonBuffer(obj)) {\n            throw new Error(f2(\"cannot coerce to buffer: %j\", obj));\n          }\n          buf = utils.bufferFrom(obj.data);\n          this._check(buf, void 0, throwInvalidError);\n          return buf;\n        default:\n          this._check(obj, void 0, throwInvalidError);\n          return utils.bufferFrom(obj);\n      }\n    };\n    BytesType.prototype.compare = Buffer2.compare;\n    BytesType.prototype.typeName = \"bytes\";\n    BytesType.prototype.random = function() {\n      return RANDOM.nextBuffer(RANDOM.nextInt(32));\n    };\n    function UnionType(schema, opts) {\n      Type.call(this);\n      if (!Array.isArray(schema)) {\n        throw new Error(f2(\"non-array union schema: %j\", schema));\n      }\n      if (!schema.length) {\n        throw new Error(\"empty union\");\n      }\n      this.types = Object.freeze(schema.map(function(obj) {\n        return Type.forSchema(obj, opts);\n      }));\n      this._branchIndices = {};\n      this.types.forEach(function(type, i) {\n        if (Type.isType(type, \"union\")) {\n          throw new Error(\"unions cannot be directly nested\");\n        }\n        var branch = type.branchName;\n        if (this._branchIndices[branch] !== void 0) {\n          throw new Error(f2(\"duplicate union branch name: %j\", branch));\n        }\n        this._branchIndices[branch] = i;\n      }, this);\n    }\n    util.inherits(UnionType, Type);\n    UnionType.prototype._branchConstructor = function() {\n      throw new Error(\"unions cannot be directly wrapped\");\n    };\n    UnionType.prototype._skip = function(tap) {\n      this.types[tap.readLong()]._skip(tap);\n    };\n    UnionType.prototype._match = function(tap1, tap2) {\n      var n1 = tap1.readLong();\n      var n2 = tap2.readLong();\n      if (n1 === n2) {\n        return this.types[n1]._match(tap1, tap2);\n      } else {\n        return n1 < n2 ? -1 : 1;\n      }\n    };\n    UnionType.prototype._deref = function(schema, opts) {\n      return this.types.map(function(t) {\n        return t._attrs(opts);\n      });\n    };\n    UnionType.prototype.getTypes = function() {\n      return this.types;\n    };\n    function UnwrappedUnionType(schema, opts) {\n      UnionType.call(this, schema, opts);\n      this._dynamicBranches = null;\n      this._bucketIndices = {};\n      this.types.forEach(function(type, index) {\n        if (Type.isType(type, \"abstract\", \"logical\")) {\n          if (!this._dynamicBranches) {\n            this._dynamicBranches = [];\n          }\n          this._dynamicBranches.push({ index, type });\n        } else {\n          var bucket = getTypeBucket(type);\n          if (this._bucketIndices[bucket] !== void 0) {\n            throw new Error(f2(\"ambiguous unwrapped union: %j\", this));\n          }\n          this._bucketIndices[bucket] = index;\n        }\n      }, this);\n      Object.freeze(this);\n    }\n    util.inherits(UnwrappedUnionType, UnionType);\n    UnwrappedUnionType.prototype._getIndex = function(val) {\n      var index = this._bucketIndices[getValueBucket(val)];\n      if (this._dynamicBranches) {\n        index = this._getBranchIndex(val, index);\n      }\n      return index;\n    };\n    UnwrappedUnionType.prototype._getBranchIndex = function(any, index) {\n      var logicalBranches = this._dynamicBranches;\n      var i, l, branch;\n      for (i = 0, l = logicalBranches.length; i < l; i++) {\n        branch = logicalBranches[i];\n        if (branch.type._check(any)) {\n          if (index === void 0) {\n            index = branch.index;\n          } else {\n            throw new Error(\"ambiguous conversion\");\n          }\n        }\n      }\n      return index;\n    };\n    UnwrappedUnionType.prototype._check = function(val, flags, hook, path) {\n      var index = this._getIndex(val);\n      var b2 = index !== void 0;\n      if (b2) {\n        return this.types[index]._check(val, flags, hook, path);\n      }\n      if (hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    UnwrappedUnionType.prototype._read = function(tap) {\n      var index = tap.readLong();\n      var branchType = this.types[index];\n      if (branchType) {\n        return branchType._read(tap);\n      } else {\n        throw new Error(f2(\"invalid union index: %s\", index));\n      }\n    };\n    UnwrappedUnionType.prototype._write = function(tap, val) {\n      var index = this._getIndex(val);\n      if (index === void 0) {\n        throwInvalidError(val, this);\n      }\n      tap.writeLong(index);\n      if (val !== null) {\n        this.types[index]._write(tap, val);\n      }\n    };\n    UnwrappedUnionType.prototype._update = function(resolver, type, opts) {\n      var i, l, typeResolver;\n      for (i = 0, l = this.types.length; i < l; i++) {\n        try {\n          typeResolver = this.types[i].createResolver(type, opts);\n        } catch (err) {\n          continue;\n        }\n        resolver._read = function(tap) {\n          return typeResolver._read(tap);\n        };\n        return;\n      }\n    };\n    UnwrappedUnionType.prototype._copy = function(val, opts) {\n      var coerce = opts && opts.coerce | 0;\n      var wrap = opts && opts.wrap | 0;\n      var index;\n      if (wrap === 2) {\n        index = 0;\n      } else {\n        switch (coerce) {\n          case 1:\n            if (isJsonBuffer(val) && this._bucketIndices.buffer !== void 0) {\n              index = this._bucketIndices.buffer;\n            } else {\n              index = this._getIndex(val);\n            }\n            break;\n          case 2:\n            if (val === null) {\n              index = this._bucketIndices[\"null\"];\n            } else if (typeof val === \"object\") {\n              var keys = Object.keys(val);\n              if (keys.length === 1) {\n                index = this._branchIndices[keys[0]];\n                val = val[keys[0]];\n              }\n            }\n            break;\n          default:\n            index = this._getIndex(val);\n        }\n        if (index === void 0) {\n          throwInvalidError(val, this);\n        }\n      }\n      var type = this.types[index];\n      if (val === null || wrap === 3) {\n        return type._copy(val, opts);\n      } else {\n        switch (coerce) {\n          case 3:\n            var obj = {};\n            obj[type.branchName] = type._copy(val, opts);\n            return obj;\n          default:\n            return type._copy(val, opts);\n        }\n      }\n    };\n    UnwrappedUnionType.prototype.compare = function(val1, val2) {\n      var index1 = this._getIndex(val1);\n      var index2 = this._getIndex(val2);\n      if (index1 === void 0) {\n        throwInvalidError(val1, this);\n      } else if (index2 === void 0) {\n        throwInvalidError(val2, this);\n      } else if (index1 === index2) {\n        return this.types[index1].compare(val1, val2);\n      } else {\n        return utils.compare(index1, index2);\n      }\n    };\n    UnwrappedUnionType.prototype.typeName = \"union:unwrapped\";\n    UnwrappedUnionType.prototype.random = function() {\n      var index = RANDOM.nextInt(this.types.length);\n      return this.types[index].random();\n    };\n    function WrappedUnionType(schema, opts) {\n      UnionType.call(this, schema, opts);\n      Object.freeze(this);\n    }\n    util.inherits(WrappedUnionType, UnionType);\n    WrappedUnionType.prototype._check = function(val, flags, hook, path) {\n      var b2 = false;\n      if (val === null) {\n        b2 = this._branchIndices[\"null\"] !== void 0;\n      } else if (typeof val == \"object\") {\n        var keys = Object.keys(val);\n        if (keys.length === 1) {\n          var name = keys[0];\n          var index = this._branchIndices[name];\n          if (index !== void 0) {\n            if (hook) {\n              path.push(name);\n              b2 = this.types[index]._check(val[name], flags, hook, path);\n              path.pop();\n              return b2;\n            } else {\n              return this.types[index]._check(val[name], flags);\n            }\n          }\n        }\n      }\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    WrappedUnionType.prototype._read = function(tap) {\n      var type = this.types[tap.readLong()];\n      if (!type) {\n        throw new Error(f2(\"invalid union index\"));\n      }\n      var Branch = type._branchConstructor;\n      if (Branch === null) {\n        return null;\n      } else {\n        return new Branch(type._read(tap));\n      }\n    };\n    WrappedUnionType.prototype._write = function(tap, val) {\n      var index, keys, name;\n      if (val === null) {\n        index = this._branchIndices[\"null\"];\n        if (index === void 0) {\n          throwInvalidError(val, this);\n        }\n        tap.writeLong(index);\n      } else {\n        keys = Object.keys(val);\n        if (keys.length === 1) {\n          name = keys[0];\n          index = this._branchIndices[name];\n        }\n        if (index === void 0) {\n          throwInvalidError(val, this);\n        }\n        tap.writeLong(index);\n        this.types[index]._write(tap, val[name]);\n      }\n    };\n    WrappedUnionType.prototype._update = function(resolver, type, opts) {\n      var i, l, typeResolver, Branch;\n      for (i = 0, l = this.types.length; i < l; i++) {\n        try {\n          typeResolver = this.types[i].createResolver(type, opts);\n        } catch (err) {\n          continue;\n        }\n        Branch = this.types[i]._branchConstructor;\n        if (Branch) {\n          resolver._read = function(tap) {\n            return new Branch(typeResolver._read(tap));\n          };\n        } else {\n          resolver._read = function() {\n            return null;\n          };\n        }\n        return;\n      }\n    };\n    WrappedUnionType.prototype._copy = function(val, opts) {\n      var wrap = opts && opts.wrap | 0;\n      if (wrap === 2) {\n        var firstType = this.types[0];\n        if (val === null && firstType.typeName === \"null\") {\n          return null;\n        }\n        return new firstType._branchConstructor(firstType._copy(val, opts));\n      }\n      if (val === null && this._branchIndices[\"null\"] !== void 0) {\n        return null;\n      }\n      var i, l, obj;\n      if (typeof val == \"object\") {\n        var keys = Object.keys(val);\n        if (keys.length === 1) {\n          var name = keys[0];\n          i = this._branchIndices[name];\n          if (i === void 0 && opts.qualifyNames) {\n            var j2, type;\n            for (j2 = 0, l = this.types.length; j2 < l; j2++) {\n              type = this.types[j2];\n              if (type.name && name === utils.unqualify(type.name)) {\n                i = j2;\n                break;\n              }\n            }\n          }\n          if (i !== void 0) {\n            obj = this.types[i]._copy(val[name], opts);\n          }\n        }\n      }\n      if (wrap === 1 && obj === void 0) {\n        i = 0;\n        l = this.types.length;\n        while (i < l && obj === void 0) {\n          try {\n            obj = this.types[i]._copy(val, opts);\n          } catch (err) {\n            i++;\n          }\n        }\n      }\n      if (obj !== void 0) {\n        return wrap === 3 ? obj : new this.types[i]._branchConstructor(obj);\n      }\n      throwInvalidError(val, this);\n    };\n    WrappedUnionType.prototype.compare = function(val1, val2) {\n      var name1 = val1 === null ? \"null\" : Object.keys(val1)[0];\n      var name2 = val2 === null ? \"null\" : Object.keys(val2)[0];\n      var index = this._branchIndices[name1];\n      if (name1 === name2) {\n        return name1 === \"null\" ? 0 : this.types[index].compare(val1[name1], val2[name1]);\n      } else {\n        return utils.compare(index, this._branchIndices[name2]);\n      }\n    };\n    WrappedUnionType.prototype.typeName = \"union:wrapped\";\n    WrappedUnionType.prototype.random = function() {\n      var index = RANDOM.nextInt(this.types.length);\n      var type = this.types[index];\n      var Branch = type._branchConstructor;\n      if (!Branch) {\n        return null;\n      }\n      return new Branch(type.random());\n    };\n    function EnumType(schema, opts) {\n      Type.call(this, schema, opts);\n      if (!Array.isArray(schema.symbols) || !schema.symbols.length) {\n        throw new Error(f2(\"invalid enum symbols: %j\", schema.symbols));\n      }\n      this.symbols = Object.freeze(schema.symbols.slice());\n      this._indices = {};\n      this.symbols.forEach(function(symbol, i) {\n        if (!utils.isValidName(symbol)) {\n          throw new Error(f2(\"invalid %s symbol: %j\", this, symbol));\n        }\n        if (this._indices[symbol] !== void 0) {\n          throw new Error(f2(\"duplicate %s symbol: %j\", this, symbol));\n        }\n        this._indices[symbol] = i;\n      }, this);\n      this.default = schema.default;\n      if (this.default !== void 0 && this._indices[this.default] === void 0) {\n        throw new Error(f2(\"invalid %s default: %j\", this, this.default));\n      }\n      this._branchConstructor = this._createBranchConstructor();\n      Object.freeze(this);\n    }\n    util.inherits(EnumType, Type);\n    EnumType.prototype._check = function(val, flags, hook) {\n      var b2 = this._indices[val] !== void 0;\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    EnumType.prototype._read = function(tap) {\n      var index = tap.readLong();\n      var symbol = this.symbols[index];\n      if (symbol === void 0) {\n        throw new Error(f2(\"invalid %s enum index: %s\", this.name, index));\n      }\n      return symbol;\n    };\n    EnumType.prototype._skip = function(tap) {\n      tap.skipLong();\n    };\n    EnumType.prototype._write = function(tap, val) {\n      var index = this._indices[val];\n      if (index === void 0) {\n        throwInvalidError(val, this);\n      }\n      tap.writeLong(index);\n    };\n    EnumType.prototype._match = function(tap1, tap2) {\n      return tap1.matchLong(tap2);\n    };\n    EnumType.prototype.compare = function(val1, val2) {\n      return utils.compare(this._indices[val1], this._indices[val2]);\n    };\n    EnumType.prototype._update = function(resolver, type, opts) {\n      var symbols = this.symbols;\n      if (type.typeName === \"enum\" && hasCompatibleName(this, type, !opts.ignoreNamespaces) && (type.symbols.every(function(s) {\n        return ~symbols.indexOf(s);\n      }) || this.default !== void 0)) {\n        resolver.symbols = type.symbols.map(function(s) {\n          return this._indices[s] === void 0 ? this.default : s;\n        }, this);\n        resolver._read = type._read;\n      }\n    };\n    EnumType.prototype._copy = function(val) {\n      this._check(val, void 0, throwInvalidError);\n      return val;\n    };\n    EnumType.prototype._deref = function(schema) {\n      schema.symbols = this.symbols;\n    };\n    EnumType.prototype.getSymbols = function() {\n      return this.symbols;\n    };\n    EnumType.prototype.typeName = \"enum\";\n    EnumType.prototype.random = function() {\n      return RANDOM.choice(this.symbols);\n    };\n    function FixedType(schema, opts) {\n      Type.call(this, schema, opts);\n      if (schema.size !== (schema.size | 0) || schema.size < 0) {\n        throw new Error(f2(\"invalid %s size\", this.branchName));\n      }\n      this.size = schema.size | 0;\n      this._branchConstructor = this._createBranchConstructor();\n      Object.freeze(this);\n    }\n    util.inherits(FixedType, Type);\n    FixedType.prototype._check = function(val, flags, hook) {\n      var b2 = Buffer2.isBuffer(val) && val.length === this.size;\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    FixedType.prototype._read = function(tap) {\n      return tap.readFixed(this.size);\n    };\n    FixedType.prototype._skip = function(tap) {\n      tap.skipFixed(this.size);\n    };\n    FixedType.prototype._write = function(tap, val) {\n      if (!Buffer2.isBuffer(val) || val.length !== this.size) {\n        throwInvalidError(val, this);\n      }\n      tap.writeFixed(val, this.size);\n    };\n    FixedType.prototype._match = function(tap1, tap2) {\n      return tap1.matchFixed(tap2, this.size);\n    };\n    FixedType.prototype.compare = Buffer2.compare;\n    FixedType.prototype._update = function(resolver, type, opts) {\n      if (type.typeName === \"fixed\" && this.size === type.size && hasCompatibleName(this, type, !opts.ignoreNamespaces)) {\n        resolver.size = this.size;\n        resolver._read = this._read;\n      }\n    };\n    FixedType.prototype._copy = BytesType.prototype._copy;\n    FixedType.prototype._deref = function(schema) {\n      schema.size = this.size;\n    };\n    FixedType.prototype.getSize = function() {\n      return this.size;\n    };\n    FixedType.prototype.typeName = \"fixed\";\n    FixedType.prototype.random = function() {\n      return RANDOM.nextBuffer(this.size);\n    };\n    function MapType(schema, opts) {\n      Type.call(this);\n      if (!schema.values) {\n        throw new Error(f2(\"missing map values: %j\", schema));\n      }\n      this.valuesType = Type.forSchema(schema.values, opts);\n      this._branchConstructor = this._createBranchConstructor();\n      Object.freeze(this);\n    }\n    util.inherits(MapType, Type);\n    MapType.prototype._check = function(val, flags, hook, path) {\n      if (!val || typeof val != \"object\" || Array.isArray(val)) {\n        if (hook) {\n          hook(val, this);\n        }\n        return false;\n      }\n      var keys = Object.keys(val);\n      var b2 = true;\n      var i, l, j2, key;\n      if (hook) {\n        j2 = path.length;\n        path.push(\"\");\n        for (i = 0, l = keys.length; i < l; i++) {\n          key = path[j2] = keys[i];\n          if (!this.valuesType._check(val[key], flags, hook, path)) {\n            b2 = false;\n          }\n        }\n        path.pop();\n      } else {\n        for (i = 0, l = keys.length; i < l; i++) {\n          if (!this.valuesType._check(val[keys[i]], flags)) {\n            return false;\n          }\n        }\n      }\n      return b2;\n    };\n    MapType.prototype._read = function(tap) {\n      var values = this.valuesType;\n      var val = {};\n      var n;\n      while (n = readArraySize(tap)) {\n        while (n--) {\n          var key = tap.readString();\n          val[key] = values._read(tap);\n        }\n      }\n      return val;\n    };\n    MapType.prototype._skip = function(tap) {\n      var values = this.valuesType;\n      var len, n;\n      while (n = tap.readLong()) {\n        if (n < 0) {\n          len = tap.readLong();\n          tap.pos += len;\n        } else {\n          while (n--) {\n            tap.skipString();\n            values._skip(tap);\n          }\n        }\n      }\n    };\n    MapType.prototype._write = function(tap, val) {\n      if (!val || typeof val != \"object\" || Array.isArray(val)) {\n        throwInvalidError(val, this);\n      }\n      var values = this.valuesType;\n      var keys = Object.keys(val);\n      var n = keys.length;\n      var i, key;\n      if (n) {\n        tap.writeLong(n);\n        for (i = 0; i < n; i++) {\n          key = keys[i];\n          tap.writeString(key);\n          values._write(tap, val[key]);\n        }\n      }\n      tap.writeLong(0);\n    };\n    MapType.prototype._match = function() {\n      throw new Error(\"maps cannot be compared\");\n    };\n    MapType.prototype._update = function(rsv, type, opts) {\n      if (type.typeName === \"map\") {\n        rsv.valuesType = this.valuesType.createResolver(type.valuesType, opts);\n        rsv._read = this._read;\n      }\n    };\n    MapType.prototype._copy = function(val, opts) {\n      if (val && typeof val == \"object\" && !Array.isArray(val)) {\n        var values = this.valuesType;\n        var keys = Object.keys(val);\n        var i, l, key;\n        var copy = {};\n        for (i = 0, l = keys.length; i < l; i++) {\n          key = keys[i];\n          copy[key] = values._copy(val[key], opts);\n        }\n        return copy;\n      }\n      throwInvalidError(val, this);\n    };\n    MapType.prototype.compare = MapType.prototype._match;\n    MapType.prototype.typeName = \"map\";\n    MapType.prototype.getValuesType = function() {\n      return this.valuesType;\n    };\n    MapType.prototype.random = function() {\n      var val = {};\n      var i, l;\n      for (i = 0, l = RANDOM.nextInt(10); i < l; i++) {\n        val[RANDOM.nextString(RANDOM.nextInt(20))] = this.valuesType.random();\n      }\n      return val;\n    };\n    MapType.prototype._deref = function(schema, opts) {\n      schema.values = this.valuesType._attrs(opts);\n    };\n    function ArrayType(schema, opts) {\n      Type.call(this);\n      if (!schema.items) {\n        throw new Error(f2(\"missing array items: %j\", schema));\n      }\n      this.itemsType = Type.forSchema(schema.items, opts);\n      this._branchConstructor = this._createBranchConstructor();\n      Object.freeze(this);\n    }\n    util.inherits(ArrayType, Type);\n    ArrayType.prototype._check = function(val, flags, hook, path) {\n      if (!Array.isArray(val)) {\n        if (hook) {\n          hook(val, this);\n        }\n        return false;\n      }\n      var items = this.itemsType;\n      var b2 = true;\n      var i, l, j2;\n      if (hook) {\n        j2 = path.length;\n        path.push(\"\");\n        for (i = 0, l = val.length; i < l; i++) {\n          path[j2] = \"\" + i;\n          if (!items._check(val[i], flags, hook, path)) {\n            b2 = false;\n          }\n        }\n        path.pop();\n      } else {\n        for (i = 0, l = val.length; i < l; i++) {\n          if (!items._check(val[i], flags)) {\n            return false;\n          }\n        }\n      }\n      return b2;\n    };\n    ArrayType.prototype._read = function(tap) {\n      var items = this.itemsType;\n      var i = 0;\n      var val, n;\n      while (n = tap.readLong()) {\n        if (n < 0) {\n          n = -n;\n          tap.skipLong();\n        }\n        val = val || new Array(n);\n        while (n--) {\n          val[i++] = items._read(tap);\n        }\n      }\n      return val || [];\n    };\n    ArrayType.prototype._skip = function(tap) {\n      var items = this.itemsType;\n      var len, n;\n      while (n = tap.readLong()) {\n        if (n < 0) {\n          len = tap.readLong();\n          tap.pos += len;\n        } else {\n          while (n--) {\n            items._skip(tap);\n          }\n        }\n      }\n    };\n    ArrayType.prototype._write = function(tap, val) {\n      if (!Array.isArray(val)) {\n        throwInvalidError(val, this);\n      }\n      var items = this.itemsType;\n      var n = val.length;\n      var i;\n      if (n) {\n        tap.writeLong(n);\n        for (i = 0; i < n; i++) {\n          items._write(tap, val[i]);\n        }\n      }\n      tap.writeLong(0);\n    };\n    ArrayType.prototype._match = function(tap1, tap2) {\n      var n1 = tap1.readLong();\n      var n2 = tap2.readLong();\n      var f3;\n      while (n1 && n2) {\n        f3 = this.itemsType._match(tap1, tap2);\n        if (f3) {\n          return f3;\n        }\n        if (!--n1) {\n          n1 = readArraySize(tap1);\n        }\n        if (!--n2) {\n          n2 = readArraySize(tap2);\n        }\n      }\n      return utils.compare(n1, n2);\n    };\n    ArrayType.prototype._update = function(resolver, type, opts) {\n      if (type.typeName === \"array\") {\n        resolver.itemsType = this.itemsType.createResolver(type.itemsType, opts);\n        resolver._read = this._read;\n      }\n    };\n    ArrayType.prototype._copy = function(val, opts) {\n      if (!Array.isArray(val)) {\n        throwInvalidError(val, this);\n      }\n      var items = new Array(val.length);\n      var i, l;\n      for (i = 0, l = val.length; i < l; i++) {\n        items[i] = this.itemsType._copy(val[i], opts);\n      }\n      return items;\n    };\n    ArrayType.prototype._deref = function(schema, opts) {\n      schema.items = this.itemsType._attrs(opts);\n    };\n    ArrayType.prototype.compare = function(val1, val2) {\n      var n1 = val1.length;\n      var n2 = val2.length;\n      var i, l, f3;\n      for (i = 0, l = Math.min(n1, n2); i < l; i++) {\n        if (f3 = this.itemsType.compare(val1[i], val2[i])) {\n          return f3;\n        }\n      }\n      return utils.compare(n1, n2);\n    };\n    ArrayType.prototype.getItemsType = function() {\n      return this.itemsType;\n    };\n    ArrayType.prototype.typeName = \"array\";\n    ArrayType.prototype.random = function() {\n      var arr = [];\n      var i, l;\n      for (i = 0, l = RANDOM.nextInt(10); i < l; i++) {\n        arr.push(this.itemsType.random());\n      }\n      return arr;\n    };\n    function RecordType(schema, opts) {\n      opts = opts || {};\n      var namespace = opts.namespace;\n      if (schema.namespace !== void 0) {\n        opts.namespace = schema.namespace;\n      } else if (schema.name) {\n        var ns = utils.impliedNamespace(schema.name);\n        if (ns !== void 0) {\n          opts.namespace = ns;\n        }\n      }\n      Type.call(this, schema, opts);\n      if (!Array.isArray(schema.fields)) {\n        throw new Error(f2(\"non-array record fields: %j\", schema.fields));\n      }\n      if (utils.hasDuplicates(schema.fields, function(f3) {\n        return f3.name;\n      })) {\n        throw new Error(f2(\"duplicate field name: %j\", schema.fields));\n      }\n      this._fieldsByName = {};\n      this.fields = Object.freeze(schema.fields.map(function(f3) {\n        var field = new Field(f3, opts);\n        this._fieldsByName[field.name] = field;\n        return field;\n      }, this));\n      this._branchConstructor = this._createBranchConstructor();\n      this._isError = schema.type === \"error\";\n      this.recordConstructor = this._createConstructor(\n        opts.errorStackTraces,\n        opts.omitRecordMethods\n      );\n      this._read = this._createReader();\n      this._skip = this._createSkipper();\n      this._write = this._createWriter();\n      this._check = this._createChecker();\n      opts.namespace = namespace;\n      Object.freeze(this);\n    }\n    util.inherits(RecordType, Type);\n    RecordType.prototype._getConstructorName = function() {\n      return this.name ? utils.capitalize(utils.unqualify(this.name)) : this._isError ? \"Error$\" : \"Record$\";\n    };\n    RecordType.prototype._createConstructor = function(errorStack, plainRecords) {\n      var outerArgs = [];\n      var innerArgs = [];\n      var ds = [];\n      var innerBody = \"\";\n      var i, l, field, name, defaultValue, hasDefault, stackField;\n      for (i = 0, l = this.fields.length; i < l; i++) {\n        field = this.fields[i];\n        defaultValue = field.defaultValue;\n        hasDefault = defaultValue() !== void 0;\n        name = field.name;\n        if (errorStack && this._isError && name === \"stack\" && Type.isType(field.type, \"string\") && !hasDefault) {\n          stackField = field;\n        }\n        innerArgs.push(\"v\" + i);\n        innerBody += \"  \";\n        if (!hasDefault) {\n          innerBody += \"this.\" + name + \" = v\" + i + \";\\n\";\n        } else {\n          innerBody += \"if (v\" + i + \" === undefined) { \";\n          innerBody += \"this.\" + name + \" = d\" + ds.length + \"(); \";\n          innerBody += \"} else { this.\" + name + \" = v\" + i + \"; }\\n\";\n          outerArgs.push(\"d\" + ds.length);\n          ds.push(defaultValue);\n        }\n      }\n      if (stackField) {\n        innerBody += \"  if (this.stack === undefined) { \";\n        if (typeof Error.captureStackTrace == \"function\") {\n          innerBody += \"Error.captureStackTrace(this, this.constructor);\";\n        } else {\n          innerBody += \"this.stack = Error().stack;\";\n        }\n        innerBody += \" }\\n\";\n      }\n      var outerBody = \"return function \" + this._getConstructorName() + \"(\";\n      outerBody += innerArgs.join() + \") {\\n\" + innerBody + \"};\";\n      var Record = new Function(outerArgs.join(), outerBody).apply(void 0, ds);\n      if (plainRecords) {\n        return Record;\n      }\n      var self = this;\n      Record.getType = function() {\n        return self;\n      };\n      Record.type = self;\n      if (this._isError) {\n        util.inherits(Record, Error);\n        Record.prototype.name = this._getConstructorName();\n      }\n      Record.prototype.clone = function(o) {\n        return self.clone(this, o);\n      };\n      Record.prototype.compare = function(v2) {\n        return self.compare(this, v2);\n      };\n      Record.prototype.isValid = function(o) {\n        return self.isValid(this, o);\n      };\n      Record.prototype.toBuffer = function() {\n        return self.toBuffer(this);\n      };\n      Record.prototype.toString = function() {\n        return self.toString(this);\n      };\n      Record.prototype.wrap = function() {\n        return self.wrap(this);\n      };\n      Record.prototype.wrapped = Record.prototype.wrap;\n      return Record;\n    };\n    RecordType.prototype._createChecker = function() {\n      var names = [];\n      var values = [];\n      var name = this._getConstructorName();\n      var body = \"return function check\" + name + \"(v, f, h, p) {\\n\";\n      body += \"  if (\\n\";\n      body += \"    v === null ||\\n\";\n      body += \"    typeof v != 'object' ||\\n\";\n      body += \"    (f && !this._checkFields(v))\\n\";\n      body += \"  ) {\\n\";\n      body += \"    if (h) { h(v, this); }\\n\";\n      body += \"    return false;\\n\";\n      body += \"  }\\n\";\n      if (!this.fields.length) {\n        body += \"  return true;\\n\";\n      } else {\n        for (i = 0, l = this.fields.length; i < l; i++) {\n          field = this.fields[i];\n          names.push(\"t\" + i);\n          values.push(field.type);\n          if (field.defaultValue() !== void 0) {\n            body += \"  var v\" + i + \" = v.\" + field.name + \";\\n\";\n          }\n        }\n        body += \"  if (h) {\\n\";\n        body += \"    var b = 1;\\n\";\n        body += \"    var j = p.length;\\n\";\n        body += \"    p.push('');\\n\";\n        var i, l, field;\n        for (i = 0, l = this.fields.length; i < l; i++) {\n          field = this.fields[i];\n          body += \"    p[j] = '\" + field.name + \"';\\n\";\n          body += \"    b &= \";\n          if (field.defaultValue() === void 0) {\n            body += \"t\" + i + \"._check(v.\" + field.name + \", f, h, p);\\n\";\n          } else {\n            body += \"v\" + i + \" === undefined || \";\n            body += \"t\" + i + \"._check(v\" + i + \", f, h, p);\\n\";\n          }\n        }\n        body += \"    p.pop();\\n\";\n        body += \"    return !!b;\\n\";\n        body += \"  } else {\\n    return (\\n      \";\n        body += this.fields.map(function(field2, i2) {\n          return field2.defaultValue() === void 0 ? \"t\" + i2 + \"._check(v.\" + field2.name + \", f)\" : \"(v\" + i2 + \" === undefined || t\" + i2 + \"._check(v\" + i2 + \", f))\";\n        }).join(\" &&\\n      \");\n        body += \"\\n    );\\n  }\\n\";\n      }\n      body += \"};\";\n      return new Function(names.join(), body).apply(void 0, values);\n    };\n    RecordType.prototype._createReader = function() {\n      var names = [];\n      var values = [this.recordConstructor];\n      var i, l;\n      for (i = 0, l = this.fields.length; i < l; i++) {\n        names.push(\"t\" + i);\n        values.push(this.fields[i].type);\n      }\n      var name = this._getConstructorName();\n      var body = \"return function read\" + name + \"(t) {\\n\";\n      body += \"  return new \" + name + \"(\\n    \";\n      body += names.map(function(s) {\n        return s + \"._read(t)\";\n      }).join(\",\\n    \");\n      body += \"\\n  );\\n};\";\n      names.unshift(name);\n      return new Function(names.join(), body).apply(void 0, values);\n    };\n    RecordType.prototype._createSkipper = function() {\n      var args = [];\n      var body = \"return function skip\" + this._getConstructorName() + \"(t) {\\n\";\n      var values = [];\n      var i, l;\n      for (i = 0, l = this.fields.length; i < l; i++) {\n        args.push(\"t\" + i);\n        values.push(this.fields[i].type);\n        body += \"  t\" + i + \"._skip(t);\\n\";\n      }\n      body += \"}\";\n      return new Function(args.join(), body).apply(void 0, values);\n    };\n    RecordType.prototype._createWriter = function() {\n      var args = [];\n      var name = this._getConstructorName();\n      var body = \"return function write\" + name + \"(t, v) {\\n\";\n      var values = [];\n      var i, l, field, value;\n      for (i = 0, l = this.fields.length; i < l; i++) {\n        field = this.fields[i];\n        args.push(\"t\" + i);\n        values.push(field.type);\n        body += \"  \";\n        if (field.defaultValue() === void 0) {\n          body += \"t\" + i + \"._write(t, v.\" + field.name + \");\\n\";\n        } else {\n          value = field.type.toBuffer(field.defaultValue()).toString(\"binary\");\n          args.push(\"d\" + i);\n          values.push(value);\n          body += \"var v\" + i + \" = v.\" + field.name + \";\\n\";\n          body += \"if (v\" + i + \" === undefined) {\\n\";\n          body += \"    t.writeBinary(d\" + i + \", \" + value.length + \");\\n\";\n          body += \"  } else {\\n    t\" + i + \"._write(t, v\" + i + \");\\n  }\\n\";\n        }\n      }\n      body += \"}\";\n      return new Function(args.join(), body).apply(void 0, values);\n    };\n    RecordType.prototype._update = function(resolver, type, opts) {\n      if (!hasCompatibleName(this, type, !opts.ignoreNamespaces)) {\n        throw new Error(f2(\"no alias found for %s\", type.name));\n      }\n      var rFields = this.fields;\n      var wFields = type.fields;\n      var wFieldsMap = utils.toMap(wFields, function(f3) {\n        return f3.name;\n      });\n      var innerArgs = [];\n      var resolvers = {};\n      var i, j2, field, name, names, matches, fieldResolver;\n      for (i = 0; i < rFields.length; i++) {\n        field = rFields[i];\n        names = getAliases(field);\n        matches = [];\n        for (j2 = 0; j2 < names.length; j2++) {\n          name = names[j2];\n          if (wFieldsMap[name]) {\n            matches.push(name);\n          }\n        }\n        if (matches.length > 1) {\n          throw new Error(\n            f2(\"ambiguous aliasing for %s.%s (%s)\", type.name, field.name, matches)\n          );\n        }\n        if (!matches.length) {\n          if (field.defaultValue() === void 0) {\n            throw new Error(\n              f2(\"no matching field for default-less %s.%s\", type.name, field.name)\n            );\n          }\n          innerArgs.push(\"undefined\");\n        } else {\n          name = matches[0];\n          fieldResolver = {\n            resolver: field.type.createResolver(wFieldsMap[name].type, opts),\n            name: \"_\" + field.name\n            // Reader field name.\n          };\n          if (!resolvers[name]) {\n            resolvers[name] = [fieldResolver];\n          } else {\n            resolvers[name].push(fieldResolver);\n          }\n          innerArgs.push(fieldResolver.name);\n        }\n      }\n      var lazyIndex = -1;\n      i = wFields.length;\n      while (i && resolvers[wFields[--i].name] === void 0) {\n        lazyIndex = i;\n      }\n      var uname = this._getConstructorName();\n      var args = [uname];\n      var values = [this.recordConstructor];\n      var body = \"  return function read\" + uname + \"(t, b) {\\n\";\n      for (i = 0; i < wFields.length; i++) {\n        if (i === lazyIndex) {\n          body += \"  if (!b) {\\n\";\n        }\n        field = type.fields[i];\n        name = field.name;\n        if (resolvers[name] === void 0) {\n          body += ~lazyIndex && i >= lazyIndex ? \"    \" : \"  \";\n          args.push(\"r\" + i);\n          values.push(field.type);\n          body += \"r\" + i + \"._skip(t);\\n\";\n        } else {\n          j2 = resolvers[name].length;\n          while (j2--) {\n            body += ~lazyIndex && i >= lazyIndex ? \"    \" : \"  \";\n            args.push(\"r\" + i + \"f\" + j2);\n            fieldResolver = resolvers[name][j2];\n            values.push(fieldResolver.resolver);\n            body += \"var \" + fieldResolver.name + \" = \";\n            body += \"r\" + i + \"f\" + j2 + \"._\" + (j2 ? \"peek\" : \"read\") + \"(t);\\n\";\n          }\n        }\n      }\n      if (~lazyIndex) {\n        body += \"  }\\n\";\n      }\n      body += \"  return new \" + uname + \"(\" + innerArgs.join() + \");\\n};\";\n      resolver._read = new Function(args.join(), body).apply(void 0, values);\n    };\n    RecordType.prototype._match = function(tap1, tap2) {\n      var fields = this.fields;\n      var i, l, field, order, type;\n      for (i = 0, l = fields.length; i < l; i++) {\n        field = fields[i];\n        order = field._order;\n        type = field.type;\n        if (order) {\n          order *= type._match(tap1, tap2);\n          if (order) {\n            return order;\n          }\n        } else {\n          type._skip(tap1);\n          type._skip(tap2);\n        }\n      }\n      return 0;\n    };\n    RecordType.prototype._checkFields = function(obj) {\n      var keys = Object.keys(obj);\n      var i, l;\n      for (i = 0, l = keys.length; i < l; i++) {\n        if (!this._fieldsByName[keys[i]]) {\n          return false;\n        }\n      }\n      return true;\n    };\n    RecordType.prototype._copy = function(val, opts) {\n      var hook = opts && opts.fieldHook;\n      var values = [void 0];\n      var i, l, field, value;\n      for (i = 0, l = this.fields.length; i < l; i++) {\n        field = this.fields[i];\n        value = val[field.name];\n        if (value === void 0 && field.hasOwnProperty(\"defaultValue\")) {\n          value = field.defaultValue();\n        }\n        if (opts && !opts.skip || value !== void 0) {\n          value = field.type._copy(value, opts);\n        }\n        if (hook) {\n          value = hook(field, value, this);\n        }\n        values.push(value);\n      }\n      var Record = this.recordConstructor;\n      return new (Record.bind.apply(Record, values))();\n    };\n    RecordType.prototype._deref = function(schema, opts) {\n      schema.fields = this.fields.map(function(field) {\n        var fieldType = field.type;\n        var fieldSchema = {\n          name: field.name,\n          type: fieldType._attrs(opts)\n        };\n        if (opts.exportAttrs) {\n          var val = field.defaultValue();\n          if (val !== void 0) {\n            fieldSchema[\"default\"] = fieldType._copy(val, { coerce: 3, wrap: 3 });\n          }\n          var fieldOrder = field.order;\n          if (fieldOrder !== \"ascending\") {\n            fieldSchema.order = fieldOrder;\n          }\n          var fieldAliases = field.aliases;\n          if (fieldAliases.length) {\n            fieldSchema.aliases = fieldAliases;\n          }\n          var fieldDoc = field.doc;\n          if (fieldDoc !== void 0) {\n            fieldSchema.doc = fieldDoc;\n          }\n        }\n        return fieldSchema;\n      });\n    };\n    RecordType.prototype.compare = function(val1, val2) {\n      var fields = this.fields;\n      var i, l, field, name, order, type;\n      for (i = 0, l = fields.length; i < l; i++) {\n        field = fields[i];\n        name = field.name;\n        order = field._order;\n        type = field.type;\n        if (order) {\n          order *= type.compare(val1[name], val2[name]);\n          if (order) {\n            return order;\n          }\n        }\n      }\n      return 0;\n    };\n    RecordType.prototype.random = function() {\n      var fields = this.fields.map(function(f3) {\n        return f3.type.random();\n      });\n      fields.unshift(void 0);\n      var Record = this.recordConstructor;\n      return new (Record.bind.apply(Record, fields))();\n    };\n    RecordType.prototype.field = function(name) {\n      return this._fieldsByName[name];\n    };\n    RecordType.prototype.getField = RecordType.prototype.field;\n    RecordType.prototype.getFields = function() {\n      return this.fields;\n    };\n    RecordType.prototype.getRecordConstructor = function() {\n      return this.recordConstructor;\n    };\n    Object.defineProperty(RecordType.prototype, \"typeName\", {\n      enumerable: true,\n      get: function() {\n        return this._isError ? \"error\" : \"record\";\n      }\n    });\n    function LogicalType(schema, opts) {\n      this._logicalTypeName = schema.logicalType;\n      Type.call(this);\n      LOGICAL_TYPE = this;\n      try {\n        this._underlyingType = Type.forSchema(schema, opts);\n      } finally {\n        LOGICAL_TYPE = null;\n        var l = UNDERLYING_TYPES.length;\n        if (l && UNDERLYING_TYPES[l - 1][0] === this) {\n          UNDERLYING_TYPES.pop();\n        }\n      }\n      if (Type.isType(this.underlyingType, \"union\")) {\n        this._branchConstructor = this.underlyingType._branchConstructor;\n      } else {\n        this._branchConstructor = this.underlyingType._createBranchConstructor();\n      }\n    }\n    util.inherits(LogicalType, Type);\n    Object.defineProperty(LogicalType.prototype, \"typeName\", {\n      enumerable: true,\n      get: function() {\n        return \"logical:\" + this._logicalTypeName;\n      }\n    });\n    Object.defineProperty(LogicalType.prototype, \"underlyingType\", {\n      enumerable: true,\n      get: function() {\n        if (this._underlyingType) {\n          return this._underlyingType;\n        }\n        var i, l, arr;\n        for (i = 0, l = UNDERLYING_TYPES.length; i < l; i++) {\n          arr = UNDERLYING_TYPES[i];\n          if (arr[0] === this) {\n            return arr[1];\n          }\n        }\n      }\n    });\n    LogicalType.prototype.getUnderlyingType = function() {\n      return this.underlyingType;\n    };\n    LogicalType.prototype._read = function(tap) {\n      return this._fromValue(this.underlyingType._read(tap));\n    };\n    LogicalType.prototype._write = function(tap, any) {\n      this.underlyingType._write(tap, this._toValue(any));\n    };\n    LogicalType.prototype._check = function(any, flags, hook, path) {\n      try {\n        var val = this._toValue(any);\n      } catch (err) {\n      }\n      if (val === void 0) {\n        if (hook) {\n          hook(any, this);\n        }\n        return false;\n      }\n      return this.underlyingType._check(val, flags, hook, path);\n    };\n    LogicalType.prototype._copy = function(any, opts) {\n      var type = this.underlyingType;\n      switch (opts && opts.coerce) {\n        case 3:\n          return type._copy(this._toValue(any), opts);\n        case 2:\n          return this._fromValue(type._copy(any, opts));\n        default:\n          return this._fromValue(type._copy(this._toValue(any), opts));\n      }\n    };\n    LogicalType.prototype._update = function(resolver, type, opts) {\n      var _fromValue = this._resolve(type, opts);\n      if (_fromValue) {\n        resolver._read = function(tap) {\n          return _fromValue(type._read(tap));\n        };\n      }\n    };\n    LogicalType.prototype.compare = function(obj1, obj2) {\n      var val1 = this._toValue(obj1);\n      var val2 = this._toValue(obj2);\n      return this.underlyingType.compare(val1, val2);\n    };\n    LogicalType.prototype.random = function() {\n      return this._fromValue(this.underlyingType.random());\n    };\n    LogicalType.prototype._deref = function(schema, opts) {\n      var type = this.underlyingType;\n      var isVisited = type.name !== void 0 && opts.derefed[type.name];\n      schema = type._attrs(opts);\n      if (!isVisited && opts.exportAttrs) {\n        if (typeof schema == \"string\") {\n          schema = { type: schema };\n        }\n        schema.logicalType = this._logicalTypeName;\n        this._export(schema);\n      }\n      return schema;\n    };\n    LogicalType.prototype._skip = function(tap) {\n      this.underlyingType._skip(tap);\n    };\n    LogicalType.prototype._export = function() {\n    };\n    LogicalType.prototype._fromValue = utils.abstractFunction;\n    LogicalType.prototype._toValue = utils.abstractFunction;\n    LogicalType.prototype._resolve = utils.abstractFunction;\n    function AbstractLongType(noUnpack) {\n      this._concreteTypeName = \"long\";\n      PrimitiveType.call(this, true);\n      this._noUnpack = !!noUnpack;\n    }\n    util.inherits(AbstractLongType, LongType);\n    AbstractLongType.prototype.typeName = \"abstract:long\";\n    AbstractLongType.prototype._check = function(val, flags, hook) {\n      var b2 = this._isValid(val);\n      if (!b2 && hook) {\n        hook(val, this);\n      }\n      return b2;\n    };\n    AbstractLongType.prototype._read = function(tap) {\n      var buf, pos;\n      if (this._noUnpack) {\n        pos = tap.pos;\n        tap.skipLong();\n        buf = tap.buf.slice(pos, tap.pos);\n      } else {\n        buf = tap.unpackLongBytes(tap);\n      }\n      if (tap.isValid()) {\n        return this._fromBuffer(buf);\n      }\n    };\n    AbstractLongType.prototype._write = function(tap, val) {\n      if (!this._isValid(val)) {\n        throwInvalidError(val, this);\n      }\n      var buf = this._toBuffer(val);\n      if (this._noUnpack) {\n        tap.writeFixed(buf);\n      } else {\n        tap.packLongBytes(buf);\n      }\n    };\n    AbstractLongType.prototype._copy = function(val, opts) {\n      switch (opts && opts.coerce) {\n        case 3:\n          return this._toJSON(val);\n        case 2:\n          return this._fromJSON(val);\n        default:\n          return this._fromJSON(this._toJSON(val));\n      }\n    };\n    AbstractLongType.prototype._deref = function() {\n      return \"long\";\n    };\n    AbstractLongType.prototype._update = function(resolver, type) {\n      var self = this;\n      switch (type.typeName) {\n        case \"int\":\n          resolver._read = function(tap) {\n            return self._fromJSON(type._read(tap));\n          };\n          break;\n        case \"abstract:long\":\n        case \"long\":\n          resolver._read = function(tap) {\n            return self._read(tap);\n          };\n      }\n    };\n    AbstractLongType.prototype.random = function() {\n      return this._fromJSON(LongType.prototype.random());\n    };\n    AbstractLongType.prototype._fromBuffer = utils.abstractFunction;\n    AbstractLongType.prototype._toBuffer = utils.abstractFunction;\n    AbstractLongType.prototype._fromJSON = utils.abstractFunction;\n    AbstractLongType.prototype._toJSON = utils.abstractFunction;\n    AbstractLongType.prototype._isValid = utils.abstractFunction;\n    AbstractLongType.prototype.compare = utils.abstractFunction;\n    function Field(schema, opts) {\n      var name = schema.name;\n      if (typeof name != \"string\" || !utils.isValidName(name)) {\n        throw new Error(f2(\"invalid field name: %s\", name));\n      }\n      this.name = name;\n      this.type = Type.forSchema(schema.type, opts);\n      this.aliases = schema.aliases || [];\n      this.doc = schema.doc !== void 0 ? \"\" + schema.doc : void 0;\n      this._order = function(order) {\n        switch (order) {\n          case \"ascending\":\n            return 1;\n          case \"descending\":\n            return -1;\n          case \"ignore\":\n            return 0;\n          default:\n            throw new Error(f2(\"invalid order: %j\", order));\n        }\n      }(schema.order === void 0 ? \"ascending\" : schema.order);\n      var value = schema[\"default\"];\n      if (value !== void 0) {\n        var type = this.type;\n        var val;\n        try {\n          val = type._copy(value, { coerce: 2, wrap: 2 });\n        } catch (err) {\n          var msg = f2(\"incompatible field default %j (%s)\", value, err.message);\n          if (Type.isType(type, \"union\")) {\n            msg += f2(\n              \", union defaults must match the first branch's type (%j)\",\n              type.types[0]\n            );\n          }\n          throw new Error(msg);\n        }\n        if (isPrimitive(type.typeName) && type.typeName !== \"bytes\") {\n          this.defaultValue = function() {\n            return val;\n          };\n        } else {\n          this.defaultValue = function() {\n            return type._copy(val);\n          };\n        }\n      }\n      Object.freeze(this);\n    }\n    Field.prototype.defaultValue = function() {\n    };\n    Object.defineProperty(Field.prototype, \"order\", {\n      enumerable: true,\n      get: function() {\n        return [\"descending\", \"ignore\", \"ascending\"][this._order + 1];\n      }\n    });\n    Field.prototype.getAliases = function() {\n      return this.aliases;\n    };\n    Field.prototype.getDefault = Field.prototype.defaultValue;\n    Field.prototype.getName = function() {\n      return this.name;\n    };\n    Field.prototype.getOrder = function() {\n      return this.order;\n    };\n    Field.prototype.getType = function() {\n      return this.type;\n    };\n    function Resolver(readerType) {\n      this._readerType = readerType;\n      this._read = null;\n      this.itemsType = null;\n      this.size = 0;\n      this.symbols = null;\n      this.valuesType = null;\n    }\n    Resolver.prototype._peek = Type.prototype._peek;\n    Resolver.prototype.inspect = function() {\n      return \"<Resolver>\";\n    };\n    function Hash() {\n      this.str = void 0;\n    }\n    function readValue(type, tap, resolver, lazy) {\n      if (resolver) {\n        if (resolver._readerType !== type) {\n          throw new Error(\"invalid resolver\");\n        }\n        return resolver._read(tap, lazy);\n      } else {\n        return type._read(tap);\n      }\n    }\n    function getAliases(obj) {\n      var names = {};\n      if (obj.name) {\n        names[obj.name] = true;\n      }\n      var aliases = obj.aliases;\n      var i, l;\n      for (i = 0, l = aliases.length; i < l; i++) {\n        names[aliases[i]] = true;\n      }\n      return Object.keys(names);\n    }\n    function hasCompatibleName(reader, writer, strict) {\n      if (!writer.name) {\n        return true;\n      }\n      var name = strict ? writer.name : utils.unqualify(writer.name);\n      var aliases = getAliases(reader);\n      var i, l, alias;\n      for (i = 0, l = aliases.length; i < l; i++) {\n        alias = aliases[i];\n        if (!strict) {\n          alias = utils.unqualify(alias);\n        }\n        if (alias === name) {\n          return true;\n        }\n      }\n      return false;\n    }\n    function isPrimitive(typeName) {\n      var type = TYPES[typeName];\n      return type && type.prototype instanceof PrimitiveType;\n    }\n    function getClassName(typeName) {\n      if (typeName === \"error\") {\n        typeName = \"record\";\n      } else {\n        var match = /^([^:]+):(.*)$/.exec(typeName);\n        if (match) {\n          if (match[1] === \"union\") {\n            typeName = match[2] + \"Union\";\n          } else {\n            typeName = match[1];\n          }\n        }\n      }\n      return utils.capitalize(typeName) + \"Type\";\n    }\n    function readArraySize(tap) {\n      var n = tap.readLong();\n      if (n < 0) {\n        n = -n;\n        tap.skipLong();\n      }\n      return n;\n    }\n    function isSafeLong(n) {\n      return n >= -9007199254740990 && n <= 9007199254740990;\n    }\n    function isJsonBuffer(obj) {\n      return obj && obj.type === \"Buffer\" && Array.isArray(obj.data);\n    }\n    function throwInvalidError(val, type) {\n      throw new Error(f2(\"invalid %j: %j\", type.schema(), val));\n    }\n    function maybeQualify(name, ns) {\n      var unqualified = utils.unqualify(name);\n      return isPrimitive(unqualified) ? unqualified : utils.qualify(name, ns);\n    }\n    function getTypeBucket(type) {\n      var typeName = type.typeName;\n      switch (typeName) {\n        case \"double\":\n        case \"float\":\n        case \"int\":\n        case \"long\":\n          return \"number\";\n        case \"bytes\":\n        case \"fixed\":\n          return \"buffer\";\n        case \"enum\":\n          return \"string\";\n        case \"map\":\n        case \"error\":\n        case \"record\":\n          return \"object\";\n        default:\n          return typeName;\n      }\n    }\n    function getValueBucket(val) {\n      if (val === null) {\n        return \"null\";\n      }\n      var bucket = typeof val;\n      if (bucket === \"object\") {\n        if (Array.isArray(val)) {\n          return \"array\";\n        } else if (Buffer2.isBuffer(val)) {\n          return \"buffer\";\n        }\n      }\n      return bucket;\n    }\n    function isAmbiguous(types) {\n      var buckets = {};\n      var i, l, bucket, type;\n      for (i = 0, l = types.length; i < l; i++) {\n        type = types[i];\n        if (!Type.isType(type, \"logical\")) {\n          bucket = getTypeBucket(type);\n          if (buckets[bucket]) {\n            return true;\n          }\n          buckets[bucket] = true;\n        }\n      }\n      return false;\n    }\n    function combineNumbers(types) {\n      var typeNames = [\"int\", \"long\", \"float\", \"double\"];\n      var superIndex = -1;\n      var superType = null;\n      var i, l, type, index;\n      for (i = 0, l = types.length; i < l; i++) {\n        type = types[i];\n        index = typeNames.indexOf(type.typeName);\n        if (index > superIndex) {\n          superIndex = index;\n          superType = type;\n        }\n      }\n      return superType;\n    }\n    function combineStrings(types, opts) {\n      var symbols = {};\n      var i, l, type, typeSymbols;\n      for (i = 0, l = types.length; i < l; i++) {\n        type = types[i];\n        if (type.typeName === \"string\") {\n          return type;\n        }\n        typeSymbols = type.symbols;\n        var j2, m2;\n        for (j2 = 0, m2 = typeSymbols.length; j2 < m2; j2++) {\n          symbols[typeSymbols[j2]] = true;\n        }\n      }\n      return Type.forSchema({ type: \"enum\", symbols: Object.keys(symbols) }, opts);\n    }\n    function combineBuffers(types, opts) {\n      var size = -1;\n      var i, l, type;\n      for (i = 0, l = types.length; i < l; i++) {\n        type = types[i];\n        if (type.typeName === \"bytes\") {\n          return type;\n        }\n        if (size === -1) {\n          size = type.size;\n        } else if (type.size !== size) {\n          size = -2;\n        }\n      }\n      return size < 0 ? Type.forSchema(\"bytes\", opts) : types[0];\n    }\n    function combineObjects(types, opts) {\n      var allTypes = [];\n      var fieldTypes = {};\n      var fieldDefaults = {};\n      var isValidRecord = true;\n      var i, l, type, fields;\n      for (i = 0, l = types.length; i < l; i++) {\n        type = types[i];\n        if (type.typeName === \"map\") {\n          isValidRecord = false;\n          allTypes.push(type.valuesType);\n        } else {\n          fields = type.fields;\n          var j2, m2, field, fieldDefault, fieldName, fieldType;\n          for (j2 = 0, m2 = fields.length; j2 < m2; j2++) {\n            field = fields[j2];\n            fieldName = field.name;\n            fieldType = field.type;\n            allTypes.push(fieldType);\n            if (isValidRecord) {\n              if (!fieldTypes[fieldName]) {\n                fieldTypes[fieldName] = [];\n              }\n              fieldTypes[fieldName].push(fieldType);\n              fieldDefault = field.defaultValue();\n              if (fieldDefault !== void 0) {\n                fieldDefaults[fieldName] = fieldDefault;\n              }\n            }\n          }\n        }\n      }\n      if (isValidRecord) {\n        var fieldNames = Object.keys(fieldTypes);\n        for (i = 0, l = fieldNames.length; i < l; i++) {\n          fieldName = fieldNames[i];\n          if (fieldTypes[fieldName].length < types.length && fieldDefaults[fieldName] === void 0) {\n            if (opts && opts.strictDefaults) {\n              isValidRecord = false;\n            } else {\n              fieldTypes[fieldName].unshift(Type.forSchema(\"null\", opts));\n              fieldDefaults[fieldName] = null;\n            }\n          }\n        }\n      }\n      var schema;\n      if (isValidRecord) {\n        schema = {\n          type: \"record\",\n          fields: fieldNames.map(function(s) {\n            var fieldType2 = Type.forTypes(fieldTypes[s], opts);\n            var fieldDefault2 = fieldDefaults[s];\n            if (fieldDefault2 !== void 0 && ~fieldType2.typeName.indexOf(\"union\")) {\n              var unionTypes = fieldType2.types.slice();\n              var i2, l2;\n              for (i2 = 0, l2 = unionTypes.length; i2 < l2; i2++) {\n                if (unionTypes[i2].isValid(fieldDefault2)) {\n                  break;\n                }\n              }\n              if (i2 > 0) {\n                var unionType = unionTypes[0];\n                unionTypes[0] = unionTypes[i2];\n                unionTypes[i2] = unionType;\n                fieldType2 = Type.forSchema(unionTypes, opts);\n              }\n            }\n            return {\n              name: s,\n              type: fieldType2,\n              \"default\": fieldDefaults[s]\n            };\n          })\n        };\n      } else {\n        schema = {\n          type: \"map\",\n          values: Type.forTypes(allTypes, opts)\n        };\n      }\n      return Type.forSchema(schema, opts);\n    }\n    module.exports = {\n      Type,\n      getTypeBucket,\n      getValueBucket,\n      isPrimitive,\n      builtins: function() {\n        var types = {\n          LogicalType,\n          UnwrappedUnionType,\n          WrappedUnionType\n        };\n        var typeNames = Object.keys(TYPES);\n        var i, l, typeName;\n        for (i = 0, l = typeNames.length; i < l; i++) {\n          typeName = typeNames[i];\n          types[getClassName(typeName)] = TYPES[typeName];\n        }\n        return types;\n      }()\n    };\n  }\n});\n\n// node_modules/avsc/lib/containers.js\nvar require_containers = __commonJS({\n  \"node_modules/avsc/lib/containers.js\"(exports, module) {\n    \"use strict\";\n    var types = require_types();\n    var utils = require_utils();\n    var buffer = __import_BUFFER;\n    var stream = __import_STREAM;\n    var util = __import_UTIL;\n    var zlib = __import_ZLIB;\n    var Buffer2 = buffer.Buffer;\n    var OPTS = { namespace: \"org.apache.avro.file\" };\n    var LONG_TYPE = types.Type.forSchema(\"long\", OPTS);\n    var MAP_BYTES_TYPE = types.Type.forSchema({ type: \"map\", values: \"bytes\" }, OPTS);\n    var HEADER_TYPE = types.Type.forSchema({\n      name: \"Header\",\n      type: \"record\",\n      fields: [\n        { name: \"magic\", type: { type: \"fixed\", name: \"Magic\", size: 4 } },\n        { name: \"meta\", type: MAP_BYTES_TYPE },\n        { name: \"sync\", type: { type: \"fixed\", name: \"Sync\", size: 16 } }\n      ]\n    }, OPTS);\n    var BLOCK_TYPE = types.Type.forSchema({\n      name: \"Block\",\n      type: \"record\",\n      fields: [\n        { name: \"count\", type: \"long\" },\n        { name: \"data\", type: \"bytes\" },\n        { name: \"sync\", type: \"Sync\" }\n      ]\n    }, OPTS);\n    var MAGIC_BYTES = utils.bufferFrom(\"Obj\u0001\");\n    var f2 = util.format;\n    var Tap = utils.Tap;\n    function RawDecoder(schema, opts) {\n      opts = opts || {};\n      var noDecode = !!opts.noDecode;\n      stream.Duplex.call(this, {\n        readableObjectMode: !noDecode,\n        allowHalfOpen: false\n      });\n      this._type = types.Type.forSchema(schema);\n      this._tap = new Tap(utils.newBuffer(0));\n      this._writeCb = null;\n      this._needPush = false;\n      this._readValue = createReader(noDecode, this._type);\n      this._finished = false;\n      this.on(\"finish\", function() {\n        this._finished = true;\n        this._read();\n      });\n    }\n    util.inherits(RawDecoder, stream.Duplex);\n    RawDecoder.prototype._write = function(chunk, encoding, cb) {\n      this._writeCb = cb;\n      var tap = this._tap;\n      tap.buf = Buffer2.concat([tap.buf.slice(tap.pos), chunk]);\n      tap.pos = 0;\n      if (this._needPush) {\n        this._needPush = false;\n        this._read();\n      }\n    };\n    RawDecoder.prototype._read = function() {\n      this._needPush = false;\n      var tap = this._tap;\n      var pos = tap.pos;\n      var val = this._readValue(tap);\n      if (tap.isValid()) {\n        this.push(val);\n      } else if (!this._finished) {\n        tap.pos = pos;\n        this._needPush = true;\n        if (this._writeCb) {\n          this._writeCb();\n        }\n      } else {\n        this.push(null);\n      }\n    };\n    function BlockDecoder(opts) {\n      opts = opts || {};\n      var noDecode = !!opts.noDecode;\n      stream.Duplex.call(this, {\n        allowHalfOpen: true,\n        // For async decompressors.\n        readableObjectMode: !noDecode\n      });\n      this._rType = opts.readerSchema !== void 0 ? types.Type.forSchema(opts.readerSchema) : void 0;\n      this._wType = null;\n      this._codecs = opts.codecs;\n      this._codec = void 0;\n      this._parseHook = opts.parseHook;\n      this._tap = new Tap(utils.newBuffer(0));\n      this._blockTap = new Tap(utils.newBuffer(0));\n      this._syncMarker = null;\n      this._readValue = null;\n      this._noDecode = noDecode;\n      this._queue = new utils.OrderedQueue();\n      this._decompress = null;\n      this._index = 0;\n      this._remaining = void 0;\n      this._needPush = false;\n      this._finished = false;\n      this.on(\"finish\", function() {\n        this._finished = true;\n        if (this._needPush) {\n          this._read();\n        }\n      });\n    }\n    util.inherits(BlockDecoder, stream.Duplex);\n    BlockDecoder.defaultCodecs = function() {\n      return {\n        \"null\": function(buf, cb) {\n          cb(null, buf);\n        },\n        \"deflate\": zlib.inflateRaw\n      };\n    };\n    BlockDecoder.getDefaultCodecs = BlockDecoder.defaultCodecs;\n    BlockDecoder.prototype._decodeHeader = function() {\n      var tap = this._tap;\n      if (tap.buf.length < MAGIC_BYTES.length) {\n        return false;\n      }\n      if (!MAGIC_BYTES.equals(tap.buf.slice(0, MAGIC_BYTES.length))) {\n        this.emit(\"error\", new Error(\"invalid magic bytes\"));\n        return false;\n      }\n      var header = HEADER_TYPE._read(tap);\n      if (!tap.isValid()) {\n        return false;\n      }\n      this._codec = (header.meta[\"avro.codec\"] || \"null\").toString();\n      var codecs = this._codecs || BlockDecoder.getDefaultCodecs();\n      this._decompress = codecs[this._codec];\n      if (!this._decompress) {\n        this.emit(\"error\", new Error(f2(\"unknown codec: %s\", this._codec)));\n        return;\n      }\n      try {\n        var schema = JSON.parse(header.meta[\"avro.schema\"].toString());\n        if (this._parseHook) {\n          schema = this._parseHook(schema);\n        }\n        this._wType = types.Type.forSchema(schema);\n      } catch (err) {\n        this.emit(\"error\", err);\n        return;\n      }\n      try {\n        this._readValue = createReader(this._noDecode, this._wType, this._rType);\n      } catch (err) {\n        this.emit(\"error\", err);\n        return;\n      }\n      this._syncMarker = header.sync;\n      this.emit(\"metadata\", this._wType, this._codec, header);\n      return true;\n    };\n    BlockDecoder.prototype._write = function(chunk, encoding, cb) {\n      var tap = this._tap;\n      tap.buf = Buffer2.concat([tap.buf, chunk]);\n      tap.pos = 0;\n      if (!this._decodeHeader()) {\n        process.nextTick(cb);\n        return;\n      }\n      this._write = this._writeChunk;\n      this._write(utils.newBuffer(0), encoding, cb);\n    };\n    BlockDecoder.prototype._writeChunk = function(chunk, encoding, cb) {\n      var tap = this._tap;\n      tap.buf = Buffer2.concat([tap.buf.slice(tap.pos), chunk]);\n      tap.pos = 0;\n      var nBlocks = 1;\n      var block;\n      while (block = tryReadBlock(tap)) {\n        if (!this._syncMarker.equals(block.sync)) {\n          this.emit(\"error\", new Error(\"invalid sync marker\"));\n          return;\n        }\n        nBlocks++;\n        this._decompress(\n          block.data,\n          this._createBlockCallback(block.data.length, block.count, chunkCb)\n        );\n      }\n      chunkCb();\n      function chunkCb() {\n        if (!--nBlocks) {\n          cb();\n        }\n      }\n    };\n    BlockDecoder.prototype._createBlockCallback = function(size, count, cb) {\n      var self = this;\n      var index = this._index++;\n      return function(cause, data) {\n        if (cause) {\n          var err = new Error(f2(\"%s codec decompression error\", self._codec));\n          err.cause = cause;\n          self.emit(\"error\", err);\n          cb();\n        } else {\n          self.emit(\"block\", new BlockInfo(count, data.length, size));\n          self._queue.push(new BlockData(index, data, cb, count));\n          if (self._needPush) {\n            self._read();\n          }\n        }\n      };\n    };\n    BlockDecoder.prototype._read = function() {\n      this._needPush = false;\n      var tap = this._blockTap;\n      if (!this._remaining) {\n        var data = this._queue.pop();\n        if (!data || !data.count) {\n          if (this._finished) {\n            this.push(null);\n          } else {\n            this._needPush = true;\n          }\n          if (data) {\n            data.cb();\n          }\n          return;\n        }\n        data.cb();\n        this._remaining = data.count;\n        tap.buf = data.buf;\n        tap.pos = 0;\n      }\n      this._remaining--;\n      var val;\n      try {\n        val = this._readValue(tap);\n        if (!tap.isValid()) {\n          throw new Error(\"truncated block\");\n        }\n      } catch (err) {\n        this._remaining = 0;\n        this.emit(\"error\", err);\n        return;\n      }\n      this.push(val);\n    };\n    function RawEncoder(schema, opts) {\n      opts = opts || {};\n      stream.Transform.call(this, {\n        writableObjectMode: true,\n        allowHalfOpen: false\n      });\n      this._type = types.Type.forSchema(schema);\n      this._writeValue = function(tap, val) {\n        try {\n          this._type._write(tap, val);\n        } catch (err) {\n          this.emit(\"typeError\", err, val, this._type);\n        }\n      };\n      this._tap = new Tap(utils.newBuffer(opts.batchSize || 65536));\n      this.on(\"typeError\", function(err) {\n        this.emit(\"error\", err);\n      });\n    }\n    util.inherits(RawEncoder, stream.Transform);\n    RawEncoder.prototype._transform = function(val, encoding, cb) {\n      var tap = this._tap;\n      var buf = tap.buf;\n      var pos = tap.pos;\n      this._writeValue(tap, val);\n      if (!tap.isValid()) {\n        if (pos) {\n          this.push(copyBuffer(tap.buf, 0, pos));\n        }\n        var len = tap.pos - pos;\n        if (len > buf.length) {\n          tap.buf = utils.newBuffer(2 * len);\n        }\n        tap.pos = 0;\n        this._writeValue(tap, val);\n      }\n      cb();\n    };\n    RawEncoder.prototype._flush = function(cb) {\n      var tap = this._tap;\n      var pos = tap.pos;\n      if (pos) {\n        this.push(tap.buf.slice(0, pos));\n      }\n      cb();\n    };\n    function BlockEncoder(schema, opts) {\n      opts = opts || {};\n      stream.Duplex.call(this, {\n        allowHalfOpen: true,\n        // To support async compressors.\n        writableObjectMode: true\n      });\n      var type;\n      if (types.Type.isType(schema)) {\n        type = schema;\n        schema = void 0;\n      } else {\n        type = types.Type.forSchema(schema);\n      }\n      this._schema = schema;\n      this._type = type;\n      this._writeValue = function(tap, val) {\n        try {\n          this._type._write(tap, val);\n        } catch (err) {\n          this.emit(\"typeError\", err, val, this._type);\n          return false;\n        }\n        return true;\n      };\n      this._blockSize = opts.blockSize || 65536;\n      this._tap = new Tap(utils.newBuffer(this._blockSize));\n      this._codecs = opts.codecs;\n      this._codec = opts.codec || \"null\";\n      this._blockCount = 0;\n      this._syncMarker = opts.syncMarker || new utils.Lcg().nextBuffer(16);\n      this._queue = new utils.OrderedQueue();\n      this._pending = 0;\n      this._finished = false;\n      this._needHeader = false;\n      this._needPush = false;\n      this._metadata = opts.metadata || {};\n      if (!MAP_BYTES_TYPE.isValid(this._metadata)) {\n        throw new Error(\"invalid metadata\");\n      }\n      var codec = this._codec;\n      this._compress = (this._codecs || BlockEncoder.getDefaultCodecs())[codec];\n      if (!this._compress) {\n        throw new Error(f2(\"unsupported codec: %s\", codec));\n      }\n      if (opts.omitHeader !== void 0) {\n        opts.writeHeader = opts.omitHeader ? \"never\" : \"auto\";\n      }\n      switch (opts.writeHeader) {\n        case false:\n        case \"never\":\n          break;\n        case void 0:\n        case \"auto\":\n          this._needHeader = true;\n          break;\n        default:\n          this._writeHeader();\n      }\n      this.on(\"finish\", function() {\n        this._finished = true;\n        if (this._blockCount) {\n          this._flushChunk();\n        } else if (this._finished && this._needPush) {\n          this.push(null);\n        }\n      });\n      this.on(\"typeError\", function(err) {\n        this.emit(\"error\", err);\n      });\n    }\n    util.inherits(BlockEncoder, stream.Duplex);\n    BlockEncoder.defaultCodecs = function() {\n      return {\n        \"null\": function(buf, cb) {\n          cb(null, buf);\n        },\n        \"deflate\": zlib.deflateRaw\n      };\n    };\n    BlockEncoder.getDefaultCodecs = BlockEncoder.defaultCodecs;\n    BlockEncoder.prototype._writeHeader = function() {\n      var schema = JSON.stringify(\n        this._schema ? this._schema : this._type.getSchema({ exportAttrs: true })\n      );\n      var meta = utils.copyOwnProperties(\n        this._metadata,\n        { \"avro.schema\": utils.bufferFrom(schema), \"avro.codec\": utils.bufferFrom(this._codec) },\n        true\n        // Overwrite.\n      );\n      var Header = HEADER_TYPE.getRecordConstructor();\n      var header = new Header(MAGIC_BYTES, meta, this._syncMarker);\n      this.push(header.toBuffer());\n    };\n    BlockEncoder.prototype._write = function(val, encoding, cb) {\n      if (this._needHeader) {\n        this._writeHeader();\n        this._needHeader = false;\n      }\n      var tap = this._tap;\n      var pos = tap.pos;\n      var flushing = false;\n      if (this._writeValue(tap, val)) {\n        if (!tap.isValid()) {\n          if (pos) {\n            this._flushChunk(pos, cb);\n            flushing = true;\n          }\n          var len = tap.pos - pos;\n          if (len > this._blockSize) {\n            this._blockSize = len * 2;\n          }\n          tap.buf = utils.newBuffer(this._blockSize);\n          tap.pos = 0;\n          this._writeValue(tap, val);\n        }\n        this._blockCount++;\n      } else {\n        tap.pos = pos;\n      }\n      if (!flushing) {\n        cb();\n      }\n    };\n    BlockEncoder.prototype._flushChunk = function(pos, cb) {\n      var tap = this._tap;\n      pos = pos || tap.pos;\n      this._compress(tap.buf.slice(0, pos), this._createBlockCallback(pos, cb));\n      this._blockCount = 0;\n    };\n    BlockEncoder.prototype._read = function() {\n      var self = this;\n      var data = this._queue.pop();\n      if (!data) {\n        if (this._finished && !this._pending) {\n          process.nextTick(function() {\n            self.push(null);\n          });\n        } else {\n          this._needPush = true;\n        }\n        return;\n      }\n      this.push(LONG_TYPE.toBuffer(data.count, true));\n      this.push(LONG_TYPE.toBuffer(data.buf.length, true));\n      this.push(data.buf);\n      this.push(this._syncMarker);\n      if (!this._finished) {\n        data.cb();\n      }\n    };\n    BlockEncoder.prototype._createBlockCallback = function(size, cb) {\n      var self = this;\n      var index = this._index++;\n      var count = this._blockCount;\n      this._pending++;\n      return function(cause, data) {\n        if (cause) {\n          var err = new Error(f2(\"%s codec compression error\", self._codec));\n          err.cause = cause;\n          self.emit(\"error\", err);\n          return;\n        }\n        self._pending--;\n        self.emit(\"block\", new BlockInfo(count, size, data.length));\n        self._queue.push(new BlockData(index, data, cb, count));\n        if (self._needPush) {\n          self._needPush = false;\n          self._read();\n        }\n      };\n    };\n    function BlockInfo(count, raw, compressed) {\n      this.valueCount = count;\n      this.rawDataLength = raw;\n      this.compressedDataLength = compressed;\n    }\n    function BlockData(index, buf, cb, count) {\n      this.index = index;\n      this.buf = buf;\n      this.cb = cb;\n      this.count = count | 0;\n    }\n    function tryReadBlock(tap) {\n      var pos = tap.pos;\n      var block = BLOCK_TYPE._read(tap);\n      if (!tap.isValid()) {\n        tap.pos = pos;\n        return null;\n      }\n      return block;\n    }\n    function createReader(noDecode, writerType, readerType) {\n      if (noDecode) {\n        return /* @__PURE__ */ function(skipper) {\n          return function(tap) {\n            var pos = tap.pos;\n            skipper(tap);\n            return tap.buf.slice(pos, tap.pos);\n          };\n        }(writerType._skip);\n      } else if (readerType) {\n        var resolver = readerType.createResolver(writerType);\n        return function(tap) {\n          return resolver._read(tap);\n        };\n      } else {\n        return function(tap) {\n          return writerType._read(tap);\n        };\n      }\n    }\n    function copyBuffer(buf, pos, len) {\n      var copy = utils.newBuffer(len);\n      buf.copy(copy, 0, pos, pos + len);\n      return copy;\n    }\n    module.exports = {\n      BLOCK_TYPE,\n      // For tests.\n      HEADER_TYPE,\n      // Idem.\n      MAGIC_BYTES,\n      // Idem.\n      streams: {\n        BlockDecoder,\n        BlockEncoder,\n        RawDecoder,\n        RawEncoder\n      }\n    };\n  }\n});\n\n// node_modules/avsc/lib/services.js\nvar require_services = __commonJS({\n  \"node_modules/avsc/lib/services.js\"(exports, module) {\n    \"use strict\";\n    var types = require_types();\n    var utils = require_utils();\n    var buffer = __import_BUFFER;\n    var events = __import_EVENTS;\n    var stream = __import_STREAM;\n    var util = __import_UTIL;\n    var Buffer2 = buffer.Buffer;\n    var Tap = utils.Tap;\n    var Type = types.Type;\n    var debug = util.debuglog(\"avsc:services\");\n    var f2 = util.format;\n    var OPTS = { namespace: \"org.apache.avro.ipc\" };\n    var BOOLEAN_TYPE = Type.forSchema(\"boolean\", OPTS);\n    var MAP_BYTES_TYPE = Type.forSchema({ type: \"map\", values: \"bytes\" }, OPTS);\n    var STRING_TYPE = Type.forSchema(\"string\", OPTS);\n    var HANDSHAKE_REQUEST_TYPE = Type.forSchema({\n      name: \"HandshakeRequest\",\n      type: \"record\",\n      fields: [\n        { name: \"clientHash\", type: { name: \"MD5\", type: \"fixed\", size: 16 } },\n        { name: \"clientProtocol\", type: [\"null\", \"string\"], \"default\": null },\n        { name: \"serverHash\", type: \"MD5\" },\n        { name: \"meta\", type: [\"null\", MAP_BYTES_TYPE], \"default\": null }\n      ]\n    }, OPTS);\n    var HANDSHAKE_RESPONSE_TYPE = Type.forSchema({\n      name: \"HandshakeResponse\",\n      type: \"record\",\n      fields: [\n        {\n          name: \"match\",\n          type: {\n            name: \"HandshakeMatch\",\n            type: \"enum\",\n            symbols: [\"BOTH\", \"CLIENT\", \"NONE\"]\n          }\n        },\n        { name: \"serverProtocol\", type: [\"null\", \"string\"], \"default\": null },\n        { name: \"serverHash\", type: [\"null\", \"MD5\"], \"default\": null },\n        { name: \"meta\", type: [\"null\", MAP_BYTES_TYPE], \"default\": null }\n      ]\n    }, OPTS);\n    var PREFIX_LENGTH = 16;\n    var PING_MESSAGE = new Message(\n      \"\",\n      // Empty name (invalid for other \"normal\" messages).\n      Type.forSchema({ name: \"PingRequest\", type: \"record\", fields: [] }, OPTS),\n      Type.forSchema([\"string\"], OPTS),\n      Type.forSchema(\"null\", OPTS)\n    );\n    function Message(name, reqType, errType, resType, oneWay, doc) {\n      this.name = name;\n      if (!Type.isType(reqType, \"record\")) {\n        throw new Error(\"invalid request type\");\n      }\n      this.requestType = reqType;\n      if (!Type.isType(errType, \"union\") || !Type.isType(errType.getTypes()[0], \"string\")) {\n        throw new Error(\"invalid error type\");\n      }\n      this.errorType = errType;\n      if (oneWay) {\n        if (!Type.isType(resType, \"null\") || errType.getTypes().length > 1) {\n          throw new Error(\"inapplicable one-way parameter\");\n        }\n      }\n      this.responseType = resType;\n      this.oneWay = !!oneWay;\n      this.doc = doc !== void 0 ? \"\" + doc : void 0;\n      Object.freeze(this);\n    }\n    Message.forSchema = function(name, schema, opts) {\n      opts = opts || {};\n      if (!utils.isValidName(name)) {\n        throw new Error(f2(\"invalid message name: %s\", name));\n      }\n      if (!Array.isArray(schema.request)) {\n        throw new Error(f2(\"invalid message request: %s\", name));\n      }\n      var recordName = f2(\"%s.%sRequest\", OPTS.namespace, utils.capitalize(name));\n      var reqType = Type.forSchema({\n        name: recordName,\n        type: \"record\",\n        namespace: opts.namespace || \"\",\n        // Don't leak request namespace.\n        fields: schema.request\n      }, opts);\n      delete opts.registry[recordName];\n      if (!schema.response) {\n        throw new Error(f2(\"invalid message response: %s\", name));\n      }\n      var resType = Type.forSchema(schema.response, opts);\n      if (schema.errors !== void 0 && !Array.isArray(schema.errors)) {\n        throw new Error(f2(\"invalid message errors: %s\", name));\n      }\n      var errType = Type.forSchema([\"string\"].concat(schema.errors || []), opts);\n      var oneWay = !!schema[\"one-way\"];\n      return new Message(name, reqType, errType, resType, oneWay, schema.doc);\n    };\n    Message.prototype.schema = Type.prototype.getSchema;\n    Message.prototype._attrs = function(opts) {\n      var reqSchema = this.requestType._attrs(opts);\n      var schema = {\n        request: reqSchema.fields,\n        response: this.responseType._attrs(opts)\n      };\n      var msgDoc = this.doc;\n      if (msgDoc !== void 0) {\n        schema.doc = msgDoc;\n      }\n      var errSchema = this.errorType._attrs(opts);\n      if (errSchema.length > 1) {\n        schema.errors = errSchema.slice(1);\n      }\n      if (this.oneWay) {\n        schema[\"one-way\"] = true;\n      }\n      return schema;\n    };\n    utils.addDeprecatedGetters(\n      Message,\n      [\"name\", \"errorType\", \"requestType\", \"responseType\"]\n    );\n    Message.prototype.isOneWay = util.deprecate(\n      function() {\n        return this.oneWay;\n      },\n      \"use `.oneWay` directly instead of `.isOneWay()`\"\n    );\n    function Service(name, messages, types2, ptcl, server) {\n      if (typeof name != \"string\") {\n        return Service.forProtocol(name, messages);\n      }\n      this.name = name;\n      this._messagesByName = messages || {};\n      this.messages = Object.freeze(utils.objectValues(this._messagesByName));\n      this._typesByName = types2 || {};\n      this.types = Object.freeze(utils.objectValues(this._typesByName));\n      this.protocol = ptcl;\n      this._hashStr = utils.getHash(JSON.stringify(ptcl)).toString(\"binary\");\n      this.doc = ptcl.doc ? \"\" + ptcl.doc : void 0;\n      this._server = server || this.createServer({ silent: true });\n      Object.freeze(this);\n    }\n    Service.Client = Client;\n    Service.Server = Server;\n    Service.compatible = function(clientSvc, serverSvc) {\n      try {\n        createReaders(clientSvc, serverSvc);\n      } catch (err) {\n        return false;\n      }\n      return true;\n    };\n    Service.forProtocol = function(ptcl, opts) {\n      opts = opts || {};\n      var name = ptcl.protocol;\n      if (!name) {\n        throw new Error(\"missing protocol name\");\n      }\n      if (ptcl.namespace !== void 0) {\n        opts.namespace = ptcl.namespace;\n      } else {\n        var match = /^(.*)\\.[^.]+$/.exec(name);\n        if (match) {\n          opts.namespace = match[1];\n        }\n      }\n      name = utils.qualify(name, opts.namespace);\n      if (ptcl.types) {\n        ptcl.types.forEach(function(obj) {\n          Type.forSchema(obj, opts);\n        });\n      }\n      var msgs;\n      if (ptcl.messages) {\n        msgs = {};\n        Object.keys(ptcl.messages).forEach(function(key) {\n          msgs[key] = Message.forSchema(key, ptcl.messages[key], opts);\n        });\n      }\n      return new Service(name, msgs, opts.registry, ptcl);\n    };\n    Service.isService = function(any) {\n      return !!any && any.hasOwnProperty(\"_hashStr\");\n    };\n    Service.prototype.createClient = function(opts) {\n      var client = new Client(this, opts);\n      process.nextTick(function() {\n        if (opts && opts.server) {\n          var obj = { objectMode: true };\n          var pts = [new stream.PassThrough(obj), new stream.PassThrough(obj)];\n          opts.server.createChannel({ readable: pts[0], writable: pts[1] }, obj);\n          client.createChannel({ readable: pts[1], writable: pts[0] }, obj);\n        } else if (opts && opts.transport) {\n          client.createChannel(opts.transport);\n        }\n      });\n      return client;\n    };\n    Service.prototype.createServer = function(opts) {\n      return new Server(this, opts);\n    };\n    Object.defineProperty(Service.prototype, \"hash\", {\n      enumerable: true,\n      get: function() {\n        return utils.bufferFrom(this._hashStr, \"binary\");\n      }\n    });\n    Service.prototype.message = function(name) {\n      return this._messagesByName[name];\n    };\n    Service.prototype.type = function(name) {\n      return this._typesByName[name];\n    };\n    Service.prototype.inspect = function() {\n      return f2(\"<Service %j>\", this.name);\n    };\n    utils.addDeprecatedGetters(\n      Service,\n      [\"message\", \"messages\", \"name\", \"type\", \"types\"]\n    );\n    Service.prototype.createEmitter = util.deprecate(\n      function(transport, opts) {\n        opts = opts || {};\n        var client = this.createClient({\n          cache: opts.cache,\n          buffering: false,\n          strictTypes: opts.strictErrors,\n          timeout: opts.timeout\n        });\n        var channel = client.createChannel(transport, opts);\n        forwardErrors(client, channel);\n        return channel;\n      },\n      \"use `.createClient()` instead of `.createEmitter()`\"\n    );\n    Service.prototype.createListener = util.deprecate(\n      function(transport, opts) {\n        if (opts && opts.strictErrors) {\n          throw new Error(\"use `.createServer()` to support strict errors\");\n        }\n        return this._server.createChannel(transport, opts);\n      },\n      \"use `.createServer().createChannel()` instead of `.createListener()`\"\n    );\n    Service.prototype.emit = util.deprecate(\n      function(name, req, channel, cb) {\n        if (!channel || !this.equals(channel.client._svc$)) {\n          throw new Error(\"invalid emitter\");\n        }\n        var client = channel.client;\n        Client.prototype.emitMessage.call(client, name, req, cb && cb.bind(this));\n        return channel.getPending();\n      },\n      \"create a client via `.createClient()` to emit messages instead of `.emit()`\"\n    );\n    Service.prototype.equals = util.deprecate(\n      function(any) {\n        return Service.isService(any) && this.getFingerprint().equals(any.getFingerprint());\n      },\n      \"equality testing is deprecated, compare the `.protocol`s instead\"\n    );\n    Service.prototype.getFingerprint = util.deprecate(\n      function(algorithm) {\n        return utils.getHash(JSON.stringify(this.protocol), algorithm);\n      },\n      \"use `.hash` instead of `.getFingerprint()`\"\n    );\n    Service.prototype.getSchema = util.deprecate(\n      Type.prototype.getSchema,\n      \"use `.protocol` instead of `.getSchema()`\"\n    );\n    Service.prototype.on = util.deprecate(\n      function(name, handler) {\n        var self = this;\n        this._server.onMessage(name, function(req, cb) {\n          return handler.call(self, req, this.channel, cb);\n        });\n        return this;\n      },\n      \"use `.createServer().onMessage()` instead of `.on()`\"\n    );\n    Service.prototype.subprotocol = util.deprecate(\n      function() {\n        var parent = this._server;\n        var opts = { strictTypes: parent._strict, cache: parent._cache };\n        var server = new Server(parent.service, opts);\n        server._handlers = Object.create(parent._handlers);\n        return new Service(\n          this.name,\n          this._messagesByName,\n          this._typesByName,\n          this.protocol,\n          server\n        );\n      },\n      \"`.subprotocol()` will be removed in 5.1\"\n    );\n    Service.prototype._attrs = function(opts) {\n      var ptcl = { protocol: this.name };\n      var types2 = [];\n      this.types.forEach(function(t) {\n        if (t.getName() === void 0) {\n          return;\n        }\n        var typeSchema = t._attrs(opts);\n        if (typeof typeSchema != \"string\") {\n          types2.push(typeSchema);\n        }\n      });\n      if (types2.length) {\n        ptcl.types = types2;\n      }\n      var msgNames = Object.keys(this._messagesByName);\n      if (msgNames.length) {\n        ptcl.messages = {};\n        msgNames.forEach(function(name) {\n          ptcl.messages[name] = this._messagesByName[name]._attrs(opts);\n        }, this);\n      }\n      if (opts && opts.exportAttrs && this.doc !== void 0) {\n        ptcl.doc = this.doc;\n      }\n      return ptcl;\n    };\n    function discoverProtocol(transport, opts, cb) {\n      if (cb === void 0 && typeof opts == \"function\") {\n        cb = opts;\n        opts = void 0;\n      }\n      var svc = new Service({ protocol: \"Empty\" }, OPTS);\n      var ptclStr;\n      svc.createClient({ timeout: opts && opts.timeout }).createChannel(transport, {\n        scope: opts && opts.scope,\n        endWritable: typeof transport == \"function\"\n        // Stateless transports only.\n      }).once(\"handshake\", function(hreq, hres) {\n        ptclStr = hres.serverProtocol;\n        this.destroy(true);\n      }).once(\"eot\", function(pending, err) {\n        if (err && !/interrupted/.test(err)) {\n          cb(err);\n        } else {\n          cb(null, JSON.parse(ptclStr));\n        }\n      });\n    }\n    function Client(svc, opts) {\n      opts = opts || {};\n      events.EventEmitter.call(this);\n      this._svc$ = svc;\n      this._channels$ = [];\n      this._fns$ = [];\n      this._buffering$ = !!opts.buffering;\n      this._cache$ = opts.cache || {};\n      this._policy$ = opts.channelPolicy;\n      this._strict$ = !!opts.strictTypes;\n      this._timeout$ = utils.getOption(opts, \"timeout\", 1e4);\n      if (opts.remoteProtocols) {\n        insertRemoteProtocols(this._cache$, opts.remoteProtocols, svc, true);\n      }\n      this._svc$.messages.forEach(function(msg) {\n        this[msg.name] = this._createMessageHandler$(msg);\n      }, this);\n    }\n    util.inherits(Client, events.EventEmitter);\n    Client.prototype.activeChannels = function() {\n      return this._channels$.slice();\n    };\n    Client.prototype.createChannel = function(transport, opts) {\n      var objectMode = opts && opts.objectMode;\n      var channel;\n      if (typeof transport == \"function\") {\n        var writableFactory;\n        if (objectMode) {\n          writableFactory = transport;\n        } else {\n          writableFactory = function(cb) {\n            var encoder2 = new FrameEncoder();\n            var writable2 = transport(function(err, readable2) {\n              if (err) {\n                cb(err);\n                return;\n              }\n              var decoder2 = new FrameDecoder().once(\"error\", function(err2) {\n                channel.destroy(err2);\n              });\n              cb(null, readable2.pipe(decoder2));\n            });\n            if (writable2) {\n              encoder2.pipe(writable2);\n              return encoder2;\n            }\n          };\n        }\n        channel = new StatelessClientChannel(this, writableFactory, opts);\n      } else {\n        var readable, writable;\n        if (isStream(transport)) {\n          readable = writable = transport;\n        } else {\n          readable = transport.readable;\n          writable = transport.writable;\n        }\n        if (!objectMode) {\n          var decoder = new NettyDecoder();\n          readable = readable.pipe(decoder);\n          var encoder = new NettyEncoder();\n          encoder.pipe(writable);\n          writable = encoder;\n        }\n        channel = new StatefulClientChannel(this, readable, writable, opts);\n        if (!objectMode) {\n          channel.once(\"eot\", function() {\n            readable.unpipe(decoder);\n            encoder.unpipe(writable);\n          });\n          decoder.once(\"error\", function(err) {\n            channel.destroy(err);\n          });\n        }\n      }\n      var channels = this._channels$;\n      channels.push(channel);\n      channel.once(\"_drain\", function() {\n        channels.splice(channels.indexOf(this), 1);\n      });\n      this._buffering$ = false;\n      this.emit(\"channel\", channel);\n      return channel;\n    };\n    Client.prototype.destroyChannels = function(opts) {\n      this._channels$.forEach(function(channel) {\n        channel.destroy(opts && opts.noWait);\n      });\n    };\n    Client.prototype.emitMessage = function(name, req, opts, cb) {\n      var msg = getExistingMessage(this._svc$, name);\n      var wreq = new WrappedRequest(msg, {}, req);\n      this._emitMessage$(wreq, opts, cb);\n    };\n    Client.prototype.remoteProtocols = function() {\n      return getRemoteProtocols(this._cache$, true);\n    };\n    Object.defineProperty(Client.prototype, \"service\", {\n      enumerable: true,\n      get: function() {\n        return this._svc$;\n      }\n    });\n    Client.prototype.use = function() {\n      var i, l, fn;\n      for (i = 0, l = arguments.length; i < l; i++) {\n        fn = arguments[i];\n        this._fns$.push(fn.length < 3 ? fn(this) : fn);\n      }\n      return this;\n    };\n    Client.prototype._emitMessage$ = function(wreq, opts, cb) {\n      if (!cb && typeof opts === \"function\") {\n        cb = opts;\n        opts = void 0;\n      }\n      var self = this;\n      var channels = this._channels$;\n      var numChannels = channels.length;\n      if (!numChannels) {\n        if (this._buffering$) {\n          debug(\"no active client channels, buffering call\");\n          this.once(\"channel\", function() {\n            this._emitMessage$(wreq, opts, cb);\n          });\n        } else {\n          var err = new Error(\"no active channels\");\n          process.nextTick(function() {\n            if (cb) {\n              cb.call(new CallContext(wreq._msg), err);\n            } else {\n              self.emit(\"error\", err);\n            }\n          });\n        }\n        return;\n      }\n      opts = opts || {};\n      if (opts.timeout === void 0) {\n        opts.timeout = this._timeout$;\n      }\n      var channel;\n      if (numChannels === 1) {\n        channel = channels[0];\n      } else if (this._policy$) {\n        channel = this._policy$(this._channels$.slice());\n        if (!channel) {\n          debug(\"policy returned no channel, skipping call\");\n          return;\n        }\n      } else {\n        channel = channels[Math.floor(Math.random() * numChannels)];\n      }\n      channel._emit(wreq, opts, function(err2, wres) {\n        var ctx = this;\n        var errType = ctx.message.errorType;\n        if (err2) {\n          if (self._strict$) {\n            err2 = errType.clone(err2.message, { wrapUnions: true });\n          }\n          done(err2);\n          return;\n        }\n        if (!wres) {\n          done();\n          return;\n        }\n        err2 = wres.error;\n        if (!self._strict$) {\n          if (err2 === void 0) {\n            err2 = null;\n          } else {\n            if (Type.isType(errType, \"union:unwrapped\")) {\n              if (typeof err2 == \"string\") {\n                err2 = new Error(err2);\n              }\n            } else if (err2 && err2.string && typeof err2.string == \"string\") {\n              err2 = new Error(err2.string);\n            }\n          }\n        }\n        done(err2, wres.response);\n        function done(err3, res) {\n          if (cb) {\n            cb.call(ctx, err3, res);\n          } else if (err3) {\n            self.emit(\"error\", err3);\n          }\n        }\n      });\n    };\n    Client.prototype._createMessageHandler$ = function(msg) {\n      var fields = msg.requestType.getFields();\n      var names = fields.map(function(f3) {\n        return f3.getName();\n      });\n      var body = \"return function \" + msg.name + \"(\";\n      if (names.length) {\n        body += names.join(\", \") + \", \";\n      }\n      body += \"opts, cb) {\\n\";\n      body += \"  var req = {\";\n      body += names.map(function(n) {\n        return n + \": \" + n;\n      }).join(\", \");\n      body += \"};\\n\";\n      body += \"  return this.emitMessage('\" + msg.name + \"', req, opts, cb);\\n\";\n      body += \"};\";\n      return new Function(body)();\n    };\n    function Server(svc, opts) {\n      opts = opts || {};\n      events.EventEmitter.call(this);\n      this.service = svc;\n      this._handlers = {};\n      this._fns = [];\n      this._channels = {};\n      this._nextChannelId = 1;\n      this._cache = opts.cache || {};\n      this._defaultHandler = opts.defaultHandler;\n      this._sysErrFormatter = opts.systemErrorFormatter;\n      this._silent = !!opts.silent;\n      this._strict = !!opts.strictTypes;\n      if (opts.remoteProtocols) {\n        insertRemoteProtocols(this._cache, opts.remoteProtocols, svc, false);\n      }\n      svc.messages.forEach(function(msg) {\n        var name = msg.name;\n        if (!opts.noCapitalize) {\n          name = utils.capitalize(name);\n        }\n        this[\"on\" + name] = this._createMessageHandler(msg);\n      }, this);\n    }\n    util.inherits(Server, events.EventEmitter);\n    Server.prototype.activeChannels = function() {\n      return utils.objectValues(this._channels);\n    };\n    Server.prototype.createChannel = function(transport, opts) {\n      var objectMode = opts && opts.objectMode;\n      var channel;\n      if (typeof transport == \"function\") {\n        var readableFactory;\n        if (objectMode) {\n          readableFactory = transport;\n        } else {\n          readableFactory = function(cb) {\n            var decoder2 = new FrameDecoder().once(\"error\", function(err) {\n              channel.destroy(err);\n            });\n            return transport(function(err, writable2) {\n              if (err) {\n                cb(err);\n                return;\n              }\n              var encoder2 = new FrameEncoder();\n              encoder2.pipe(writable2);\n              cb(null, encoder2);\n            }).pipe(decoder2);\n          };\n        }\n        channel = new StatelessServerChannel(this, readableFactory, opts);\n      } else {\n        var readable, writable;\n        if (isStream(transport)) {\n          readable = writable = transport;\n        } else {\n          readable = transport.readable;\n          writable = transport.writable;\n        }\n        if (!objectMode) {\n          var decoder = new NettyDecoder();\n          readable = readable.pipe(decoder);\n          var encoder = new NettyEncoder();\n          encoder.pipe(writable);\n          writable = encoder;\n        }\n        channel = new StatefulServerChannel(this, readable, writable, opts);\n        if (!objectMode) {\n          channel.once(\"eot\", function() {\n            readable.unpipe(decoder);\n            encoder.unpipe(writable);\n          });\n          decoder.once(\"error\", function(err) {\n            channel.destroy(err);\n          });\n        }\n      }\n      if (!this.listeners(\"error\").length) {\n        this.on(\"error\", this._onError);\n      }\n      var channelId = this._nextChannelId++;\n      var channels = this._channels;\n      channels[channelId] = channel.once(\"eot\", function() {\n        delete channels[channelId];\n      });\n      this.emit(\"channel\", channel);\n      return channel;\n    };\n    Server.prototype.onMessage = function(name, handler) {\n      getExistingMessage(this.service, name);\n      this._handlers[name] = handler;\n      return this;\n    };\n    Server.prototype.remoteProtocols = function() {\n      return getRemoteProtocols(this._cache, false);\n    };\n    Server.prototype.use = function() {\n      var i, l, fn;\n      for (i = 0, l = arguments.length; i < l; i++) {\n        fn = arguments[i];\n        this._fns.push(fn.length < 3 ? fn(this) : fn);\n      }\n      return this;\n    };\n    Server.prototype._createMessageHandler = function(msg) {\n      var name = msg.name;\n      var fields = msg.requestType.fields;\n      var numArgs = fields.length;\n      var args = fields.length ? \", \" + fields.map(function(f3) {\n        return \"req.\" + f3.name;\n      }).join(\", \") : \"\";\n      var body = \"return function (handler) {\\n\";\n      body += \"  if (handler.length > \" + numArgs + \") {\\n\";\n      body += \"    return this.onMessage('\" + name + \"', function (req, cb) {\\n\";\n      body += \"      return handler.call(this\" + args + \", cb);\\n\";\n      body += \"    });\\n\";\n      body += \"  } else {\\n\";\n      body += \"    return this.onMessage('\" + name + \"', function (req) {\\n\";\n      body += \"      return handler.call(this\" + args + \");\\n\";\n      body += \"    });\\n\";\n      body += \"  }\\n\";\n      body += \"};\\n\";\n      return new Function(body)();\n    };\n    Server.prototype._onError = function(err) {\n      if (!this._silent && err.rpcCode !== \"UNKNOWN_PROTOCOL\") {\n        console.error();\n        if (err.rpcCode) {\n          console.error(err.rpcCode);\n          console.error(err.cause);\n        } else {\n          console.error(\"INTERNAL_SERVER_ERROR\");\n          console.error(err);\n        }\n      }\n    };\n    function ClientChannel(client, opts) {\n      opts = opts || {};\n      events.EventEmitter.call(this);\n      this.client = client;\n      this.timeout = utils.getOption(opts, \"timeout\", client._timeout$);\n      this._endWritable = !!utils.getOption(opts, \"endWritable\", true);\n      this._prefix = normalizedPrefix(opts.scope);\n      var cache = client._cache$;\n      var clientSvc = client._svc$;\n      var hash = opts.serverHash;\n      if (!hash) {\n        hash = clientSvc.hash;\n      }\n      var adapter = cache[hash];\n      if (!adapter) {\n        hash = clientSvc.hash;\n        adapter = cache[hash] = new Adapter(clientSvc, clientSvc, hash);\n      }\n      this._adapter = adapter;\n      this._registry = new Registry(this, PREFIX_LENGTH);\n      this.pending = 0;\n      this.destroyed = false;\n      this.draining = false;\n      this.once(\"_eot\", function(pending, err) {\n        debug(\"client channel EOT\");\n        this.destroyed = true;\n        this.emit(\"eot\", pending, err);\n      });\n    }\n    util.inherits(ClientChannel, events.EventEmitter);\n    ClientChannel.prototype.destroy = function(noWait) {\n      debug(\"destroying client channel\");\n      if (!this.draining) {\n        this.draining = true;\n        this.emit(\"_drain\");\n      }\n      var registry = this._registry;\n      var pending = this.pending;\n      if (noWait) {\n        registry.clear();\n      }\n      if (noWait || !pending) {\n        if (isError(noWait)) {\n          debug(\"fatal client channel error: %s\", noWait);\n          this.emit(\"_eot\", pending, noWait);\n        } else {\n          this.emit(\"_eot\", pending);\n        }\n      } else {\n        debug(\"client channel entering drain mode (%s pending)\", pending);\n      }\n    };\n    ClientChannel.prototype.ping = function(timeout, cb) {\n      if (!cb && typeof timeout == \"function\") {\n        cb = timeout;\n        timeout = void 0;\n      }\n      var self = this;\n      var wreq = new WrappedRequest(PING_MESSAGE);\n      this._emit(wreq, { timeout }, function(err) {\n        if (cb) {\n          cb.call(self, err);\n        } else if (err) {\n          self.destroy(err);\n        }\n      });\n    };\n    ClientChannel.prototype._createHandshakeRequest = function(adapter, noSvc) {\n      var svc = this.client._svc$;\n      return {\n        clientHash: svc.hash,\n        clientProtocol: noSvc ? null : JSON.stringify(svc.protocol),\n        serverHash: adapter._hash\n      };\n    };\n    ClientChannel.prototype._emit = function(wreq, opts, cb) {\n      var msg = wreq._msg;\n      var wres = msg.oneWay ? void 0 : new WrappedResponse(msg, {});\n      var ctx = new CallContext(msg, this);\n      var self = this;\n      this.pending++;\n      process.nextTick(function() {\n        if (!msg.name) {\n          onTransition(wreq, wres, onCompletion);\n        } else {\n          self.emit(\"outgoingCall\", ctx, opts);\n          var fns = self.client._fns$;\n          debug(\"starting client middleware chain (%s middleware)\", fns.length);\n          chainMiddleware({\n            fns,\n            ctx,\n            wreq,\n            wres,\n            onTransition,\n            onCompletion,\n            onError\n          });\n        }\n      });\n      function onTransition(wreq2, wres2, prev) {\n        var err, reqBuf;\n        if (self.destroyed) {\n          err = new Error(\"channel destroyed\");\n        } else {\n          try {\n            reqBuf = wreq2.toBuffer();\n          } catch (cause) {\n            err = serializationError(\n              f2(\"invalid %j request\", msg.name),\n              wreq2,\n              [\n                { name: \"headers\", type: MAP_BYTES_TYPE },\n                { name: \"request\", type: msg.requestType }\n              ]\n            );\n          }\n        }\n        if (err) {\n          prev(err);\n          return;\n        }\n        var timeout = opts && opts.timeout !== void 0 ? opts.timeout : self.timeout;\n        var id = self._registry.add(timeout, function(err2, resBuf, adapter) {\n          if (!err2 && !msg.oneWay) {\n            try {\n              adapter._decodeResponse(resBuf, wres2, msg);\n            } catch (cause) {\n              err2 = cause;\n            }\n          }\n          prev(err2);\n        });\n        id |= self._prefix;\n        debug(\"sending message %s\", id);\n        self._send(id, reqBuf, !!msg && msg.oneWay);\n      }\n      function onCompletion(err) {\n        self.pending--;\n        cb.call(ctx, err, wres);\n        if (self.draining && !self.destroyed && !self.pending) {\n          self.destroy();\n        }\n      }\n      function onError(err) {\n        self.client.emit(\"error\", err, self);\n      }\n    };\n    ClientChannel.prototype._getAdapter = function(hres) {\n      var hash = hres.serverHash;\n      var cache = this.client._cache$;\n      var adapter = cache[hash];\n      if (adapter) {\n        return adapter;\n      }\n      var ptcl = JSON.parse(hres.serverProtocol);\n      var serverSvc = Service.forProtocol(ptcl);\n      adapter = new Adapter(this.client._svc$, serverSvc, hash, true);\n      return cache[hash] = adapter;\n    };\n    ClientChannel.prototype._matchesPrefix = function(id) {\n      return matchesPrefix(id, this._prefix);\n    };\n    ClientChannel.prototype._send = utils.abstractFunction;\n    utils.addDeprecatedGetters(ClientChannel, [\"pending\", \"timeout\"]);\n    ClientChannel.prototype.getCache = util.deprecate(\n      function() {\n        return this.client._cache$;\n      },\n      \"use `.remoteProtocols()` instead of `.getCache()`\"\n    );\n    ClientChannel.prototype.getProtocol = util.deprecate(\n      function() {\n        return this.client._svc$;\n      },\n      \"use `.service` instead or `.getProtocol()`\"\n    );\n    ClientChannel.prototype.isDestroyed = util.deprecate(\n      function() {\n        return this.destroyed;\n      },\n      \"use `.destroyed` instead of `.isDestroyed`\"\n    );\n    function StatelessClientChannel(client, writableFactory, opts) {\n      ClientChannel.call(this, client, opts);\n      this._writableFactory = writableFactory;\n      if (!opts || !opts.noPing) {\n        debug(\"emitting ping request\");\n        this.ping();\n      }\n    }\n    util.inherits(StatelessClientChannel, ClientChannel);\n    StatelessClientChannel.prototype._send = function(id, reqBuf) {\n      var cb = this._registry.get(id);\n      var adapter = this._adapter;\n      var self = this;\n      process.nextTick(emit);\n      return true;\n      function emit(retry) {\n        if (self.destroyed) {\n          return;\n        }\n        var hreq = self._createHandshakeRequest(adapter, !retry);\n        var writable = self._writableFactory.call(self, function(err, readable) {\n          if (err) {\n            cb(err);\n            return;\n          }\n          readable.on(\"data\", function(obj) {\n            debug(\"received response %s\", obj.id);\n            var buf = Buffer2.concat(obj.payload);\n            try {\n              var parts = readHead(HANDSHAKE_RESPONSE_TYPE, buf);\n              var hres = parts.head;\n              if (hres.serverHash) {\n                adapter = self._getAdapter(hres);\n              }\n            } catch (cause) {\n              cb(cause);\n              return;\n            }\n            var match = hres.match;\n            debug(\"handshake match: %s\", match);\n            self.emit(\"handshake\", hreq, hres);\n            if (match === \"NONE\") {\n              process.nextTick(function() {\n                emit(true);\n              });\n            } else {\n              self._adapter = adapter;\n              cb(null, parts.tail, adapter);\n            }\n          });\n        });\n        if (!writable) {\n          cb(new Error(\"invalid writable stream\"));\n          return;\n        }\n        writable.write({\n          id,\n          payload: [HANDSHAKE_REQUEST_TYPE.toBuffer(hreq), reqBuf]\n        });\n        if (self._endWritable) {\n          writable.end();\n        }\n      }\n    };\n    function StatefulClientChannel(client, readable, writable, opts) {\n      ClientChannel.call(this, client, opts);\n      this._readable = readable;\n      this._writable = writable;\n      this._connected = !!(opts && opts.noPing);\n      this._readable.on(\"end\", onEnd);\n      this._writable.on(\"finish\", onFinish);\n      var self = this;\n      var timer = null;\n      this.once(\"eot\", function() {\n        if (timer) {\n          clearTimeout(timer);\n          timer = null;\n        }\n        if (!self._connected) {\n          self.emit(\"_ready\");\n        }\n        this._writable.removeListener(\"finish\", onFinish);\n        if (this._endWritable) {\n          debug(\"ending transport\");\n          this._writable.end();\n        }\n        this._readable.removeListener(\"data\", onPing).removeListener(\"data\", onMessage).removeListener(\"end\", onEnd);\n      });\n      var hreq;\n      if (this._connected) {\n        this._readable.on(\"data\", onMessage);\n      } else {\n        this._readable.on(\"data\", onPing);\n        process.nextTick(ping);\n        if (self.timeout) {\n          timer = setTimeout(function() {\n            self.destroy(new Error(\"timeout\"));\n          }, self.timeout);\n        }\n      }\n      function ping(retry) {\n        if (self.destroyed) {\n          return;\n        }\n        hreq = self._createHandshakeRequest(self._adapter, !retry);\n        var payload = [\n          HANDSHAKE_REQUEST_TYPE.toBuffer(hreq),\n          utils.bufferFrom([0, 0])\n          // No header, no data (empty message name).\n        ];\n        self._writable.write({ id: self._prefix, payload });\n      }\n      function onPing(obj) {\n        if (!self._matchesPrefix(obj.id)) {\n          debug(\"discarding unscoped response %s (still connecting)\", obj.id);\n          return;\n        }\n        var buf = Buffer2.concat(obj.payload);\n        try {\n          var hres = readHead(HANDSHAKE_RESPONSE_TYPE, buf).head;\n          if (hres.serverHash) {\n            self._adapter = self._getAdapter(hres);\n          }\n        } catch (cause) {\n          self.destroy(cause);\n          return;\n        }\n        var match = hres.match;\n        debug(\"handshake match: %s\", match);\n        self.emit(\"handshake\", hreq, hres);\n        if (match === \"NONE\") {\n          process.nextTick(function() {\n            ping(true);\n          });\n        } else {\n          debug(\"successfully connected\");\n          if (timer) {\n            clearTimeout(timer);\n            timer = null;\n          }\n          self._readable.removeListener(\"data\", onPing).on(\"data\", onMessage);\n          self._connected = true;\n          self.emit(\"_ready\");\n          hreq = null;\n        }\n      }\n      function onMessage(obj) {\n        var id = obj.id;\n        if (!self._matchesPrefix(id)) {\n          debug(\"discarding unscoped message %s\", id);\n          return;\n        }\n        var cb = self._registry.get(id);\n        if (cb) {\n          process.nextTick(function() {\n            debug(\"received message %s\", id);\n            cb(null, Buffer2.concat(obj.payload), self._adapter);\n          });\n        }\n      }\n      function onEnd() {\n        self.destroy(true);\n      }\n      function onFinish() {\n        self.destroy();\n      }\n    }\n    util.inherits(StatefulClientChannel, ClientChannel);\n    StatefulClientChannel.prototype._emit = function() {\n      if (this._connected || this.draining) {\n        ClientChannel.prototype._emit.apply(this, arguments);\n      } else {\n        debug(\"queuing request\");\n        var args = [];\n        var i, l;\n        for (i = 0, l = arguments.length; i < l; i++) {\n          args.push(arguments[i]);\n        }\n        this.once(\"_ready\", function() {\n          this._emit.apply(this, args);\n        });\n      }\n    };\n    StatefulClientChannel.prototype._send = function(id, reqBuf, oneWay) {\n      if (oneWay) {\n        var self = this;\n        process.nextTick(function() {\n          self._registry.get(id)(null, utils.bufferFrom([0, 0, 0]), self._adapter);\n        });\n      }\n      return this._writable.write({ id, payload: [reqBuf] });\n    };\n    function ServerChannel(server, opts) {\n      opts = opts || {};\n      events.EventEmitter.call(this);\n      this.server = server;\n      this._endWritable = !!utils.getOption(opts, \"endWritable\", true);\n      this._prefix = normalizedPrefix(opts.scope);\n      var cache = server._cache;\n      var svc = server.service;\n      var hash = svc.hash;\n      if (!cache[hash]) {\n        cache[hash] = new Adapter(svc, svc, hash);\n      }\n      this._adapter = null;\n      this.destroyed = false;\n      this.draining = false;\n      this.pending = 0;\n      this.once(\"_eot\", function(pending, err) {\n        debug(\"server channel EOT\");\n        this.emit(\"eot\", pending, err);\n      });\n    }\n    util.inherits(ServerChannel, events.EventEmitter);\n    ServerChannel.prototype.destroy = function(noWait) {\n      if (!this.draining) {\n        this.draining = true;\n        this.emit(\"_drain\");\n      }\n      if (noWait || !this.pending) {\n        this.destroyed = true;\n        if (isError(noWait)) {\n          debug(\"fatal server channel error: %s\", noWait);\n          this.emit(\"_eot\", this.pending, noWait);\n        } else {\n          this.emit(\"_eot\", this.pending);\n        }\n      }\n    };\n    ServerChannel.prototype._createHandshakeResponse = function(err, hreq) {\n      var svc = this.server.service;\n      var buf = svc.hash;\n      var serverMatch = hreq && hreq.serverHash.equals(buf);\n      return {\n        match: err ? \"NONE\" : serverMatch ? \"BOTH\" : \"CLIENT\",\n        serverProtocol: serverMatch ? null : JSON.stringify(svc.protocol),\n        serverHash: serverMatch ? null : buf\n      };\n    };\n    ServerChannel.prototype._getAdapter = function(hreq) {\n      var hash = hreq.clientHash;\n      var adapter = this.server._cache[hash];\n      if (adapter) {\n        return adapter;\n      }\n      if (!hreq.clientProtocol) {\n        throw toRpcError(\"UNKNOWN_PROTOCOL\");\n      }\n      var ptcl = JSON.parse(hreq.clientProtocol);\n      var clientSvc = Service.forProtocol(ptcl);\n      adapter = new Adapter(clientSvc, this.server.service, hash, true);\n      return this.server._cache[hash] = adapter;\n    };\n    ServerChannel.prototype._matchesPrefix = function(id) {\n      return matchesPrefix(id, this._prefix);\n    };\n    ServerChannel.prototype._receive = function(reqBuf, adapter, cb) {\n      var self = this;\n      var wreq;\n      try {\n        wreq = adapter._decodeRequest(reqBuf);\n      } catch (cause) {\n        cb(self._encodeSystemError(toRpcError(\"INVALID_REQUEST\", cause)));\n        return;\n      }\n      var msg = wreq._msg;\n      var wres = new WrappedResponse(msg, {});\n      if (!msg.name) {\n        wres.response = null;\n        cb(wres.toBuffer(), false);\n        return;\n      }\n      var ctx = new CallContext(msg, this);\n      self.emit(\"incomingCall\", ctx);\n      var fns = this.server._fns;\n      debug(\"starting server middleware chain (%s middleware)\", fns.length);\n      self.pending++;\n      chainMiddleware({\n        fns,\n        ctx,\n        wreq,\n        wres,\n        onTransition,\n        onCompletion,\n        onError\n      });\n      function onTransition(wreq2, wres2, prev) {\n        var handler = self.server._handlers[msg.name];\n        if (!handler) {\n          var defaultHandler = self.server._defaultHandler;\n          if (defaultHandler) {\n            defaultHandler.call(ctx, wreq2, wres2, prev);\n          } else {\n            var cause = new Error(f2(\"no handler for %s\", msg.name));\n            prev(toRpcError(\"NOT_IMPLEMENTED\", cause));\n          }\n        } else {\n          var pending = !msg.oneWay;\n          try {\n            if (pending) {\n              handler.call(ctx, wreq2.request, function(err, res) {\n                pending = false;\n                wres2.error = err;\n                wres2.response = res;\n                prev();\n              });\n            } else {\n              handler.call(ctx, wreq2.request);\n              prev();\n            }\n          } catch (err) {\n            if (pending) {\n              pending = false;\n              prev(err);\n            } else {\n              onError(err);\n            }\n          }\n        }\n      }\n      function onCompletion(err) {\n        self.pending--;\n        var server = self.server;\n        var resBuf;\n        if (!err) {\n          var resErr = wres.error;\n          var isStrict = server._strict;\n          if (!isStrict) {\n            if (isError(resErr)) {\n              wres.error = msg.errorType.clone(resErr.message, { wrapUnions: true });\n            } else if (resErr === null) {\n              resErr = wres.error = void 0;\n            }\n            if (resErr === void 0 && wres.response === void 0 && msg.responseType.isValid(null)) {\n              wres.response = null;\n            }\n          }\n          try {\n            resBuf = wres.toBuffer();\n          } catch (cause) {\n            if (wres.error !== void 0) {\n              err = serializationError(\n                f2(\"invalid %j error\", msg.name),\n                // Sic.\n                wres,\n                [\n                  { name: \"headers\", type: MAP_BYTES_TYPE },\n                  { name: \"error\", type: msg.errorType }\n                ]\n              );\n            } else {\n              err = serializationError(\n                f2(\"invalid %j response\", msg.name),\n                wres,\n                [\n                  { name: \"headers\", type: MAP_BYTES_TYPE },\n                  { name: \"response\", type: msg.responseType }\n                ]\n              );\n            }\n          }\n        }\n        if (!resBuf) {\n          resBuf = self._encodeSystemError(err, wres.headers);\n        } else if (resErr !== void 0) {\n          server.emit(\"error\", toRpcError(\"APPLICATION_ERROR\", resErr));\n        }\n        cb(resBuf, msg.oneWay);\n        if (self.draining && !self.pending) {\n          self.destroy();\n        }\n      }\n      function onError(err) {\n        self.server.emit(\"error\", err, self);\n      }\n    };\n    utils.addDeprecatedGetters(ServerChannel, [\"pending\"]);\n    ServerChannel.prototype.getCache = util.deprecate(\n      function() {\n        return this.server._cache;\n      },\n      \"use `.remoteProtocols()` instead of `.getCache()`\"\n    );\n    ServerChannel.prototype.getProtocol = util.deprecate(\n      function() {\n        return this.server.service;\n      },\n      \"use `.service` instead of `.getProtocol()`\"\n    );\n    ServerChannel.prototype.isDestroyed = util.deprecate(\n      function() {\n        return this.destroyed;\n      },\n      \"use `.destroyed` instead of `.isDestroyed`\"\n    );\n    ServerChannel.prototype._encodeSystemError = function(err, header) {\n      var server = this.server;\n      server.emit(\"error\", err, this);\n      var errStr;\n      if (server._sysErrFormatter) {\n        errStr = server._sysErrFormatter.call(this, err);\n      } else if (err.rpcCode) {\n        errStr = err.message;\n      }\n      var hdrBuf;\n      if (header) {\n        try {\n          hdrBuf = MAP_BYTES_TYPE.toBuffer(header);\n        } catch (cause) {\n          server.emit(\"error\", cause, this);\n        }\n      }\n      return Buffer2.concat([\n        hdrBuf || utils.bufferFrom([0]),\n        utils.bufferFrom([1, 0]),\n        // Error flag and first union index.\n        STRING_TYPE.toBuffer(errStr || \"internal server error\")\n      ]);\n    };\n    function StatelessServerChannel(server, readableFactory, opts) {\n      ServerChannel.call(this, server, opts);\n      this._writable = void 0;\n      var self = this;\n      var readable;\n      process.nextTick(function() {\n        readable = readableFactory.call(self, function(err, writable) {\n          process.nextTick(function() {\n            if (err) {\n              onFinish(err);\n              return;\n            }\n            self._writable = writable.on(\"finish\", onFinish);\n            self.emit(\"_writable\");\n          });\n        }).on(\"data\", onRequest).on(\"end\", onEnd);\n      });\n      function onRequest(obj) {\n        var id = obj.id;\n        var buf = Buffer2.concat(obj.payload);\n        var err;\n        try {\n          var parts = readHead(HANDSHAKE_REQUEST_TYPE, buf);\n          var hreq = parts.head;\n          var adapter = self._getAdapter(hreq);\n        } catch (cause) {\n          err = toRpcError(\"INVALID_HANDSHAKE_REQUEST\", cause);\n        }\n        var hres = self._createHandshakeResponse(err, hreq);\n        self.emit(\"handshake\", hreq, hres);\n        if (err) {\n          done(self._encodeSystemError(err));\n        } else {\n          self._receive(parts.tail, adapter, done);\n        }\n        function done(resBuf) {\n          if (!self.destroyed) {\n            if (!self._writable) {\n              self.once(\"_writable\", function() {\n                done(resBuf);\n              });\n              return;\n            }\n            self._writable.write({\n              id,\n              payload: [HANDSHAKE_RESPONSE_TYPE.toBuffer(hres), resBuf]\n            });\n          }\n          if (self._writable && self._endWritable) {\n            self._writable.end();\n          }\n        }\n      }\n      function onEnd() {\n        self.destroy();\n      }\n      function onFinish(err) {\n        readable.removeListener(\"data\", onRequest).removeListener(\"end\", onEnd);\n        self.destroy(err || true);\n      }\n    }\n    util.inherits(StatelessServerChannel, ServerChannel);\n    function StatefulServerChannel(server, readable, writable, opts) {\n      ServerChannel.call(this, server, opts);\n      this._adapter = void 0;\n      this._writable = writable.on(\"finish\", onFinish);\n      this._readable = readable.on(\"data\", onHandshake).on(\"end\", onEnd);\n      this.once(\"_drain\", function() {\n        this._readable.removeListener(\"data\", onHandshake).removeListener(\"data\", onRequest).removeListener(\"end\", onEnd);\n      }).once(\"eot\", function() {\n        this._writable.removeListener(\"finish\", onFinish);\n        if (this._endWritable) {\n          this._writable.end();\n        }\n      });\n      var self = this;\n      function onHandshake(obj) {\n        var id = obj.id;\n        if (!self._matchesPrefix(id)) {\n          return;\n        }\n        var buf = Buffer2.concat(obj.payload);\n        var err;\n        try {\n          var parts = readHead(HANDSHAKE_REQUEST_TYPE, buf);\n          var hreq = parts.head;\n          self._adapter = self._getAdapter(hreq);\n        } catch (cause) {\n          err = toRpcError(\"INVALID_HANDSHAKE_REQUEST\", cause);\n        }\n        var hres = self._createHandshakeResponse(err, hreq);\n        self.emit(\"handshake\", hreq, hres);\n        if (err) {\n          done(self._encodeSystemError(err));\n        } else {\n          self._readable.removeListener(\"data\", onHandshake).on(\"data\", onRequest);\n          self._receive(parts.tail, self._adapter, done);\n        }\n        function done(resBuf) {\n          if (self.destroyed) {\n            return;\n          }\n          self._writable.write({\n            id,\n            payload: [HANDSHAKE_RESPONSE_TYPE.toBuffer(hres), resBuf]\n          });\n        }\n      }\n      function onRequest(obj) {\n        var id = obj.id;\n        if (!self._matchesPrefix(id)) {\n          return;\n        }\n        var reqBuf = Buffer2.concat(obj.payload);\n        self._receive(reqBuf, self._adapter, function(resBuf, oneWay) {\n          if (self.destroyed || oneWay) {\n            return;\n          }\n          self._writable.write({ id, payload: [resBuf] });\n        });\n      }\n      function onEnd() {\n        self.destroy();\n      }\n      function onFinish() {\n        self.destroy(true);\n      }\n    }\n    util.inherits(StatefulServerChannel, ServerChannel);\n    function WrappedRequest(msg, hdrs, req) {\n      this._msg = msg;\n      this.headers = hdrs || {};\n      this.request = req || {};\n    }\n    WrappedRequest.prototype.toBuffer = function() {\n      var msg = this._msg;\n      return Buffer2.concat([\n        MAP_BYTES_TYPE.toBuffer(this.headers),\n        STRING_TYPE.toBuffer(msg.name),\n        msg.requestType.toBuffer(this.request)\n      ]);\n    };\n    function WrappedResponse(msg, hdr, err, res) {\n      this._msg = msg;\n      this.headers = hdr;\n      this.error = err;\n      this.response = res;\n    }\n    WrappedResponse.prototype.toBuffer = function() {\n      var hdr = MAP_BYTES_TYPE.toBuffer(this.headers);\n      var hasError = this.error !== void 0;\n      return Buffer2.concat([\n        hdr,\n        BOOLEAN_TYPE.toBuffer(hasError),\n        hasError ? this._msg.errorType.toBuffer(this.error) : this._msg.responseType.toBuffer(this.response)\n      ]);\n    };\n    function CallContext(msg, channel) {\n      this.channel = channel;\n      this.locals = {};\n      this.message = msg;\n      Object.freeze(this);\n    }\n    function Registry(ctx, prefixLength) {\n      this._ctx = ctx;\n      this._mask = ~0 >>> (prefixLength | 0);\n      this._id = 0;\n      this._n = 0;\n      this._cbs = {};\n    }\n    Registry.prototype.get = function(id) {\n      return this._cbs[id & this._mask];\n    };\n    Registry.prototype.add = function(timeout, fn) {\n      this._id = this._id + 1 & this._mask;\n      var self = this;\n      var id = this._id;\n      var timer;\n      if (timeout > 0) {\n        timer = setTimeout(function() {\n          cb(new Error(\"timeout\"));\n        }, timeout);\n      }\n      this._cbs[id] = cb;\n      this._n++;\n      return id;\n      function cb() {\n        if (!self._cbs[id]) {\n          return;\n        }\n        delete self._cbs[id];\n        self._n--;\n        if (timer) {\n          clearTimeout(timer);\n        }\n        fn.apply(self._ctx, arguments);\n      }\n    };\n    Registry.prototype.clear = function() {\n      Object.keys(this._cbs).forEach(function(id) {\n        this._cbs[id](new Error(\"interrupted\"));\n      }, this);\n    };\n    function Adapter(clientSvc, serverSvc, hash, isRemote) {\n      this._clientSvc = clientSvc;\n      this._serverSvc = serverSvc;\n      this._hash = hash;\n      this._isRemote = !!isRemote;\n      this._readers = createReaders(clientSvc, serverSvc);\n    }\n    Adapter.prototype._decodeRequest = function(buf) {\n      var tap = new Tap(buf);\n      var hdr = MAP_BYTES_TYPE._read(tap);\n      var name = STRING_TYPE._read(tap);\n      var msg, req;\n      if (name) {\n        msg = this._serverSvc.message(name);\n        req = this._readers[name + \"?\"]._read(tap);\n      } else {\n        msg = PING_MESSAGE;\n      }\n      if (!tap.isValid()) {\n        throw new Error(f2(\"truncated %s request\", name || \"ping$\"));\n      }\n      return new WrappedRequest(msg, hdr, req);\n    };\n    Adapter.prototype._decodeResponse = function(buf, wres, msg) {\n      var tap = new Tap(buf);\n      utils.copyOwnProperties(MAP_BYTES_TYPE._read(tap), wres.headers, true);\n      var isError2 = BOOLEAN_TYPE._read(tap);\n      var name = msg.name;\n      if (name) {\n        var reader = this._readers[name + (isError2 ? \"*\" : \"!\")];\n        msg = this._clientSvc.message(name);\n        if (isError2) {\n          wres.error = reader._read(tap);\n        } else {\n          wres.response = reader._read(tap);\n        }\n        if (!tap.isValid()) {\n          throw new Error(f2(\"truncated %s response\", name));\n        }\n      } else {\n        msg = PING_MESSAGE;\n      }\n    };\n    function FrameDecoder() {\n      stream.Transform.call(this, { readableObjectMode: true });\n      this._id = void 0;\n      this._buf = utils.newBuffer(0);\n      this._bufs = [];\n      this.on(\"finish\", function() {\n        this.push(null);\n      });\n    }\n    util.inherits(FrameDecoder, stream.Transform);\n    FrameDecoder.prototype._transform = function(buf, encoding, cb) {\n      buf = Buffer2.concat([this._buf, buf]);\n      var frameLength;\n      while (buf.length >= 4 && buf.length >= (frameLength = buf.readInt32BE(0)) + 4) {\n        if (frameLength) {\n          this._bufs.push(buf.slice(4, frameLength + 4));\n        } else {\n          var bufs = this._bufs;\n          this._bufs = [];\n          this.push({ id: null, payload: bufs });\n        }\n        buf = buf.slice(frameLength + 4);\n      }\n      this._buf = buf;\n      cb();\n    };\n    FrameDecoder.prototype._flush = function(cb) {\n      if (this._buf.length || this._bufs.length) {\n        var bufs = this._bufs.slice();\n        bufs.unshift(this._buf);\n        var err = toRpcError(\"TRAILING_DATA\");\n        err.trailingData = Buffer2.concat(bufs).toString();\n        this.emit(\"error\", err);\n      }\n      cb();\n    };\n    function FrameEncoder() {\n      stream.Transform.call(this, { writableObjectMode: true });\n      this.on(\"finish\", function() {\n        this.push(null);\n      });\n    }\n    util.inherits(FrameEncoder, stream.Transform);\n    FrameEncoder.prototype._transform = function(obj, encoding, cb) {\n      var bufs = obj.payload;\n      var i, l, buf;\n      for (i = 0, l = bufs.length; i < l; i++) {\n        buf = bufs[i];\n        this.push(intBuffer(buf.length));\n        this.push(buf);\n      }\n      this.push(intBuffer(0));\n      cb();\n    };\n    function NettyDecoder() {\n      stream.Transform.call(this, { readableObjectMode: true });\n      this._id = void 0;\n      this._frameCount = 0;\n      this._buf = utils.newBuffer(0);\n      this._bufs = [];\n      this.on(\"finish\", function() {\n        this.push(null);\n      });\n    }\n    util.inherits(NettyDecoder, stream.Transform);\n    NettyDecoder.prototype._transform = function(buf, encoding, cb) {\n      buf = Buffer2.concat([this._buf, buf]);\n      while (true) {\n        if (this._id === void 0) {\n          if (buf.length < 8) {\n            this._buf = buf;\n            cb();\n            return;\n          }\n          this._id = buf.readInt32BE(0);\n          this._frameCount = buf.readInt32BE(4);\n          buf = buf.slice(8);\n        }\n        var frameLength;\n        while (this._frameCount && buf.length >= 4 && buf.length >= (frameLength = buf.readInt32BE(0)) + 4) {\n          this._frameCount--;\n          this._bufs.push(buf.slice(4, frameLength + 4));\n          buf = buf.slice(frameLength + 4);\n        }\n        if (this._frameCount) {\n          this._buf = buf;\n          cb();\n          return;\n        } else {\n          var obj = { id: this._id, payload: this._bufs };\n          this._bufs = [];\n          this._id = void 0;\n          this.push(obj);\n        }\n      }\n    };\n    NettyDecoder.prototype._flush = FrameDecoder.prototype._flush;\n    function NettyEncoder() {\n      stream.Transform.call(this, { writableObjectMode: true });\n      this.on(\"finish\", function() {\n        this.push(null);\n      });\n    }\n    util.inherits(NettyEncoder, stream.Transform);\n    NettyEncoder.prototype._transform = function(obj, encoding, cb) {\n      var bufs = obj.payload;\n      var l = bufs.length;\n      var buf;\n      buf = utils.newBuffer(8);\n      buf.writeInt32BE(obj.id, 0);\n      buf.writeInt32BE(l, 4);\n      this.push(buf);\n      var i;\n      for (i = 0; i < l; i++) {\n        buf = bufs[i];\n        this.push(intBuffer(buf.length));\n        this.push(buf);\n      }\n      cb();\n    };\n    function intBuffer(n) {\n      var buf = utils.newBuffer(4);\n      buf.writeInt32BE(n);\n      return buf;\n    }\n    function readHead(type, buf) {\n      var tap = new Tap(buf);\n      var head = type._read(tap);\n      if (!tap.isValid()) {\n        throw new Error(f2(\"truncated %j\", type.schema()));\n      }\n      return { head, tail: tap.buf.slice(tap.pos) };\n    }\n    function createReader(rtype, wtype) {\n      return rtype.equals(wtype) ? rtype : rtype.createResolver(wtype);\n    }\n    function createReaders(clientSvc, serverSvc) {\n      var obj = {};\n      clientSvc.messages.forEach(function(c) {\n        var n = c.name;\n        var s = serverSvc.message(n);\n        try {\n          if (!s) {\n            throw new Error(f2(\"missing server message: %s\", n));\n          }\n          if (s.oneWay !== c.oneWay) {\n            throw new Error(f2(\"inconsistent one-way message: %s\", n));\n          }\n          obj[n + \"?\"] = createReader(s.requestType, c.requestType);\n          obj[n + \"*\"] = createReader(c.errorType, s.errorType);\n          obj[n + \"!\"] = createReader(c.responseType, s.responseType);\n        } catch (cause) {\n          throw toRpcError(\"INCOMPATIBLE_PROTOCOL\", cause);\n        }\n      });\n      return obj;\n    }\n    function insertRemoteProtocols(cache, ptcls, svc, isClient) {\n      Object.keys(ptcls).forEach(function(hash) {\n        var ptcl = ptcls[hash];\n        var clientSvc, serverSvc;\n        if (isClient) {\n          clientSvc = svc;\n          serverSvc = Service.forProtocol(ptcl);\n        } else {\n          clientSvc = Service.forProtocol(ptcl);\n          serverSvc = svc;\n        }\n        cache[hash] = new Adapter(clientSvc, serverSvc, hash, true);\n      });\n    }\n    function getRemoteProtocols(cache, isClient) {\n      var ptcls = {};\n      Object.keys(cache).forEach(function(hs) {\n        var adapter = cache[hs];\n        if (adapter._isRemote) {\n          var svc = isClient ? adapter._serverSvc : adapter._clientSvc;\n          ptcls[hs] = svc.protocol;\n        }\n      });\n      return ptcls;\n    }\n    function isError(any) {\n      return !!any && Object.prototype.toString.call(any) === \"[object Error]\";\n    }\n    function forwardErrors(src, dst) {\n      return src.on(\"error\", function(err) {\n        dst.emit(\"error\", err, src);\n      });\n    }\n    function toError(msg, cause) {\n      var err = new Error(msg);\n      err.cause = cause;\n      return err;\n    }\n    function toRpcError(rpcCode, cause) {\n      var err = toError(rpcCode.toLowerCase().replace(/_/g, \" \"), cause);\n      err.rpcCode = cause && cause.rpcCode ? cause.rpcCode : rpcCode;\n      return err;\n    }\n    function serializationError(msg, obj, fields) {\n      var details = [];\n      var i, l, field;\n      for (i = 0, l = fields.length; i < l; i++) {\n        field = fields[i];\n        field.type.isValid(obj[field.name], { errorHook });\n      }\n      var detailsStr = details.map(function(obj2) {\n        return f2(\"%s = %j but expected %s\", obj2.path, obj2.value, obj2.type);\n      }).join(\", \");\n      var err = new Error(f2(\"%s (%s)\", msg, detailsStr));\n      err.details = details;\n      return err;\n      function errorHook(parts, any, type) {\n        var strs = [];\n        var i2, l2, part;\n        for (i2 = 0, l2 = parts.length; i2 < l2; i2++) {\n          part = parts[i2];\n          if (isNaN(part)) {\n            strs.push(\".\" + part);\n          } else {\n            strs.push(\"[\" + part + \"]\");\n          }\n        }\n        details.push({\n          path: field.name + strs.join(\"\"),\n          value: any,\n          type\n        });\n      }\n    }\n    function normalizedPrefix(scope) {\n      return scope ? utils.getHash(scope).readInt16BE(0) << 32 - PREFIX_LENGTH : 0;\n    }\n    function matchesPrefix(id, prefix) {\n      return (id ^ prefix) >> 32 - PREFIX_LENGTH === 0;\n    }\n    function isStream(any) {\n      return !!(any && any.pipe);\n    }\n    function getExistingMessage(svc, name) {\n      var msg = svc.message(name);\n      if (!msg) {\n        throw new Error(f2(\"unknown message: %s\", name));\n      }\n      return msg;\n    }\n    function chainMiddleware(params) {\n      var args = [params.wreq, params.wres];\n      var cbs = [];\n      var cause;\n      forward(0);\n      function forward(pos) {\n        var isDone = false;\n        if (pos < params.fns.length) {\n          params.fns[pos].apply(params.ctx, args.concat(function(err, cb) {\n            if (isDone) {\n              params.onError(toError(\"duplicate forward middleware call\", err));\n              return;\n            }\n            isDone = true;\n            if (err || params.wres && // Non one-way messages.\n            (params.wres.error !== void 0 || params.wres.response !== void 0)) {\n              cause = err;\n              backward();\n              return;\n            }\n            if (cb) {\n              cbs.push(cb);\n            }\n            forward(++pos);\n          }));\n        } else {\n          params.onTransition.apply(params.ctx, args.concat(function(err) {\n            if (isDone) {\n              params.onError(toError(\"duplicate handler call\", err));\n              return;\n            }\n            isDone = true;\n            cause = err;\n            process.nextTick(backward);\n          }));\n        }\n      }\n      function backward() {\n        var cb = cbs.pop();\n        if (cb) {\n          var isDone = false;\n          cb.call(params.ctx, cause, function(err) {\n            if (isDone) {\n              params.onError(toError(\"duplicate backward middleware call\", err));\n              return;\n            }\n            cause = err;\n            isDone = true;\n            backward();\n          });\n        } else {\n          params.onCompletion.call(params.ctx, cause);\n        }\n      }\n    }\n    module.exports = {\n      Adapter,\n      HANDSHAKE_REQUEST_TYPE,\n      HANDSHAKE_RESPONSE_TYPE,\n      Message,\n      Registry,\n      Service,\n      discoverProtocol,\n      streams: {\n        FrameDecoder,\n        FrameEncoder,\n        NettyDecoder,\n        NettyEncoder\n      }\n    };\n  }\n});\n\n// node_modules/avsc/lib/files.js\nvar require_files = __commonJS({\n  \"node_modules/avsc/lib/files.js\"(exports, module) {\n    \"use strict\";\n    var fs = __import_FS;\n    var path = __import_PATH;\n    function createImportHook() {\n      var imports = {};\n      return function(fpath, kind, cb) {\n        fpath = path.resolve(fpath);\n        if (imports[fpath]) {\n          process.nextTick(cb);\n          return;\n        }\n        imports[fpath] = true;\n        fs.readFile(fpath, { encoding: \"utf8\" }, cb);\n      };\n    }\n    function createSyncImportHook() {\n      var imports = {};\n      return function(fpath, kind, cb) {\n        fpath = path.resolve(fpath);\n        if (imports[fpath]) {\n          cb();\n        } else {\n          imports[fpath] = true;\n          cb(null, fs.readFileSync(fpath, { encoding: \"utf8\" }));\n        }\n      };\n    }\n    module.exports = {\n      createImportHook,\n      createSyncImportHook,\n      // Proxy a few methods to better shim them for browserify.\n      existsSync: fs.existsSync,\n      readFileSync: fs.readFileSync\n    };\n  }\n});\n\n// node_modules/avsc/lib/specs.js\nvar require_specs = __commonJS({\n  \"node_modules/avsc/lib/specs.js\"(exports, module) {\n    \"use strict\";\n    var files = require_files();\n    var utils = require_utils();\n    var path = __import_PATH;\n    var util = __import_UTIL;\n    var f2 = util.format;\n    var TYPE_REFS = {\n      date: { type: \"int\", logicalType: \"date\" },\n      decimal: { type: \"bytes\", logicalType: \"decimal\" },\n      time_ms: { type: \"long\", logicalType: \"time-millis\" },\n      timestamp_ms: { type: \"long\", logicalType: \"timestamp-millis\" }\n    };\n    function assembleProtocol(fpath, opts, cb) {\n      if (!cb && typeof opts == \"function\") {\n        cb = opts;\n        opts = void 0;\n      }\n      opts = opts || {};\n      if (!opts.importHook) {\n        opts.importHook = files.createImportHook();\n      }\n      importFile(fpath, function(err, protocol) {\n        if (err) {\n          cb(err);\n          return;\n        }\n        if (!protocol) {\n          cb(new Error(\"empty root import\"));\n          return;\n        }\n        var schemas = protocol.types;\n        if (schemas) {\n          var namespace = protocolNamespace(protocol) || \"\";\n          schemas.forEach(function(schema) {\n            if (schema.namespace === namespace) {\n              delete schema.namespace;\n            }\n          });\n        }\n        cb(null, protocol);\n      });\n      function importFile(fpath2, cb2) {\n        opts.importHook(fpath2, \"idl\", function(err, str) {\n          if (err) {\n            cb2(err);\n            return;\n          }\n          if (str === void 0) {\n            cb2();\n            return;\n          }\n          try {\n            var reader = new Reader(str, opts);\n            var obj = reader._readProtocol(str, opts);\n          } catch (err2) {\n            err2.path = fpath2;\n            cb2(err2);\n            return;\n          }\n          fetchImports(obj.protocol, obj.imports, path.dirname(fpath2), cb2);\n        });\n      }\n      function fetchImports(protocol, imports, dpath, cb2) {\n        var importedProtocols = [];\n        next();\n        function next() {\n          var info = imports.shift();\n          if (!info) {\n            importedProtocols.reverse();\n            try {\n              importedProtocols.forEach(function(imported) {\n                mergeImport(protocol, imported);\n              });\n            } catch (err) {\n              cb2(err);\n              return;\n            }\n            cb2(null, protocol);\n            return;\n          }\n          var importPath = path.join(dpath, info.name);\n          if (info.kind === \"idl\") {\n            importFile(importPath, function(err, imported) {\n              if (err) {\n                cb2(err);\n                return;\n              }\n              if (imported) {\n                importedProtocols.push(imported);\n              }\n              next();\n            });\n          } else {\n            opts.importHook(importPath, info.kind, function(err, str) {\n              if (err) {\n                cb2(err);\n                return;\n              }\n              switch (info.kind) {\n                case \"protocol\":\n                case \"schema\":\n                  if (str === void 0) {\n                    next();\n                    return;\n                  }\n                  try {\n                    var obj = JSON.parse(str);\n                  } catch (err2) {\n                    err2.path = importPath;\n                    cb2(err2);\n                    return;\n                  }\n                  var imported = info.kind === \"schema\" ? { types: [obj] } : obj;\n                  importedProtocols.push(imported);\n                  next();\n                  return;\n                default:\n                  cb2(new Error(f2(\"invalid import kind: %s\", info.kind)));\n              }\n            });\n          }\n        }\n      }\n      function mergeImport(protocol, imported) {\n        var schemas = imported.types || [];\n        schemas.reverse();\n        schemas.forEach(function(schema) {\n          if (!protocol.types) {\n            protocol.types = [];\n          }\n          if (schema.namespace === void 0) {\n            schema.namespace = protocolNamespace(imported) || \"\";\n          }\n          protocol.types.unshift(schema);\n        });\n        Object.keys(imported.messages || {}).forEach(function(name) {\n          if (!protocol.messages) {\n            protocol.messages = {};\n          }\n          if (protocol.messages[name]) {\n            throw new Error(f2(\"duplicate message: %s\", name));\n          }\n          protocol.messages[name] = imported.messages[name];\n        });\n      }\n    }\n    function read(str) {\n      var schema;\n      if (typeof str == \"string\" && ~str.indexOf(path.sep) && files.existsSync(str)) {\n        var contents = files.readFileSync(str, { encoding: \"utf8\" });\n        try {\n          return JSON.parse(contents);\n        } catch (err) {\n          var opts = { importHook: files.createSyncImportHook() };\n          assembleProtocol(str, opts, function(err2, protocolSchema) {\n            schema = err2 ? contents : protocolSchema;\n          });\n        }\n      } else {\n        schema = str;\n      }\n      if (typeof schema != \"string\" || schema === \"null\") {\n        return schema;\n      }\n      try {\n        return JSON.parse(schema);\n      } catch (err) {\n        try {\n          return Reader.readProtocol(schema);\n        } catch (err2) {\n          try {\n            return Reader.readSchema(schema);\n          } catch (err3) {\n            return schema;\n          }\n        }\n      }\n    }\n    function Reader(str, opts) {\n      opts = opts || {};\n      this._tk = new Tokenizer(str);\n      this._ackVoidMessages = !!opts.ackVoidMessages;\n      this._implicitTags = !opts.delimitedCollections;\n      this._typeRefs = opts.typeRefs || TYPE_REFS;\n    }\n    Reader.readProtocol = function(str, opts) {\n      var reader = new Reader(str, opts);\n      var protocol = reader._readProtocol();\n      if (protocol.imports.length) {\n        throw new Error(\"unresolvable import\");\n      }\n      return protocol.protocol;\n    };\n    Reader.readSchema = function(str, opts) {\n      var reader = new Reader(str, opts);\n      var doc = reader._readJavadoc();\n      var schema = reader._readType(doc === void 0 ? {} : { doc }, true);\n      reader._tk.next({ id: \"(eof)\" });\n      return schema;\n    };\n    Reader.prototype._readProtocol = function() {\n      var tk = this._tk;\n      var imports = [];\n      var types = [];\n      var messages = {};\n      var pos;\n      this._readImports(imports);\n      var protocolSchema = {};\n      var protocolJavadoc = this._readJavadoc();\n      if (protocolJavadoc !== void 0) {\n        protocolSchema.doc = protocolJavadoc;\n      }\n      this._readAnnotations(protocolSchema);\n      tk.next({ val: \"protocol\" });\n      if (!tk.next({ val: \"{\", silent: true })) {\n        protocolSchema.protocol = tk.next({ id: \"name\" }).val;\n        tk.next({ val: \"{\" });\n      }\n      while (!tk.next({ val: \"}\", silent: true })) {\n        if (!this._readImports(imports)) {\n          var javadoc = this._readJavadoc();\n          var typeSchema = this._readType({}, true);\n          var numImports = this._readImports(imports, true);\n          var message = void 0;\n          pos = tk.pos;\n          if (!numImports && (message = this._readMessage(typeSchema))) {\n            if (javadoc !== void 0 && message.schema.doc === void 0) {\n              message.schema.doc = javadoc;\n            }\n            var oneWay = false;\n            if (message.schema.response === \"void\" || message.schema.response.type === \"void\") {\n              oneWay = !this._ackVoidMessages && !message.schema.errors;\n              if (message.schema.response === \"void\") {\n                message.schema.response = \"null\";\n              } else {\n                message.schema.response.type = \"null\";\n              }\n            }\n            if (oneWay) {\n              message.schema[\"one-way\"] = true;\n            }\n            if (messages[message.name]) {\n              throw new Error(f2(\"duplicate message: %s\", message.name));\n            }\n            messages[message.name] = message.schema;\n          } else {\n            if (javadoc) {\n              if (typeof typeSchema == \"string\") {\n                typeSchema = { doc: javadoc, type: typeSchema };\n              } else if (typeSchema.doc === void 0) {\n                typeSchema.doc = javadoc;\n              }\n            }\n            types.push(typeSchema);\n            tk.pos = pos;\n            tk.next({ val: \";\", silent: true });\n          }\n          javadoc = void 0;\n        }\n      }\n      tk.next({ id: \"(eof)\" });\n      if (types.length) {\n        protocolSchema.types = types;\n      }\n      if (Object.keys(messages).length) {\n        protocolSchema.messages = messages;\n      }\n      return { protocol: protocolSchema, imports };\n    };\n    Reader.prototype._readAnnotations = function(schema) {\n      var tk = this._tk;\n      while (tk.next({ val: \"@\", silent: true })) {\n        var parts = [];\n        while (!tk.next({ val: \"(\", silent: true })) {\n          parts.push(tk.next().val);\n        }\n        schema[parts.join(\"\")] = tk.next({ id: \"json\" }).val;\n        tk.next({ val: \")\" });\n      }\n    };\n    Reader.prototype._readMessage = function(responseSchema) {\n      var tk = this._tk;\n      var schema = { request: [], response: responseSchema };\n      this._readAnnotations(schema);\n      var name = tk.next().val;\n      if (tk.next().val !== \"(\") {\n        return;\n      }\n      if (!tk.next({ val: \")\", silent: true })) {\n        do {\n          schema.request.push(this._readField());\n        } while (!tk.next({ val: \")\", silent: true }) && tk.next({ val: \",\" }));\n      }\n      var token = tk.next();\n      switch (token.val) {\n        case \"throws\":\n          schema.errors = [];\n          do {\n            schema.errors.push(this._readType());\n          } while (!tk.next({ val: \";\", silent: true }) && tk.next({ val: \",\" }));\n          break;\n        case \"oneway\":\n          schema[\"one-way\"] = true;\n          tk.next({ val: \";\" });\n          break;\n        case \";\":\n          break;\n        default:\n          throw tk.error(\"invalid message suffix\", token);\n      }\n      return { name, schema };\n    };\n    Reader.prototype._readJavadoc = function() {\n      var token = this._tk.next({ id: \"javadoc\", emitJavadoc: true, silent: true });\n      if (token) {\n        return token.val;\n      }\n    };\n    Reader.prototype._readField = function() {\n      var tk = this._tk;\n      var javadoc = this._readJavadoc();\n      var schema = { type: this._readType() };\n      if (javadoc !== void 0 && schema.doc === void 0) {\n        schema.doc = javadoc;\n      }\n      this._readAnnotations(schema);\n      schema.name = tk.next({ id: \"name\" }).val;\n      if (tk.next({ val: \"=\", silent: true })) {\n        schema[\"default\"] = tk.next({ id: \"json\" }).val;\n      }\n      return schema;\n    };\n    Reader.prototype._readType = function(schema, top) {\n      schema = schema || {};\n      this._readAnnotations(schema);\n      schema.type = this._tk.next({ id: \"name\" }).val;\n      switch (schema.type) {\n        case \"record\":\n        case \"error\":\n          return this._readRecord(schema);\n        case \"fixed\":\n          return this._readFixed(schema);\n        case \"enum\":\n          return this._readEnum(schema, top);\n        case \"map\":\n          return this._readMap(schema);\n        case \"array\":\n          return this._readArray(schema);\n        case \"union\":\n          if (Object.keys(schema).length > 1) {\n            throw new Error(\"union annotations are not supported\");\n          }\n          return this._readUnion();\n        default:\n          var ref = this._typeRefs[schema.type];\n          if (ref) {\n            delete schema.type;\n            utils.copyOwnProperties(ref, schema);\n          }\n          return Object.keys(schema).length > 1 ? schema : schema.type;\n      }\n    };\n    Reader.prototype._readFixed = function(schema) {\n      var tk = this._tk;\n      if (!tk.next({ val: \"(\", silent: true })) {\n        schema.name = tk.next({ id: \"name\" }).val;\n        tk.next({ val: \"(\" });\n      }\n      schema.size = parseInt(tk.next({ id: \"number\" }).val);\n      tk.next({ val: \")\" });\n      return schema;\n    };\n    Reader.prototype._readMap = function(schema) {\n      var tk = this._tk;\n      var silent = this._implicitTags;\n      var implicitTags = tk.next({ val: \"<\", silent }) === void 0;\n      schema.values = this._readType();\n      tk.next({ val: \">\", silent: implicitTags });\n      return schema;\n    };\n    Reader.prototype._readArray = function(schema) {\n      var tk = this._tk;\n      var silent = this._implicitTags;\n      var implicitTags = tk.next({ val: \"<\", silent }) === void 0;\n      schema.items = this._readType();\n      tk.next({ val: \">\", silent: implicitTags });\n      return schema;\n    };\n    Reader.prototype._readEnum = function(schema, top) {\n      var tk = this._tk;\n      if (!tk.next({ val: \"{\", silent: true })) {\n        schema.name = tk.next({ id: \"name\" }).val;\n        tk.next({ val: \"{\" });\n      }\n      schema.symbols = [];\n      do {\n        schema.symbols.push(tk.next().val);\n      } while (!tk.next({ val: \"}\", silent: true }) && tk.next({ val: \",\" }));\n      if (top && tk.next({ val: \"=\", silent: true })) {\n        schema.default = tk.next().val;\n        tk.next({ val: \";\" });\n      }\n      return schema;\n    };\n    Reader.prototype._readUnion = function() {\n      var tk = this._tk;\n      var arr = [];\n      tk.next({ val: \"{\" });\n      do {\n        arr.push(this._readType());\n      } while (!tk.next({ val: \"}\", silent: true }) && tk.next({ val: \",\" }));\n      return arr;\n    };\n    Reader.prototype._readRecord = function(schema) {\n      var tk = this._tk;\n      if (!tk.next({ val: \"{\", silent: true })) {\n        schema.name = tk.next({ id: \"name\" }).val;\n        tk.next({ val: \"{\" });\n      }\n      schema.fields = [];\n      while (!tk.next({ val: \"}\", silent: true })) {\n        schema.fields.push(this._readField());\n        tk.next({ val: \";\" });\n      }\n      return schema;\n    };\n    Reader.prototype._readImports = function(imports, maybeMessage) {\n      var tk = this._tk;\n      var numImports = 0;\n      var pos = tk.pos;\n      while (tk.next({ val: \"import\", silent: true })) {\n        if (!numImports && maybeMessage && tk.next({ val: \"(\", silent: true })) {\n          tk.pos = pos;\n          return;\n        }\n        var kind = tk.next({ id: \"name\" }).val;\n        var fname = JSON.parse(tk.next({ id: \"string\" }).val);\n        tk.next({ val: \";\" });\n        imports.push({ kind, name: fname });\n        numImports++;\n      }\n      return numImports;\n    };\n    function Tokenizer(str) {\n      this._str = str;\n      this.pos = 0;\n    }\n    Tokenizer.prototype.next = function(opts) {\n      var token = { pos: this.pos, id: void 0, val: void 0 };\n      var javadoc = this._skip(opts && opts.emitJavadoc);\n      if (typeof javadoc == \"string\") {\n        token.id = \"javadoc\";\n        token.val = javadoc;\n      } else {\n        var pos = this.pos;\n        var str = this._str;\n        var c = str.charAt(pos);\n        if (!c) {\n          token.id = \"(eof)\";\n        } else {\n          if (opts && opts.id === \"json\") {\n            token.id = \"json\";\n            this.pos = this._endOfJson();\n          } else if (c === '\"') {\n            token.id = \"string\";\n            this.pos = this._endOfString();\n          } else if (/[0-9]/.test(c)) {\n            token.id = \"number\";\n            this.pos = this._endOf(/[0-9]/);\n          } else if (/[`A-Za-z_.]/.test(c)) {\n            token.id = \"name\";\n            this.pos = this._endOf(/[`A-Za-z0-9_.]/);\n          } else {\n            token.id = \"operator\";\n            this.pos = pos + 1;\n          }\n          token.val = str.slice(pos, this.pos);\n          if (token.id === \"json\") {\n            try {\n              token.val = JSON.parse(token.val);\n            } catch (err2) {\n              throw this.error(\"invalid JSON\", token);\n            }\n          } else if (token.id === \"name\") {\n            token.val = token.val.replace(/`/g, \"\");\n          }\n        }\n      }\n      var err;\n      if (opts && opts.id && opts.id !== token.id) {\n        err = this.error(f2(\"expected ID %s\", opts.id), token);\n      } else if (opts && opts.val && opts.val !== token.val) {\n        err = this.error(f2(\"expected value %s\", opts.val), token);\n      }\n      if (!err) {\n        return token;\n      } else if (opts && opts.silent) {\n        this.pos = token.pos;\n        return void 0;\n      } else {\n        throw err;\n      }\n    };\n    Tokenizer.prototype.error = function(reason, context) {\n      var isToken = typeof context != \"number\";\n      var pos = isToken ? context.pos : context;\n      var str = this._str;\n      var lineNum = 1;\n      var lineStart = 0;\n      var i;\n      for (i = 0; i < pos; i++) {\n        if (str.charAt(i) === \"\\n\") {\n          lineNum++;\n          lineStart = i;\n        }\n      }\n      var msg = isToken ? f2(\"invalid token %j: %s\", context, reason) : reason;\n      var err = new Error(msg);\n      err.token = isToken ? context : void 0;\n      err.lineNum = lineNum;\n      err.colNum = pos - lineStart;\n      return err;\n    };\n    Tokenizer.prototype._skip = function(emitJavadoc) {\n      var str = this._str;\n      var isJavadoc = false;\n      var pos, c;\n      while ((c = str.charAt(this.pos)) && /\\s/.test(c)) {\n        this.pos++;\n      }\n      pos = this.pos;\n      if (c === \"/\") {\n        switch (str.charAt(this.pos + 1)) {\n          case \"/\":\n            this.pos += 2;\n            while ((c = str.charAt(this.pos)) && c !== \"\\n\") {\n              this.pos++;\n            }\n            return this._skip(emitJavadoc);\n          case \"*\":\n            this.pos += 2;\n            if (str.charAt(this.pos) === \"*\") {\n              isJavadoc = true;\n            }\n            while (c = str.charAt(this.pos++)) {\n              if (c === \"*\" && str.charAt(this.pos) === \"/\") {\n                this.pos++;\n                if (isJavadoc && emitJavadoc) {\n                  return extractJavadoc(str.slice(pos + 3, this.pos - 2));\n                }\n                return this._skip(emitJavadoc);\n              }\n            }\n            throw this.error(\"unterminated comment\", pos);\n        }\n      }\n    };\n    Tokenizer.prototype._endOf = function(pat) {\n      var pos = this.pos;\n      var str = this._str;\n      while (pat.test(str.charAt(pos))) {\n        pos++;\n      }\n      return pos;\n    };\n    Tokenizer.prototype._endOfString = function() {\n      var pos = this.pos + 1;\n      var str = this._str;\n      var c;\n      while (c = str.charAt(pos)) {\n        if (c === '\"') {\n          return pos + 1;\n        }\n        if (c === \"\\\\\") {\n          pos += 2;\n        } else {\n          pos++;\n        }\n      }\n      throw this.error(\"unterminated string\", pos - 1);\n    };\n    Tokenizer.prototype._endOfJson = function() {\n      var pos = utils.jsonEnd(this._str, this.pos);\n      if (pos < 0) {\n        throw this.error(\"invalid JSON\", pos);\n      }\n      return pos;\n    };\n    function extractJavadoc(str) {\n      var lines = str.replace(/^[ \\t]+|[ \\t]+$/g, \"\").split(\"\\n\").map(function(line, i) {\n        return i ? line.replace(/^\\s*\\*\\s?/, \"\") : line;\n      });\n      while (lines.length && !lines[0]) {\n        lines.shift();\n      }\n      while (lines.length && !lines[lines.length - 1]) {\n        lines.pop();\n      }\n      return lines.join(\"\\n\");\n    }\n    function protocolNamespace(protocol) {\n      if (protocol.namespace) {\n        return protocol.namespace;\n      }\n      var match = /^(.*)\\.[^.]+$/.exec(protocol.protocol);\n      return match ? match[1] : void 0;\n    }\n    module.exports = {\n      Tokenizer,\n      assembleProtocol,\n      read,\n      readProtocol: Reader.readProtocol,\n      readSchema: Reader.readSchema\n    };\n  }\n});\n\n// node_modules/avsc/lib/index.js\nvar require_lib = __commonJS({\n  \"node_modules/avsc/lib/index.js\"(exports, module) {\n    \"use strict\";\n    var containers = require_containers();\n    var services = require_services();\n    var specs = require_specs();\n    var types = require_types();\n    var utils = require_utils();\n    var buffer = __import_BUFFER;\n    var fs = __import_FS;\n    var util = __import_UTIL;\n    var Buffer2 = buffer.Buffer;\n    function parse2(any, opts) {\n      var schemaOrProtocol = specs.read(any);\n      return schemaOrProtocol.protocol ? services.Service.forProtocol(schemaOrProtocol, opts) : types.Type.forSchema(schemaOrProtocol, opts);\n    }\n    function extractFileHeader(path, opts) {\n      opts = opts || {};\n      var decode = opts.decode === void 0 ? true : !!opts.decode;\n      var size = Math.max(opts.size || 4096, 4);\n      var buf = utils.newBuffer(size);\n      var fd = fs.openSync(path, \"r\");\n      try {\n        var pos = fs.readSync(fd, buf, 0, size);\n        if (pos < 4 || !containers.MAGIC_BYTES.equals(buf.slice(0, 4))) {\n          return null;\n        }\n        var tap = new utils.Tap(buf);\n        var header = null;\n        do {\n          header = containers.HEADER_TYPE._read(tap);\n        } while (!isValid());\n        if (decode !== false) {\n          var meta = header.meta;\n          meta[\"avro.schema\"] = JSON.parse(meta[\"avro.schema\"].toString());\n          if (meta[\"avro.codec\"] !== void 0) {\n            meta[\"avro.codec\"] = meta[\"avro.codec\"].toString();\n          }\n        }\n        return header;\n      } finally {\n        fs.closeSync(fd);\n      }\n      function isValid() {\n        if (tap.isValid()) {\n          return true;\n        }\n        var len = 2 * tap.buf.length;\n        var buf2 = utils.newBuffer(len);\n        len = fs.readSync(fd, buf2, 0, len);\n        tap.buf = Buffer2.concat([tap.buf, buf2]);\n        tap.pos = 0;\n        return false;\n      }\n    }\n    function createFileDecoder(path, opts) {\n      return fs.createReadStream(path).pipe(new containers.streams.BlockDecoder(opts));\n    }\n    function createFileEncoder(path, schema, opts) {\n      var encoder = new containers.streams.BlockEncoder(schema, opts);\n      encoder.pipe(fs.createWriteStream(path, { defaultEncoding: \"binary\" }));\n      return encoder;\n    }\n    module.exports = {\n      Service: services.Service,\n      Type: types.Type,\n      assembleProtocol: specs.assembleProtocol,\n      createFileDecoder,\n      createFileEncoder,\n      discoverProtocol: services.discoverProtocol,\n      extractFileHeader,\n      parse: parse2,\n      readProtocol: specs.readProtocol,\n      readSchema: specs.readSchema,\n      streams: containers.streams,\n      types: types.builtins,\n      // Deprecated exports.\n      Protocol: services.Service,\n      assemble: util.deprecate(\n        specs.assembleProtocol,\n        \"use `assembleProtocol` instead\"\n      ),\n      combine: util.deprecate(\n        types.Type.forTypes,\n        \"use `Type.forTypes` intead\"\n      ),\n      infer: util.deprecate(\n        types.Type.forValue,\n        \"use `Type.forValue` instead\"\n      )\n    };\n  }\n});\n\n// node_modules/ultralight-s3/lib/index.min.js\nvar x = \"AWS4-HMAC-SHA256\";\nvar K = \"aws4_request\";\nvar O = \"s3\";\nvar v = \"2\";\nvar E = \"UNSIGNED-PAYLOAD\";\nvar W = \"application/octet-stream\";\nvar M = \"application/xml\";\nvar w = \"application/json\";\nvar X = [\"accessKeyId\", \"secretAccessKey\", \"sessionToken\", \"password\"];\nvar f = \"x-amz-content-sha256\";\nvar Z = \"x-amz-date\";\nvar V = \"host\";\nvar J = \"Authorization\";\nvar m = \"Content-Type\";\nvar T = \"Content-Length\";\nvar P = \"etag\";\nvar C = \"last-modified\";\nvar u = \"ultralight-s3 Module: \";\nvar ee = `${u}accessKeyId must be a non-empty string`;\nvar te = `${u}secretAccessKey must be a non-empty string`;\nvar se = `${u}endpoint must be a non-empty string`;\nvar re = `${u}bucketName must be a non-empty string`;\nvar j = `${u}key must be a non-empty string`;\nvar $ = `${u}uploadId must be a non-empty string`;\nvar L = `${u}parts must be a non-empty array`;\nvar k = `${u}Each part must have a partNumber (number) and ETag (string)`;\nvar D = `${u}data must be a Buffer or string`;\nvar B = `${u}prefix must be a string`;\nvar F = `${u}maxKeys must be a positive integer`;\nvar G = `${u}delimiter must be a string`;\nvar z = crypto.createHmac || (await import(\"node:crypto\")).createHmac;\nvar Q = crypto.createHash || (await import(\"node:crypto\")).createHash;\ntypeof z > \"u\" && typeof Q > \"u\" && console.error(\"ultralight-S3 Module: Crypto functions are not available, please report the issue with necessary description: https://github.com/sentienhq/ultralight-s3/issues\");\nvar ne = { contents: true };\nvar oe = (p) => `%${p.charCodeAt(0).toString(16).toUpperCase()}`;\nvar q = (p) => encodeURIComponent(p).replace(/[!'()*]/g, oe);\nvar y = (p) => q(p).replace(/%2F/g, \"/\");\nvar N = class {\n  constructor({ accessKeyId: e, secretAccessKey: t, endpoint: r, bucketName: n, region: o = \"auto\", maxRequestSizeInBytes: i = 5242880, requestAbortTimeout: a = void 0, logger: c = void 0 }) {\n    this.getBucketName = () => this.bucketName, this.setBucketName = (s) => {\n      this.bucketName = s;\n    }, this.getRegion = () => this.region, this.setRegion = (s) => {\n      this.region = s;\n    }, this.getEndpoint = () => this.endpoint, this.setEndpoint = (s) => {\n      this.endpoint = s;\n    }, this.getMaxRequestSizeInBytes = () => this.maxRequestSizeInBytes, this.setMaxRequestSizeInBytes = (s) => {\n      this.maxRequestSizeInBytes = s;\n    }, this.sanitizeETag = (s) => H(s), this.getProps = () => ({ accessKeyId: this.accessKeyId, secretAccessKey: this.secretAccessKey, region: this.region, bucket: this.bucketName, endpoint: this.endpoint, maxRequestSizeInBytes: this.maxRequestSizeInBytes, requestAbortTimeout: this.requestAbortTimeout, logger: this.logger }), this.setProps = (s) => {\n      this._validateConstructorParams(s.accessKeyId, s.secretAccessKey, s.bucketName, s.endpoint), this.accessKeyId = s.accessKeyId, this.secretAccessKey = s.secretAccessKey, this.region = s.region || \"auto\", this.bucketName = s.bucketName, this.endpoint = s.endpoint, this.maxRequestSizeInBytes = s.maxRequestSizeInBytes || 5242880, this.requestAbortTimeout = s.requestAbortTimeout, this.logger = s.logger;\n    }, this._validateConstructorParams(e, t, r, n), this.accessKeyId = e, this.secretAccessKey = t, this.endpoint = r, this.bucketName = n, this.region = o, this.maxRequestSizeInBytes = i, this.requestAbortTimeout = a, this.logger = c;\n  }\n  _validateConstructorParams(e, t, r, n) {\n    if (typeof e != \"string\" || e.trim().length === 0) throw new TypeError(ee);\n    if (typeof t != \"string\" || t.trim().length === 0) throw new TypeError(te);\n    if (typeof r != \"string\" || r.trim().length === 0) throw new TypeError(se);\n    if (typeof n != \"string\" || n.trim().length === 0) throw new TypeError(re);\n  }\n  _checkMethodHeadnGet(e) {\n    if (e !== \"GET\" && e !== \"HEAD\") throw this._log(\"error\", `${u}method must be either GET or HEAD`), new Error(\"method must be either GET or HEAD\");\n  }\n  _checkKey(e) {\n    if (typeof e != \"string\" || e.trim().length === 0) throw this._log(\"error\", j), new TypeError(j);\n  }\n  _checkDelimiter(e) {\n    if (typeof e != \"string\" || e.trim().length === 0) throw this._log(\"error\", G), new TypeError(G);\n  }\n  _checkPrefix(e) {\n    if (typeof e != \"string\") throw this._log(\"error\", B), new TypeError(B);\n  }\n  _checkMaxKeys(e) {\n    if (typeof e != \"number\" || e <= 0) throw this._log(\"error\", F), new TypeError(F);\n  }\n  _checkOpts(e) {\n    if (typeof e != \"object\") throw this._log(\"error\", `${u}opts must be an object`), new TypeError(`${u}opts must be an object`);\n  }\n  _log(e, t, r = {}) {\n    if (this.logger && typeof this.logger[e] == \"function\") {\n      let n = (a) => typeof a != \"object\" || a === null ? a : Object.keys(a).reduce((c, s) => (X.includes(s.toLowerCase()) ? c[s] = \"[REDACTED]\" : typeof a[s] == \"object\" && a[s] !== null ? c[s] = n(a[s]) : c[s] = a[s], c), Array.isArray(a) ? [] : {}), o = n(r), i = { timestamp: (/* @__PURE__ */ new Date()).toISOString(), level: e, message: t, ...o, context: n({ bucketName: this.bucketName, region: this.region, endpoint: this.endpoint, accessKeyId: this.accessKeyId ? `${this.accessKeyId.substring(0, 4)}...` : void 0 }) };\n      this.logger[e](i);\n    }\n  }\n  async getContentLength(e) {\n    this._checkKey(e);\n    let t = { [f]: E }, r = y(e), { url: n, headers: o } = await this._sign(\"HEAD\", r, {}, t, \"\"), a = (await this._sendRequest(n, \"HEAD\", o)).headers.get(T);\n    return a ? parseInt(a, 10) : 0;\n  }\n  async bucketExists() {\n    let e = { [f]: E }, { url: t, headers: r } = await this._sign(\"HEAD\", \"\", {}, e, \"\"), n = await this._sendRequest(t, \"HEAD\", r);\n    return !!(n.ok && n.status === 200);\n  }\n  async fileExists(e, t = {}) {\n    this._checkKey(e);\n    let { filteredOpts: r, conditionalHeaders: n } = this._filterIfHeaders(t), o = { [f]: E, ...n }, i = y(e), { url: a, headers: c } = await this._sign(\"HEAD\", i, r, o, \"\");\n    try {\n      let s = await this._sendRequest(a, \"HEAD\", c, \"\", [200, 404, 412, 304]);\n      return s.status === 404 ? false : s.status === 412 || s.status === 304 ? null : s.ok && s.status === 200 ? true : (this._handleErrorResponse(s), false);\n    } catch (s) {\n      let l = s instanceof Error ? s.message : String(s);\n      throw this._log(\"error\", `${u}Failed to check if file exists: ${l}`), new Error(`${u}Failed to check if file exists: ${l}`);\n    }\n  }\n  async _sign(e, t, r, n, o) {\n    let i = (/* @__PURE__ */ new Date()).toISOString().replace(/[:-]|\\.\\d{3}/g, \"\"), a = typeof t == \"string\" && t.length > 0 ? new URL(t, this.endpoint) : new URL(this.endpoint);\n    a.pathname = `/${encodeURI(this.bucketName)}${a.pathname}`, n[f] = o ? await U(o) : E, n[Z] = i, n[V] = a.host;\n    let c = this._buildCanonicalHeaders(n), s = Object.keys(n).map((_) => _.toLowerCase()).sort().join(\";\"), l = await this._buildCanonicalRequest(e, a, r, c, s, o), h = await this._buildStringToSign(i, l), d = await this._calculateSignature(i, h), g = this._buildAuthorizationHeader(i, s, d);\n    return n[J] = g, { url: a.toString(), headers: n };\n  }\n  _buildCanonicalHeaders(e) {\n    return Object.entries(e).map(([t, r]) => `${t.toLowerCase()}:${String(r).trim()}`).sort().join(`\n`);\n  }\n  async _buildCanonicalRequest(e, t, r, n, o, i) {\n    return [e, t.pathname, this._buildCanonicalQueryString(r), `${n}\n`, o, i ? await U(i) : E].join(`\n`);\n  }\n  async _buildStringToSign(e, t) {\n    let r = [e.slice(0, 8), this.region, O, K].join(\"/\");\n    return [x, e, r, await U(t)].join(`\n`);\n  }\n  async _calculateSignature(e, t) {\n    let r = await this._getSignatureKey(e.slice(0, 8));\n    return A(r, t, \"hex\");\n  }\n  _buildAuthorizationHeader(e, t, r) {\n    let n = [e.slice(0, 8), this.region, O, K].join(\"/\");\n    return [`${x} Credential=${this.accessKeyId}/${n}`, `SignedHeaders=${t}`, `Signature=${r}`].join(\", \");\n  }\n  _filterIfHeaders(e) {\n    let t = {}, r = {}, n = [\"if-match\", \"if-none-match\", \"if-modified-since\", \"if-unmodified-since\"];\n    for (let [o, i] of Object.entries(e)) n.includes(o) ? r[o] = i : t[o] = i;\n    return { filteredOpts: t, conditionalHeaders: r };\n  }\n  async list(e = \"/\", t = \"\", r = 1e3, n = \"GET\", o = {}) {\n    this._checkDelimiter(e), this._checkPrefix(t), this._checkMaxKeys(r), this._checkMethodHeadnGet(n), this._checkOpts(o), this._log(\"info\", `Listing objects in ${t}`);\n    let i = { \"list-type\": v, \"max-keys\": String(r), ...o };\n    t.length > 0 && (i.prefix = t);\n    let a = { [m]: w, [f]: E }, c = e === \"/\" ? e : q(e), { url: s, headers: l } = await this._sign(\"GET\", c, i, a, \"\"), h = `${s}?${new URLSearchParams(i)}`, d = await this._sendRequest(h, \"GET\", l), g = await d.text();\n    if (n === \"HEAD\") {\n      let R = d.headers.get(T), S = d.headers.get(C), Y = d.headers.get(P);\n      return { size: R ? +R : void 0, mtime: S ? new Date(S) : void 0, ETag: Y || void 0 };\n    }\n    let _ = b(g), I = _.listBucketResult || _.error || _;\n    return I.contents || I;\n  }\n  async listMultiPartUploads(e = \"/\", t = \"\", r = \"GET\", n = {}) {\n    var o, i, a;\n    this._checkDelimiter(e), this._checkPrefix(t), this._checkMethodHeadnGet(r), this._checkOpts(n), this._log(\"info\", `Listing multipart uploads in ${t}`);\n    let c = { uploads: \"\", ...n }, s = { [m]: w, [f]: E }, l = e === \"/\" ? e : q(e), { url: h, headers: d } = await this._sign(\"GET\", l, c, s, \"\"), g = `${h}?${new URLSearchParams(c)}`, _ = await this._sendRequest(g, \"GET\", d), I = await _.text();\n    if (r === \"HEAD\") return { size: +((o = _.headers.get(T)) !== null && o !== void 0 ? o : \"0\"), mtime: new Date((i = _.headers.get(C)) !== null && i !== void 0 ? i : \"\"), ETag: (a = _.headers.get(P)) !== null && a !== void 0 ? a : \"\" };\n    let R = b(I), S = R.listMultipartUploadsResult || R.error || R;\n    return S.uploads || S;\n  }\n  async get(e, t = {}) {\n    this._checkKey(e), this._log(\"info\", `Getting object ${e}`);\n    let { filteredOpts: r, conditionalHeaders: n } = this._filterIfHeaders(t), o = { [m]: w, [f]: E, ...n }, i = y(e), { url: a, headers: c } = await this._sign(\"GET\", i, r, o, \"\"), s = await this._sendRequest(a, \"GET\", c, \"\", [200, 404, 412, 304]);\n    if (s.status === 404 || s.status === 412 || s.status === 304) return this._log(\"error\", `Failed to get object. Status: ${s.status}`), null;\n    if (!s.ok) throw this._log(\"error\", `Failed to get object. Status: ${s.status}`), new Error(`Failed to get object. Status: ${s.status}`);\n    return s.text();\n  }\n  async getObjectWithETag(e, t = {}) {\n    this._checkKey(e), this._log(\"info\", `Getting object ${e}`);\n    let { filteredOpts: r, conditionalHeaders: n } = this._filterIfHeaders(t), o = { [m]: w, [f]: E, ...n }, i = y(e), { url: a, headers: c } = await this._sign(\"GET\", i, r, o, \"\");\n    try {\n      let s = await this._sendRequest(a, \"GET\", c, \"\", [200, 404, 412, 304]);\n      if (s.status === 404 || s.status === 412 || s.status === 304) return this._log(\"error\", `Failed to get object. Status: ${s.status}`), { etag: null, data: null };\n      if (!s.ok) throw this._log(\"error\", `Failed to get object. Status: ${s.status}`), new Error(`Failed to get object. Status: ${s.status}`);\n      let l = s.headers.get(\"etag\");\n      if (!l) throw new Error(\"ETag not found in response headers\");\n      let h = await s.text();\n      return { etag: H(l), data: h };\n    } catch (s) {\n      throw this._log(\"error\", `Error getting object ${e} with ETag: ${s}`), s;\n    }\n  }\n  async getEtag(e, t = {}) {\n    this._checkKey(e), this._log(\"info\", `Getting etag object ${e}`);\n    let { filteredOpts: r, conditionalHeaders: n } = this._filterIfHeaders(t), o = { [m]: w, [f]: E, ...n }, i = y(e), { url: a, headers: c } = await this._sign(\"HEAD\", i, r, o, \"\"), s = await this._sendRequest(a, \"HEAD\", c, \"\", [200, 412, 304]);\n    if (this._log(\"info\", `Response status: ${s.status, s.statusText}`), s.status === 412 || s.status === 304) return null;\n    let l = s.headers.get(\"etag\");\n    if (!l) throw this._log(\"error\", \"ETag not found in response headers\"), new Error(\"ETag not found in response headers\");\n    return H(l);\n  }\n  async getResponse(e, t = true, r = 0, n = this.maxRequestSizeInBytes, o = {}) {\n    this._checkKey(e);\n    let { filteredOpts: i, conditionalHeaders: a } = this._filterIfHeaders({ ...o }), c = { [m]: w, [f]: E, ...t ? {} : { range: `bytes=${r}-${n - 1}` }, ...a }, s = y(e), { url: l, headers: h } = await this._sign(\"GET\", s, i, c, \"\"), d = `${l}?${new URLSearchParams(i)}`;\n    return this._sendRequest(d, \"GET\", h);\n  }\n  async put(e, t) {\n    if (this._checkKey(e), !(t instanceof Buffer || typeof t == \"string\")) throw this._log(\"error\", D), new TypeError(D);\n    this._log(\"info\", `Uploading object ${e}`);\n    let r = typeof t == \"string\" ? Buffer.byteLength(t) : t.length, n = { [T]: r }, o = y(e), { url: i, headers: a } = await this._sign(\"PUT\", o, {}, n, t);\n    return await this._sendRequest(i, \"PUT\", a, t);\n  }\n  async getMultipartUploadId(e, t = W) {\n    if (this._checkKey(e), typeof t != \"string\") throw this._log(\"error\", `${u}fileType must be a string`), new TypeError(`${u}fileType must be a string`);\n    this._log(\"info\", `Initiating multipart upload for object ${e}`);\n    let r = { uploads: \"\" }, n = { [m]: t, [f]: E }, o = y(e), { url: i, headers: a } = await this._sign(\"POST\", o, r, n, \"\"), c = `${i}?${new URLSearchParams(r)}`, l = await (await this._sendRequest(c, \"POST\", a)).text(), h = b(l);\n    if (typeof h == \"object\" && h !== null && \"error\" in h && typeof h.error == \"object\" && h.error !== null && \"message\" in h.error) {\n      let d = String(h.error.message);\n      throw this._log(\"error\", `${u}Failed to abort multipart upload: ${d}`), new Error(`${u}Failed to abort multipart upload: ${d}`);\n    }\n    if (typeof h == \"object\" && h !== null) {\n      if (!h.initiateMultipartUploadResult || !h.initiateMultipartUploadResult.uploadId) throw this._log(\"error\", `${u}Failed to create multipart upload: no uploadId in response`), new Error(`${u}Failed to create multipart upload: Missing upload ID in response`);\n      return h.initiateMultipartUploadResult.uploadId;\n    } else throw this._log(\"error\", `${u}Failed to create multipart upload: unexpected response format`), new Error(`${u}Failed to create multipart upload: Unexpected response format`);\n  }\n  async uploadPart(e, t, r, n, o = {}) {\n    this._validateUploadPartParams(e, t, r, n, o);\n    let i = { uploadId: r, partNumber: n, ...o }, a = { [T]: t.length }, c = y(e), { url: s, headers: l } = await this._sign(\"PUT\", c, i, a, t), h = `${s}?${new URLSearchParams(i)}`, d = await this._sendRequest(h, \"PUT\", l, t), g = H(d.headers.get(\"etag\") || \"\");\n    return { partNumber: n, ETag: g };\n  }\n  _validateUploadPartParams(e, t, r, n, o) {\n    if (this._checkKey(e), !(t instanceof Buffer || typeof t == \"string\")) throw this._log(\"error\", D), new TypeError(D);\n    if (typeof r != \"string\" || r.trim().length === 0) throw this._log(\"error\", $), new TypeError($);\n    if (!Number.isInteger(n) || n <= 0) throw this._log(\"error\", `${u}partNumber must be a positive integer`), new TypeError(`${u}partNumber must be a positive integer`);\n    this._checkOpts(o);\n  }\n  async completeMultipartUpload(e, t, r) {\n    if (this._checkKey(e), typeof t != \"string\" || t.trim().length === 0) throw this._log(\"error\", $), new TypeError($);\n    if (!Array.isArray(r) || r.length === 0) throw this._log(\"error\", L), new TypeError(L);\n    if (!r.every((_) => typeof _.partNumber == \"number\" && typeof _.ETag == \"string\")) throw this._log(\"error\", k), new TypeError(k);\n    this._log(\"info\", `Complete multipart upload ${t} for object ${e}`);\n    let n = { uploadId: t }, o = this._buildCompleteMultipartUploadXml(r), i = { [m]: M, [T]: Buffer.byteLength(o).toString(), [f]: await U(o) }, a = y(e), { url: c, headers: s } = await this._sign(\"POST\", a, n, i, o), l = `${c}?${new URLSearchParams(n)}`, d = await (await this._sendRequest(l, \"POST\", s, o)).text(), g = b(d);\n    if (typeof g == \"object\" && g !== null && \"error\" in g && typeof g.error == \"object\" && g.error !== null && \"message\" in g.error) {\n      let _ = String(g.error.message);\n      throw this._log(\"error\", `${u}Failed to abort multipart upload: ${_}`), new Error(`${u}Failed to abort multipart upload: ${_}`);\n    }\n    return g.completeMultipartUploadResult;\n  }\n  async abortMultipartUpload(e, t) {\n    if (this._checkKey(e), typeof t != \"string\" || t.trim().length === 0) throw this._log(\"error\", $), new TypeError($);\n    this._log(\"info\", `Aborting multipart upload ${t} for object ${e}`);\n    let r = { uploadId: t }, n = { [m]: M, [f]: E };\n    try {\n      let o = y(e), { url: i, headers: a } = await this._sign(\"DELETE\", o, r, n, \"\"), c = `${i}?${new URLSearchParams(r)}`, s = await this._sendRequest(c, \"DELETE\", a);\n      if (s.ok) {\n        let l = await s.text(), h = b(l);\n        if (typeof h == \"object\" && h !== null && \"error\" in h && typeof h.error == \"object\" && h.error !== null && \"message\" in h.error) {\n          let d = String(h.error.message);\n          throw this._log(\"error\", `${u}Failed to abort multipart upload: ${d}`), new Error(`${u}Failed to abort multipart upload: ${d}`);\n        }\n        return { status: \"Aborted\", key: e, uploadId: t, response: h };\n      } else throw this._log(\"error\", `${u}Abort request failed with status ${s.status}`), new Error(`${u}Abort request failed with status ${s.status}`);\n    } catch (o) {\n      let i = o instanceof Error ? o.message : String(o);\n      throw this._log(\"error\", `${u}Failed to abort multipart upload for key ${e}: ${i}`), new Error(`${u}Failed to abort multipart upload for key ${e}: ${i}`);\n    }\n  }\n  _buildCompleteMultipartUploadXml(e) {\n    return `\n      <CompleteMultipartUpload>\n        ${e.map((t) => `\n          <Part>\n            <PartNumber>${t.partNumber}</PartNumber>\n            <ETag>${t.ETag}</ETag>\n          </Part>\n        `).join(\"\")}\n      </CompleteMultipartUpload>\n    `;\n  }\n  async delete(e) {\n    this._checkKey(e), this._log(\"info\", `Deleting object ${e}`);\n    let t = { [m]: w, [f]: E }, r = y(e), { url: n, headers: o } = await this._sign(\"DELETE\", r, {}, t, \"\"), i = await this._sendRequest(n, \"DELETE\", o);\n    return i.status === 204 || i.status === 200;\n  }\n  async _sendRequest(e, t, r, n, o = []) {\n    this._log(\"info\", `Sending ${t} request to ${e}, headers: ${JSON.stringify(r)}`);\n    let i = await fetch(e, { method: t, headers: r, body: [\"GET\", \"HEAD\"].includes(t) ? void 0 : n, signal: this.requestAbortTimeout !== void 0 ? AbortSignal.timeout(this.requestAbortTimeout) : void 0 });\n    return !i.ok && !o.includes(i.status) && await this._handleErrorResponse(i), i;\n  }\n  async _handleErrorResponse(e) {\n    let t = await e.text(), r = e.headers.get(\"x-amz-error-code\") || \"Unknown\", n = e.headers.get(\"x-amz-error-message\") || e.statusText;\n    throw this._log(\"error\", `${u}Request failed with status ${e.status}: ${r} - ${n},err body: ${t}`), new Error(`${u}Request failed with status ${e.status}: ${r} - ${n}, err body: ${t}`);\n  }\n  _buildCanonicalQueryString(e) {\n    return Object.keys(e).length < 1 ? \"\" : Object.keys(e).sort().map((t) => `${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join(\"&\");\n  }\n  async _getSignatureKey(e) {\n    let t = await A(`AWS4${this.secretAccessKey}`, e), r = await A(t, this.region), n = await A(r, O);\n    return A(n, K);\n  }\n};\nvar U = async (p) => {\n  let e = Q(\"sha256\");\n  return e.update(p), e.digest(\"hex\");\n};\nvar A = async (p, e, t) => {\n  let r = z(\"sha256\", p);\n  return r.update(e), r.digest(t);\n};\nvar H = (p) => {\n  let e = { '\"': \"\", \"&quot;\": \"\", \"&#34;\": \"\", \"&QUOT;\": \"\", \"&#x00022\": \"\" };\n  return p.replace(/^(\"|&quot;|&#34;)|(\"|&quot;|&#34;)$/g, (t) => e[t]);\n};\nvar b = (p) => {\n  let e = (o) => o.replace(/&quot;/g, '\"').replace(/&apos;/g, \"'\").replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\").replace(/&amp;/g, \"&\"), t = {}, r = /<(\\w)([-\\w]+)(?:\\/|[^>]*>((?:(?!<\\1)[\\s\\S])*)<\\/\\1\\2)>/gm, n;\n  for (; n = r.exec(p); ) {\n    let [, o, i, a] = n, c = o.toLowerCase() + i, s = a != null ? b(a) : true;\n    typeof s == \"string\" ? t[c] = H(e(s)) : Array.isArray(t[c]) ? t[c].push(s) : t[c] = t[c] != null ? [t[c], s] : ne[c] ? [s] : s;\n  }\n  return Object.keys(t).length ? t : e(p);\n};\n\n// src/lowstorage.ts\nvar import_avsc = __toESM(require_lib(), 1);\n\n// src/errors.ts\nvar lowstorage_ERROR_CODES = {\n  MISSING_ARGUMENT: \"MISSING_ARGUMENT\",\n  COLLECTION_EXISTS: \"COLLECTION_EXISTS\",\n  CREATE_COLLECTION_ERROR: \"CREATE_COLLECTION_ERROR\",\n  RENAME_COLLECTION_ERROR: \"RENAME_COLLECTION_ERROR\",\n  REMOVE_COLLECTION_ERROR: \"REMOVE_COLLECTION_ERROR\",\n  UPDATE_COLLECTION_SCHEMA_ERROR: \"UPDATE_COLLECTION_SCHEMA_ERROR\",\n  COLLECTION_NOT_FOUND: \"COLLECTION_NOT_FOUND\",\n  SCHEMA_VALIDATION_ERROR: \"SCHEMA_VALIDATION_ERROR\",\n  DOCUMENT_VALIDATION_ERROR: \"DOCUMENT_VALIDATION_ERROR\",\n  S3_OPERATION_ERROR: \"S3_OPERATION_ERROR\",\n  FIND_ERROR: \"FIND_ERROR\",\n  FIND_ONE_ERROR: \"FIND_ONE_ERROR\",\n  SAVE_DATA_ERROR: \"SAVE_DATA_ERROR\",\n  INSERT_ERROR: \"INSERT_ERROR\",\n  UPDATE_ERROR: \"UPDATE_ERROR\",\n  UPDATE_ONE_ERROR: \"UPDATE_ONE_ERROR\",\n  DELETE_ERROR: \"DELETE_ERROR\",\n  COUNT_ERROR: \"COUNT_ERROR\",\n  UNKNOWN_ERROR: \"UNKNOWN_ERROR\"\n};\nvar lowstorageError = class extends Error {\n  constructor(message, code = lowstorage_ERROR_CODES.UNKNOWN_ERROR) {\n    super(`lowstorageError: ${message} :: code: ${code}`);\n    this.name = this.constructor.name;\n    this.code = code;\n    Error.captureStackTrace(this, this.constructor);\n  }\n};\nvar SchemaValidationError = class extends lowstorageError {\n  constructor(message, code = lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR) {\n    super(message, lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR);\n  }\n};\nvar DocumentValidationError = class extends lowstorageError {\n  constructor(message, code = lowstorage_ERROR_CODES.DOCUMENT_VALIDATION_ERROR) {\n    super(message, lowstorage_ERROR_CODES.DOCUMENT_VALIDATION_ERROR);\n  }\n};\nvar S3OperationError = class extends lowstorageError {\n  constructor(message, operation) {\n    super(`S3 ${operation} operation failed: ${message}`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n  }\n};\n\n// src/helpers.ts\nimport { randomUUID } from \"node:crypto\";\nvar matchesQuery = (document, query) => {\n  return Object.keys(query).every((key) => document[key] === query[key]);\n};\nvar generateUUID = async () => {\n  if (typeof randomUUID !== \"undefined\" && typeof randomUUID === \"function\") {\n    return randomUUID();\n  }\n  if (typeof crypto !== \"undefined\" && typeof crypto === \"object\" && typeof crypto.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0, v2 = c === \"x\" ? r : r & 3 | 8;\n    return v2.toString(16);\n  });\n};\nvar ensureIdFieldInSchema = (schema) => {\n  const idField = {\n    name: \"_id\",\n    type: \"string\",\n    size: 16,\n    logicalType: \"UUID\"\n  };\n  if (typeof schema === \"undefined\" || schema === null) {\n    return schema;\n  }\n  if (\"type\" in schema && schema.type === \"record\" && \"fields\" in schema && Array.isArray(schema.fields)) {\n    const hasIdField = schema.fields.some((field) => field.name === \"_id\");\n    if (!hasIdField) {\n      schema.fields.unshift(idField);\n    }\n  } else if (\"type\" in schema && schema.type === \"array\" && \"items\" in schema && schema.items !== null && typeof schema.items === \"object\" && \"type\" in schema.items && schema.items.type === \"record\" && \"fields\" in schema.items && Array.isArray(schema.items.fields)) {\n    const hasIdField = schema.items.fields.some((field) => field.name === \"_id\");\n    if (!hasIdField) {\n      schema.items.fields.unshift(idField);\n    }\n  }\n  return schema;\n};\n\n// src/lowstorage.ts\nvar MODULE_NAME = \"lowstorage\";\nvar DEFAULT_DELIMITER = \"/\";\nvar PROJECT_DIR_PREFIX = \"lowstorage\";\nvar COL_SUFFIX = \".avro\";\nvar CHUNG_1MB = 1024 * 1024;\nvar CHUNG_5MB = 5 * CHUNG_1MB;\nvar EMPTY_DATA = Buffer.from(\"\", \"utf8\");\nvar errorValidationFn = (errorCode = lowstorage_ERROR_CODES.DOCUMENT_VALIDATION_ERROR) => {\n  throw new DocumentValidationError(`${MODULE_NAME}: Invalid document or schema ${errorCode}`);\n};\nvar _hasColName = (colName = \"\") => {\n  if (colName.trim() === \"\" || colName === null || typeof colName === \"undefined\" || colName.length > 255 || colName === null) {\n    throw new lowstorageError(`${MODULE_NAME}: Collection name is required, null or too long`, lowstorage_ERROR_CODES.MISSING_ARGUMENT);\n  }\n};\nvar lowstorage = class {\n  constructor(options) {\n    this._checkArgs = (args) => {\n      const requiredFields = [\"accessKeyId\", \"secretAccessKey\", \"endpoint\", \"bucketName\"];\n      for (const field of requiredFields) {\n        if (!args[field]) {\n          throw new lowstorageError(`${MODULE_NAME}: ${field} is required`, lowstorage_ERROR_CODES.MISSING_ARGUMENT);\n        }\n      }\n    };\n    /**\n     * Get the S3 instance associated with the lowstorage instance.\n     * @returns {S3} The S3 instance. Use this to perform S3 operations. Check for ultralight-s3 for more details.\n     */\n    this.s3 = () => {\n      return this._s3;\n    };\n    this._checkArgs(options);\n    this._schemas = /* @__PURE__ */ new Map();\n    this._s3 = new N(options);\n    this._dirPrefix = options.dirPrefix || PROJECT_DIR_PREFIX;\n    this._avroParse = import_avsc.Type;\n  }\n  /**\n   * List all collections.\n   * @returns {Promise<string[]>} An array of collection names.\n   * @throws {S3OperationError} If there's an error during S3 operation.\n   */\n  async listCollections() {\n    try {\n      const listed = await this._s3.list(DEFAULT_DELIMITER, this._dirPrefix);\n      if (Array.isArray(listed)) {\n        return listed.map((entry) => entry.key.slice(this._dirPrefix.length + 1, -COL_SUFFIX.length));\n      } else if (typeof listed === \"object\" && listed !== null && \"keyCount\" in listed && listed.keyCount === \"0\") {\n        return [];\n      }\n      return [];\n    } catch (error) {\n      throw new S3OperationError(`${MODULE_NAME}: ${error.message}`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n    }\n  }\n  /**\n   * Check if a collection exists.\n   * @param {string} colName - The name of the collection.\n   * @returns {Promise<boolean>} True if the collection exists, false otherwise.\n   * @throws {lowstorageError} If there's an error.\n   */\n  async collectionExists(colName = \"\") {\n    try {\n      _hasColName(colName);\n      const exists = await this._s3.fileExists(`${this._dirPrefix}${DEFAULT_DELIMITER}${colName}${COL_SUFFIX}`);\n      return !!exists;\n    } catch (error) {\n      if (error.message.includes(\"Not Found\")) {\n        return false;\n      }\n      throw new lowstorageError(`${MODULE_NAME}: ${error.message}`, lowstorage_ERROR_CODES.COLLECTION_NOT_FOUND);\n    }\n  }\n  /**\n   * Create a new collection.\n   * @param {string} colName - The name of the collection.\n   * @param {Object} [schema] - The schema for the collection.\n   * @param {Array} [data=[]] - The initial data for the collection.\n   * @returns {Promise<Collection>} A Promise that resolves to a Collection object.\n   * @throws {lowstorageError} If there's an error.\n   */\n  async createCollection(colName = \"\", schema, data = []) {\n    try {\n      _hasColName(colName);\n      const exists = await this.collectionExists(colName);\n      if (!exists) {\n        if (typeof schema !== \"undefined\" && schema !== null) {\n          try {\n            const type = this._avroParse.forSchema(schema);\n            if (!type) {\n              throw new SchemaValidationError(\n                `${MODULE_NAME}: Schema is invalid: ${schema} ${lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR}`\n              );\n            } else {\n              this._schemas.set(colName, schema);\n            }\n          } catch (error) {\n            throw new SchemaValidationError(`${MODULE_NAME}: Schema is invalid: ${schema}`, lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR);\n          }\n        }\n        if (data.length > 0 && schema) {\n          const wrapperType = this._avroParse.forSchema({ type: \"array\", items: schema });\n          await this._s3.put(`${this._dirPrefix}${DEFAULT_DELIMITER}${colName}${COL_SUFFIX}`, wrapperType.toBuffer(data));\n        } else {\n          await this._s3.put(`${this._dirPrefix}${DEFAULT_DELIMITER}${colName}${COL_SUFFIX}`, EMPTY_DATA);\n        }\n        return this.collection(colName, schema, false);\n      }\n      throw new lowstorageError(`${MODULE_NAME}: Collection ${colName} already exists`, lowstorage_ERROR_CODES.COLLECTION_EXISTS);\n    } catch (error) {\n      if (error instanceof lowstorageError) {\n        throw error;\n      }\n      throw new lowstorageError(`${MODULE_NAME}: ${error.message}`, lowstorage_ERROR_CODES.CREATE_COLLECTION_ERROR);\n    }\n  }\n  /**\n   * Remove a collection.\n   * @param {string} colName - The name of the collection.\n   * @returns {Promise<boolean>} A Promise that resolves to true if the collection is removed, false otherwise.\n   * @throws {lowstorageError} If there's an error.\n   */\n  async removeCollection(colName = \"\") {\n    try {\n      _hasColName(colName);\n      const exists = await this.collectionExists(colName);\n      if (exists) {\n        await this._s3.delete(`${this._dirPrefix}${DEFAULT_DELIMITER}${colName}${COL_SUFFIX}`);\n        const exists2 = await this.collectionExists(colName);\n        if (typeof exists2 === \"boolean\") {\n          if (!exists2) {\n            this._schemas.delete(colName);\n            return true;\n          }\n          throw new lowstorageError(`${MODULE_NAME}: Failed to delete collection ${colName}`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n        }\n        throw new S3OperationError(`${MODULE_NAME}: Failed to delete collection ${colName}`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n      }\n      throw new lowstorageError(`${MODULE_NAME}: Collection ${colName} does not exist`, lowstorage_ERROR_CODES.REMOVE_COLLECTION_ERROR);\n    } catch (error) {\n      if (error instanceof S3OperationError) {\n        throw error;\n      }\n      throw new lowstorageError(\n        `${MODULE_NAME}: Failed to remove collection: ${error.message}`,\n        lowstorage_ERROR_CODES.REMOVE_COLLECTION_ERROR\n      );\n    }\n  }\n  /**\n   * Get or create a collection.\n   * @param {string} colName - The name of the collection.\n   * @param {Object} [schema] - The schema for the collection.\n   * @param {boolean} [autoCreate=true] - Whether to automatically create the collection if it doesn't exist.\n   * @returns {Promise<Collection>} A Promise that resolves to a Collection object.\n   * @throws {lowstorageError} If there's an error.\n   */\n  async collection(colName = \"\", schema, autoCreate = true) {\n    try {\n      _hasColName(colName);\n      const colPath = `${this._dirPrefix}${DEFAULT_DELIMITER}${colName}${COL_SUFFIX}`;\n      const exists = await this._s3.fileExists(colPath);\n      if (!exists) {\n        if (!autoCreate) {\n          throw new lowstorageError(`${MODULE_NAME}: Collection ${colName} does not exist`, lowstorage_ERROR_CODES.COLLECTION_NOT_FOUND);\n        }\n        await this._s3.put(colPath, EMPTY_DATA);\n      }\n      const colSchema = schema || this._schemas.get(colName) || void 0;\n      return new Collection(colName, colSchema, this._s3, this._dirPrefix);\n    } catch (error) {\n      if (error.message.includes(\"unknown type\")) {\n        throw new SchemaValidationError(\n          `${MODULE_NAME}: Schema input is invalid: ${error.message}`,\n          lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR\n        );\n      }\n      throw new lowstorageError(`${MODULE_NAME}: ${error.message}`, lowstorage_ERROR_CODES.COLLECTION_NOT_FOUND);\n    }\n  }\n};\nvar Collection = class _Collection {\n  constructor(colName = \"\", schema, s3, dirPrefix = PROJECT_DIR_PREFIX, safeWrite = false, chunkSize = CHUNG_5MB) {\n    this.getProps = () => ({\n      colName: this._colName,\n      s3: this._s3,\n      schema: this._schema,\n      avroParse: this._avroParse,\n      avroType: this._avroType,\n      dirPrefix: this._dirPrefix,\n      safeWrite: this._safeWrite,\n      chunkSize: this._chunkSize\n    });\n    this.setProps = (props) => {\n      this._colName = props.colName;\n      this._schema = props.schema;\n      this._s3 = props.s3;\n      this._avroParse = props.avroParse;\n      this._avroType = props.avroType;\n      this._dirPrefix = props.dirPrefix;\n      this._safeWrite = props.safeWrite;\n      this._chunkSize = props.chunkSize;\n    };\n    this.setSafeWrite = (safeWrite) => {\n      this._safeWrite = safeWrite;\n    };\n    this.getSafeWrite = () => {\n      return this._safeWrite;\n    };\n    this.getAvroSchema = () => {\n      return this._schema;\n    };\n    this.setAvroSchema = (schema) => {\n      try {\n        this._schema = ensureIdFieldInSchema(schema);\n        this._avroType = typeof schema === \"undefined\" ? null : this._avroParse.forSchema(schema);\n      } catch (error) {\n        throw new lowstorageError(`${MODULE_NAME}: ${error.message}`, lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR);\n      }\n    };\n    this.getCollectionETag = () => {\n      return this._lastETag;\n    };\n    this.inferAvroSchema = (data, type = \"record\") => {\n      if (Array.isArray(data)) {\n        data = data[0];\n      }\n      const inferedType = this._avroParse.forValue(data);\n      const schema = inferedType.schema();\n      return ensureIdFieldInSchema(schema);\n    };\n    this._colName = colName.trim();\n    this._s3 = s3;\n    this._schema = ensureIdFieldInSchema(schema);\n    this._dirPrefix = dirPrefix;\n    this._safeWrite = safeWrite;\n    this._chunkSize = chunkSize || CHUNG_5MB;\n    this._s3.setMaxRequestSizeInBytes(this._chunkSize);\n    this._avroParse = import_avsc.Type;\n    this._lastETag = \"\";\n    this._dataCache = [];\n    this._avroType = typeof schema === \"undefined\" ? null : this._avroParse.forSchema(schema);\n    this._key = `${this._dirPrefix}${DEFAULT_DELIMITER}${this._colName}${COL_SUFFIX}`;\n  }\n  async forceLoadData() {\n    try {\n      this._lastETag = \"\";\n      const data = await this._loadData();\n      this._dataCache = data;\n      return true;\n    } catch (error) {\n      throw new lowstorageError(`${MODULE_NAME}: Failed to force update data: ${error.message}`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n    }\n  }\n  async _loadData() {\n    try {\n      if (this._avroType === null || typeof this._avroType === \"undefined\") {\n        throw new lowstorageError(\n          `${MODULE_NAME}: Missing type definition. Configure before operations `,\n          lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR\n        );\n      }\n      const { etag, data } = await this._s3.getObjectWithETag(this._key, { \"if-none-match\": this._lastETag });\n      if (data === null) {\n        return this._dataCache;\n      }\n      this._lastETag = etag === null ? this._lastETag : etag;\n      const wrapperType = this._avroParse.forSchema({ type: \"array\", items: this._avroType });\n      if (data.length < this._chunkSize) {\n        this._dataCache = data.length > 0 ? wrapperType.fromBuffer(Buffer.from(data, \"utf8\")) : [];\n        return this._dataCache;\n      }\n      let offset = this._chunkSize;\n      let bufferArr = [Buffer.from(data, \"utf8\")];\n      let repeat = true;\n      while (repeat) {\n        const nextDataResponse = await this._s3.getResponse(this._key, false, offset, offset + this._chunkSize);\n        const nextDataBody = await nextDataResponse.text();\n        bufferArr.push(Buffer.from(nextDataBody, \"utf8\"));\n        offset += this._chunkSize;\n        const contentLength = parseInt(nextDataResponse.headers.get(\"content-length\") || nextDataBody.length.toString());\n        if (contentLength < this._chunkSize) {\n          repeat = false;\n        }\n      }\n      const bufferedData = Buffer.concat(bufferArr);\n      this._dataCache = wrapperType.fromBuffer(bufferedData);\n      return this._dataCache;\n    } catch (error) {\n      if (error.toString().indexOf(\"status 404: Unknown - Not Found\") > -1) {\n        this._dataCache = [];\n        return this._dataCache;\n      }\n      throw new S3OperationError(`${MODULE_NAME}: Failed to load data: ${error.message}`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n    }\n  }\n  async _saveData(data) {\n    try {\n      if (this._avroType === null || typeof this._avroType === \"undefined\") {\n        throw new lowstorageError(\n          `${MODULE_NAME}: Missing type definition. Configure before operations `,\n          lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR\n        );\n      }\n      const wrapperType = this._avroParse.forSchema({ type: \"array\", items: this._avroType });\n      const dataBuffer = data.length > 0 ? wrapperType.toBuffer(data) : EMPTY_DATA;\n      if (this._safeWrite && this._lastETag !== \"\") {\n        const currentETag = await this._s3.getEtag(this._key);\n        if (currentETag !== null && currentETag !== this._lastETag) {\n          return false;\n        }\n      }\n      const resp = await this._s3.put(this._key, dataBuffer);\n      if (typeof resp === \"object\" && \"status\" in resp && resp.status !== 200) {\n        throw new S3OperationError(`${MODULE_NAME}: Failed to save data`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n      }\n      const newETag = resp.headers?.get(\"etag\") || \"\";\n      if (newETag && newETag.length > 0) {\n        this._lastETag = this._s3.sanitizeETag(newETag);\n        this._dataCache = data;\n      }\n      return true;\n    } catch (error) {\n      if (error instanceof S3OperationError) {\n        throw error;\n      }\n      throw new lowstorageError(`${MODULE_NAME}: ${error.message}`, lowstorage_ERROR_CODES.SAVE_DATA_ERROR);\n    }\n  }\n  /**\n   * Insert a document into the collection.\n   * @param {Object|Array} doc - The document to insert.\n   * @param {Object} [schema=undefined] - The schema for the document.\n   * @returns {Promise<Array>} A Promise that resolves to the array of inserted document(s).\n   * @throws {lowstorageError} If there's an error.\n   */\n  async insert(doc, schema) {\n    try {\n      if (doc === void 0 || doc === null) {\n        throw new lowstorageError(`${MODULE_NAME}: Document is required for insert`, lowstorage_ERROR_CODES.INSERT_ERROR);\n      }\n      if (typeof doc !== \"object\" && !Array.isArray(doc)) {\n        throw new DocumentValidationError(\n          `${MODULE_NAME}: Document must be an object or an array`,\n          lowstorage_ERROR_CODES.DOCUMENT_VALIDATION_ERROR\n        );\n      }\n      const items = !Array.isArray(doc) ? [doc] : doc;\n      const schemaWithId = schema ? ensureIdFieldInSchema(schema) : this._schema || this.inferAvroSchema(items[0]);\n      const avroType = this._avroParse.forSchema(schemaWithId);\n      if (!avroType) {\n        throw new SchemaValidationError(\n          `${MODULE_NAME}: Schema is required - Pass a schema to the insert method`,\n          lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR\n        );\n      }\n      this._avroType = avroType;\n      const data = await this._loadData();\n      for (let item of items) {\n        if (typeof item !== \"object\" || item === null) {\n          throw new DocumentValidationError(\n            `${MODULE_NAME}: Invalid input: input must be an object or an array of objects`,\n            lowstorage_ERROR_CODES.DOCUMENT_VALIDATION_ERROR\n          );\n        }\n        item._id = item._id || await generateUUID();\n        const validBuffer = this._avroType.isValid(item, {\n          errorHook: errorValidationFn,\n          noUndeclaredFields: true\n        });\n        if (validBuffer === true) {\n          data.push(item);\n        } else {\n          throw new DocumentValidationError(`${MODULE_NAME}: Invalid document or schema`, lowstorage_ERROR_CODES.DOCUMENT_VALIDATION_ERROR);\n        }\n      }\n      const success = await this._saveData(data);\n      if (!success) {\n        throw new S3OperationError(`${MODULE_NAME}: Failed to insert document`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n      }\n      this.setAvroSchema(schemaWithId);\n      return items;\n    } catch (error) {\n      if (error.message.includes(\"unknown type\")) {\n        throw new SchemaValidationError(\n          `${MODULE_NAME}: Schema input is invalid: ${error.message}`,\n          lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR\n        );\n      }\n      if (error instanceof lowstorageError) {\n        throw error;\n      }\n      throw new lowstorageError(`${MODULE_NAME} Insert operation failed: ${error.message}`, lowstorage_ERROR_CODES.INSERT_ERROR);\n    }\n  }\n  /**\n   * Find documents in the collection.\n   * @param {Object} [query={}] - The query to filter documents.\n   * @param {Object} [options={}] - The options for pagination.\n   * @param {number} [options.skip=0] - The number of documents to skip. Default is 0.\n   * @param {number} [options.limit=undefined] - The maximum number of documents to return. Default is undefined, which means no limit.\n   * @returns {Promise<Array>} A Promise that resolves to an array of matching documents.\n   * @throws {lowstorageError} If there's an error.\n   */\n  async find(query = {}, options = {}) {\n    try {\n      if (query === void 0 || query === null) {\n        throw new lowstorageError(`${MODULE_NAME}: Query is required for update`, lowstorage_ERROR_CODES.MISSING_ARGUMENT);\n      }\n      const data = await this._loadData();\n      const start = options.skip !== void 0 ? parseInt(String(options.skip), 10) : 0;\n      const end = options.limit !== void 0 ? start + parseInt(String(options.limit), 10) : void 0;\n      const filteredData = data.filter((doc) => matchesQuery(doc, query)).slice(start, end);\n      return filteredData;\n    } catch (error) {\n      throw new lowstorageError(`${MODULE_NAME}: Find operation failed: ${error.message}`, lowstorage_ERROR_CODES.FIND_ERROR);\n    }\n  }\n  /**\n   * Find the first document in the collection that matches the query.\n   * @param {Object} [query={}] - The query to filter documents.\n   * @returns {Promise<Object|null>} A Promise that resolves to the first matching document or null if no match is found.\n   * @throws {lowstorageError} If there's an error.\n   */\n  async findOne(query = {}) {\n    try {\n      if (query === null) {\n        throw new lowstorageError(`${MODULE_NAME}: Query cannot be null`, lowstorage_ERROR_CODES.INVALID_ARGUMENT);\n      }\n      const result = await this.find(query, { limit: 1 });\n      return result[0] || null;\n    } catch (error) {\n      if (error instanceof lowstorageError) {\n        throw error;\n      }\n      throw new lowstorageError(`${MODULE_NAME}: FindOne operation failed: ${error.message}`, lowstorage_ERROR_CODES.FIND_ONE_ERROR);\n    }\n  }\n  /**\n   * Update a single document in the collection that matches the query.\n   * @param {Object} [query={}] - The query to filter the document to update.\n   * @param {Object} [update={}] - The update operations to apply to the matching document.\n   * @returns {Promise<number>} A Promise that resolves to number of documents updated.\n   * @throws {lowstorageError} If the updateOne operation fails.\n   * @throws {SchemaValidationError} If the schema is not defined for the collection.\n   * @throws {DocumentValidationError} If the updated document is invalid.\n   * @throws {S3OperationError} If the S3 operation fails.\n   */\n  async update(query = {}, update = {}, options = {}) {\n    try {\n      if (query === void 0 || query === null || update === void 0 || update === null) {\n        throw new lowstorageError(\n          `${MODULE_NAME}: Query and update values are required for update`,\n          lowstorage_ERROR_CODES.MISSING_ARGUMENT\n        );\n      }\n      if (!this._avroType) {\n        throw new SchemaValidationError(\n          `${MODULE_NAME}: Schema is not defined for this collection`,\n          lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR\n        );\n      }\n      const data = await this._loadData();\n      if (data.length === 0) return 0;\n      let updatedCount = 0;\n      for (let i = 0; i < data.length; i++) {\n        if (matchesQuery(data[i], query)) {\n          const updatedDoc = { ...data[i], ...update };\n          const isValid = this._avroType.isValid(updatedDoc, {\n            errorHook: errorValidationFn,\n            noUndeclaredFields: true\n          });\n          if (isValid === true) {\n            data[i] = updatedDoc;\n            updatedCount++;\n          } else {\n            throw new DocumentValidationError(\n              `${MODULE_NAME}: Invalid document or schema`,\n              lowstorage_ERROR_CODES.DOCUMENT_VALIDATION_ERROR\n            );\n          }\n        }\n      }\n      if (updatedCount > 0) {\n        const success = await this._saveData(data);\n        if (!success) {\n          throw new S3OperationError(`${MODULE_NAME}: Failed to update document`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n        }\n      } else if (options && \"upsert\" in options && options.upsert) {\n        const success = await this.insert(update);\n        if (!success) {\n          throw new S3OperationError(`${MODULE_NAME}: Failed to update document`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n        }\n        updatedCount = 1;\n      }\n      return updatedCount;\n    } catch (error) {\n      if (error instanceof S3OperationError) {\n        throw error;\n      }\n      throw new lowstorageError(`${MODULE_NAME}: Update operation failed: ${error.message}`, lowstorage_ERROR_CODES.UPDATE_ERROR);\n    }\n  }\n  /**\n   * Update a single document in the collection that matches the query.\n   * @param {Object} [query={}] - The query to filter the document to update.\n   * @param {Object} [update={}] - The update operations to apply to the matching document.\n   * @returns {Promise<number>} A Promise that resolves to 1 if a document was updated, 0 otherwise.\n   /**\n   * Update a single document in the collection that matches the query.\n   * @throws {lowstorageError} If the updateOne operation fails.\n   * @throws {SchemaValidationError} If the schema is not defined for the collection.\n   * @throws {DocumentValidationError} If the updated document is invalid.\n   * @throws {S3OperationError} If the S3 operation fails.\n   */\n  async updateOne(query = {}, update = {}, options = {}) {\n    try {\n      if (query === void 0 || query === null || update === void 0 || update === null) {\n        throw new lowstorageError(`${MODULE_NAME}: Query is required`, lowstorage_ERROR_CODES.MISSING_ARGUMENT);\n      }\n      if (!this._avroType) {\n        throw new SchemaValidationError(\n          `${MODULE_NAME}: Schema is not defined for this collection`,\n          lowstorage_ERROR_CODES.SCHEMA_VALIDATION_ERROR\n        );\n      }\n      const data = await this._loadData();\n      if (data.length === 0) return 0;\n      const docIndex = data.findIndex((doc) => matchesQuery(doc, query));\n      if (docIndex !== -1) {\n        const updatedDoc = { ...data[docIndex], ...update };\n        const isValid = this._avroType.isValid(updatedDoc, {\n          errorHook: errorValidationFn,\n          noUndeclaredFields: true\n        });\n        if (isValid === true) {\n          data[docIndex] = updatedDoc;\n          const success = await this._saveData(data);\n          if (!success) {\n            throw new S3OperationError(`${MODULE_NAME}: Failed to update document`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n          }\n          return 1;\n        } else {\n          throw new DocumentValidationError(`${MODULE_NAME}: Invalid document or schema`, lowstorage_ERROR_CODES.DOCUMENT_VALIDATION_ERROR);\n        }\n      }\n      if (options && \"upsert\" in options && options.upsert) {\n        const success = await this.insert(update);\n        if (!success) {\n          throw new S3OperationError(`${MODULE_NAME}: Failed to update document`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n        }\n        return 1;\n      }\n      return 0;\n    } catch (error) {\n      if (error instanceof lowstorageError) {\n        throw error;\n      }\n      throw new lowstorageError(`${MODULE_NAME}: UpdateOne operation failed: ${error.message}`, lowstorage_ERROR_CODES.UPDATE_ONE_ERROR);\n    }\n  }\n  /**\n   * Delete documents from the collection.\n   * @param {Object} [query={}] - The query to filter documents to delete.\n   * @returns {Promise<number>} A Promise that resolves to the number of documents deleted.\n   * @throws {lowstorageError} If the delete operation fails.\n   * @throws {S3OperationError} If the S3 operation fails.\n   */\n  async delete(query = {}) {\n    try {\n      if (query === void 0 || query === null) {\n        throw new lowstorageError(`${MODULE_NAME}: Query is required`, lowstorage_ERROR_CODES.MISSING_ARGUMENT);\n      }\n      const data = await this._loadData();\n      if (data.length === 0) return 0;\n      const initialLength = data.length;\n      const newData = data.filter((doc) => !matchesQuery(doc, query));\n      const success = await this._saveData(newData);\n      if (!success) {\n        throw new S3OperationError(`${MODULE_NAME}: Failed to delete document`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n      }\n      return initialLength - newData.length;\n    } catch (error) {\n      if (error instanceof S3OperationError) {\n        throw error;\n      }\n      throw new lowstorageError(`${MODULE_NAME}: Delete operation failed: ${error.message}`, lowstorage_ERROR_CODES.DELETE_ERROR);\n    }\n  }\n  /**\n   * Delete all documents from the collection.\n   * @returns {Promise<number>} A Promise that resolves to the number of documents deleted.\n   * @throws {lowstorageError} If the delete operation fails.\n   * @throws {S3OperationError} If the S3 operation fails.\n   */\n  async deleteAll() {\n    try {\n      const data = await this._loadData();\n      const initialLength = data.length;\n      const success = await this._saveData([]);\n      if (!success) {\n        throw new S3OperationError(`${MODULE_NAME}: Failed to delete document`, lowstorage_ERROR_CODES.S3_OPERATION_ERROR);\n      }\n      return initialLength;\n    } catch (error) {\n      if (error instanceof S3OperationError) {\n        throw error;\n      }\n      throw new lowstorageError(`${MODULE_NAME}: Delete operation failed: ${error.message}`, lowstorage_ERROR_CODES.DELETE_ERROR);\n    }\n  }\n  /**\n   * Count the number of documents in the collection.\n   * @param {Object} [query={}] - The query to filter documents.\n   * @returns {Promise<number>} A Promise that resolves to the number of documents in the collection.\n   * @throws {lowstorageError} If the count operation fails.\n   */\n  async count(query = {}) {\n    try {\n      const data = await this.find(query);\n      return data.length;\n    } catch (error) {\n      throw new lowstorageError(`${MODULE_NAME}: Count operation failed: ${error.message}`, lowstorage_ERROR_CODES.COUNT_ERROR);\n    }\n  }\n  async renameCollection(newColName, newSchema = this._schema) {\n    try {\n      _hasColName(newColName);\n      const exists = await this._s3.fileExists(`${this._dirPrefix}${DEFAULT_DELIMITER}${newColName}${COL_SUFFIX}`);\n      if (!!exists) {\n        throw new lowstorageError(`${MODULE_NAME}: Collection ${newColName} already exists`, lowstorage_ERROR_CODES.COLLECTION_EXISTS);\n      }\n      const schema = newSchema || this.getAvroSchema();\n      const data = await this._loadData();\n      const createNew = new _Collection(newColName, schema, this._s3, this._dirPrefix, this._safeWrite, this._chunkSize);\n      await createNew._saveData(data);\n      await this._s3.delete(`${this._dirPrefix}${DEFAULT_DELIMITER}${this._colName}${COL_SUFFIX}`);\n      return createNew;\n    } catch (error) {\n      if (error instanceof lowstorageError) {\n        throw error;\n      }\n      throw new lowstorageError(\n        `${MODULE_NAME}: Rename collection failed: ${error.message}`,\n        lowstorage_ERROR_CODES.RENAME_COLLECTION_ERROR\n      );\n    }\n  }\n};\nexport {\n  lowstorage,\n  lowstorageError,\n  lowstorage_ERROR_CODES\n};\n\n"],
  "mappings": "AAAA,OAAOA,OAAqB,SAC5B,OAAOC,OAAqB,SAC5B,OAAOC,OAAmB,OAC1B,OAAOC,OAAqB,SAC5B,OAAOC,OAAmB,OAC1B,OAAOC,OAAqB,SAC5B,OAAOC,OAAiB,KACxB,OAAOC,OAAmB,OA4xN1B,OAAS,cAAAC,OAAkB,cA1xN3B,IAAIC,GAAW,OAAO,OAClBC,GAAY,OAAO,eACnBC,GAAmB,OAAO,yBAC1BC,GAAoB,OAAO,oBAC3BC,GAAe,OAAO,eACtBC,GAAe,OAAO,UAAU,eAOpC,IAAIC,GAAa,CAACC,EAAIC,IAAQ,UAAsB,CAClD,OAAOA,MAAWD,EAAGE,GAAkBF,CAAE,EAAE,CAAC,CAAC,IAAIC,EAAM,CAAE,QAAS,CAAC,CAAE,GAAG,QAASA,CAAG,EAAGA,EAAI,OAC7F,EACIE,GAAc,CAACC,EAAIC,EAAMC,EAAQC,IAAS,CAC5C,GAAIF,GAAQ,OAAOA,GAAS,UAAY,OAAOA,GAAS,WACtD,QAASG,KAAON,GAAkBG,CAAI,EAChC,CAACI,GAAa,KAAKL,EAAII,CAAG,GAAKA,IAAQF,GACzCI,GAAUN,EAAII,EAAK,CAAE,IAAK,IAAMH,EAAKG,CAAG,EAAG,WAAY,EAAED,EAAOI,GAAiBN,EAAMG,CAAG,IAAMD,EAAK,UAAW,CAAC,EAEvH,OAAOH,CACT,EACIQ,GAAU,CAACX,EAAKY,EAAYC,KAAYA,EAASb,GAAO,KAAOc,GAASC,GAAaf,CAAG,CAAC,EAAI,CAAC,EAAGE,GAKnGU,GAAc,CAACZ,GAAO,CAACA,EAAI,WAAaS,GAAUI,EAAQ,UAAW,CAAE,MAAOb,EAAK,WAAY,EAAK,CAAC,EAAIa,EACzGb,CACF,GAGIgB,GAAgBlB,GAAW,CAC7B,iCAAiCmB,EAASC,EAAQ,CAChD,aACA,IAAIC,EAASC,GACTC,EAAUC,GACVC,EAAOC,GACPC,EAAUN,EAAO,OACjBO,EAAO,IAAIC,EAAW,IAAI,EAC1BC,EAAe,2BACfC,EAAKN,EAAK,OACd,SAASO,EAAUC,EAAM,CACvB,OAAI,OAAON,EAAQ,OAAS,WACnBA,EAAQ,MAAMM,CAAI,EAElB,IAAIN,EAAQM,CAAI,CAE3B,CACA,SAASC,EAAWC,EAAMC,EAAK,CAC7B,OAAI,OAAOT,EAAQ,MAAQ,WAClBA,EAAQ,KAAKQ,EAAMC,CAAG,EAEtB,IAAIT,EAAQQ,EAAMC,CAAG,CAEhC,CACA,SAASC,EAAWC,EAAG,CACrB,OAAOA,EAAE,OAAO,CAAC,EAAE,YAAY,EAAIA,EAAE,MAAM,CAAC,CAC9C,CACA,SAASC,EAAQC,EAAIC,EAAI,CACvB,OAAOD,IAAOC,EAAK,EAAID,EAAKC,EAAK,GAAK,CACxC,CACA,SAASC,GAAUC,EAAMlC,EAAKmC,EAAK,CACjC,IAAIC,EAAQF,EAAKlC,CAAG,EACpB,OAAOoC,IAAU,OAASD,EAAMC,CAClC,CACA,SAASC,EAAQC,EAAKC,EAAW,CAC/BA,EAAYA,GAAa,MACzB,IAAIC,EAAO1B,EAAQ,WAAWyB,CAAS,EACvC,OAAAC,EAAK,IAAIF,CAAG,EACLE,EAAK,KAAK,CACnB,CACA,SAASC,EAAcC,EAAKC,EAAI,CAC9B,IAAIC,EAAM,GACNC,EAAGC,EACP,GAAI,CAACJ,EACH,MAAO,GAET,IAAKG,EAAI,EAAGC,EAAIJ,EAAI,OAAQG,EAAIC,EAAGD,IACjC,GAAIH,EAAIG,CAAC,IAAMF,EAAI,CACjB,GAAIC,GAAO,EACT,MAAO,GAETA,EAAMC,CACR,CAEF,OAAOD,CACT,CACA,SAASG,EAAML,EAAKM,EAAI,CACtB,IAAIC,EAAM,CAAC,EACPJ,EAAGK,EACP,IAAKL,EAAI,EAAGA,EAAIH,EAAI,OAAQG,IAC1BK,EAAOR,EAAIG,CAAC,EACZI,EAAID,EAAGE,CAAI,CAAC,EAAIA,EAElB,OAAOD,CACT,CACA,SAASE,EAAaF,EAAK,CACzB,OAAO,OAAO,KAAKA,CAAG,EAAE,IAAI,SAASjD,EAAK,CACxC,OAAOiD,EAAIjD,CAAG,CAChB,CAAC,CACH,CACA,SAASoD,EAAcV,EAAKM,EAAI,CAC9B,IAAIC,EAAsB,OAAO,OAAO,IAAI,EACxCJ,EAAGC,EAAGI,GACV,IAAKL,EAAI,EAAGC,EAAIJ,EAAI,OAAQG,EAAIC,EAAGD,IAAK,CAKtC,GAJAK,GAAOR,EAAIG,CAAC,EACRG,IACFE,GAAOF,EAAGE,EAAI,GAEZD,EAAIC,EAAI,EACV,MAAO,GAETD,EAAIC,EAAI,EAAI,EACd,CACA,MAAO,EACT,CACA,SAASG,GAAkBC,EAAKC,EAAKC,EAAW,CAC9C,IAAIC,EAAQ,OAAO,oBAAoBH,CAAG,EACtCT,EAAGC,GAAGY,EACV,IAAKb,EAAI,EAAGC,GAAIW,EAAM,OAAQZ,EAAIC,GAAGD,IAEnC,GADAa,EAAOD,EAAMZ,CAAC,EACV,CAACU,EAAI,eAAeG,CAAI,GAAKF,EAAW,CAC1C,IAAIG,GAAa,OAAO,yBAAyBL,EAAKI,CAAI,EAC1D,OAAO,eAAeH,EAAKG,EAAMC,EAAU,CAC7C,CAEF,OAAOJ,CACT,CACA,SAASK,EAAYtB,EAAK,CACxB,OAAOjB,EAAa,KAAKiB,CAAG,CAC9B,CACA,SAASuB,EAAQH,EAAMI,EAAW,CAChC,MAAI,CAACJ,EAAK,QAAQ,GAAG,EACnBA,EAAOA,EAAK,QAAQ,MAAO,EAAE,EACpBI,IACTJ,EAAOI,EAAY,IAAMJ,GAE3BA,EAAK,MAAM,GAAG,EAAE,QAAQ,SAASK,EAAM,CACrC,GAAI,CAACH,EAAYG,CAAI,EACnB,MAAM,IAAI,MAAMzC,EAAG,mBAAoBoC,CAAI,CAAC,CAEhD,CAAC,EACMA,CACT,CACA,SAASM,EAAUN,EAAM,CACvB,IAAIO,EAAQP,EAAK,MAAM,GAAG,EAC1B,OAAOO,EAAMA,EAAM,OAAS,CAAC,CAC/B,CACA,SAASC,EAAiBR,EAAM,CAC9B,IAAIS,EAAQ,gBAAgB,KAAKT,CAAI,EACrC,OAAOS,EAAQA,EAAM,CAAC,EAAI,MAC5B,CACA,SAASC,EAAQ9B,EAAKM,EAAK,CACzBA,EAAMA,EAAM,EACZ,IAAIyB,EAAI/B,EAAI,OAAOM,GAAK,EACxB,GAAI,QAAQ,KAAKyB,CAAC,EAAG,CACnB,KAAO,YAAY,KAAK/B,EAAI,OAAOM,CAAG,CAAC,GACrCA,IAEF,OAAOA,CACT,KAAO,IAAI,YAAY,KAAKN,EAAI,MAAMM,EAAM,EAAGA,EAAM,CAAC,CAAC,EACrD,OAAOA,EAAM,EACR,GAAI,QAAQ,KAAKN,EAAI,MAAMM,EAAM,EAAGA,EAAM,CAAC,CAAC,EACjD,OAAOA,EAAM,EAEf,IAAI0B,EAAQ,EACRC,EAAU,GACd,EACE,QAAQF,EAAG,CACT,IAAK,IACL,IAAK,IACEE,GACHD,IAEF,MACF,IAAK,IACL,IAAK,IACH,GAAI,CAACC,GAAW,CAAC,EAAED,EACjB,OAAO1B,EAET,MACF,IAAK,IAEH,GADA2B,EAAU,CAACA,EACP,CAACD,GAAS,CAACC,EACb,OAAO3B,EAET,MACF,IAAK,KACHA,GACJ,OACOyB,EAAI/B,EAAI,OAAOM,GAAK,GAC7B,MAAO,EACT,CACA,SAAS4B,IAAmB,CAC1B,MAAM,IAAI,MAAM,UAAU,CAC5B,CACA,SAASC,EAAqBxB,EAAKyB,EAAO,CACxC,IAAIC,EAAQ1B,EAAI,UACZJ,EAAGC,EAAG8B,GAAMC,EAChB,IAAKhC,EAAI,EAAGC,EAAI4B,EAAM,OAAQ7B,EAAIC,EAAGD,IACnC+B,GAAOF,EAAM7B,CAAC,EACdgC,EAAS,MAAQjD,EAAWgD,EAAI,EAChCD,EAAME,CAAM,EAAI7D,EAAK,UACnB8D,GAAaF,EAAI,EACjB,SAAWA,GAAO,kBAAoBC,EAAS,KACjD,EAEF,SAASC,GAAaC,GAAO,CAC3B,OAAO,UAAW,CAChB,IAAIC,GAAW,KAAKD,EAAK,EACzB,OAAO,OAAOC,IAAY,WAAaA,GAAS,MAAM,KAAM,SAAS,EAAIA,EAC3E,CACF,CACF,CACA,SAAS5D,EAAW6D,EAAK,CACvB,KAAK,KAAOA,EAAM,EAClB,KAAK,KAAO,EACZ,KAAK,MAAQ1D,EAAU,KAAK,IAAI,CAClC,CACAH,EAAW,UAAU,MAAQ,SAAS6D,EAAK,CACzC,GAAIA,EAAM,EACR,MAAM,IAAI,MAAM,iBAAiB,EAEnC,IAAIC,EAAS,KAAK,KAClB,OAAID,EAAMC,EACD3D,EAAU0D,CAAG,GAElB,KAAK,KAAOA,EAAMC,IACpB,KAAK,MAAQ3D,EAAU2D,CAAM,EAC7B,KAAK,KAAO,GAEP,KAAK,MAAM,MAAM,KAAK,KAAM,KAAK,MAAQD,CAAG,EACrD,EACA,SAASE,EAAIC,EAAM,CACjB,IAAIC,EAAI,WACJhB,EAAI,MACJiB,EAAK,KAAK,IAAI,EAAG,EAAE,EACnBC,EAAQ,KAAK,MAAMH,GAAQ,KAAK,OAAO,GAAKE,EAAK,EAAE,EACvD,KAAK,KAAOA,EACZ,KAAK,SAAW,UAAW,CACzB,OAAOC,GAASF,EAAIE,EAAQlB,GAAKiB,CACnC,CACF,CACAH,EAAI,UAAU,YAAc,UAAW,CACrC,MAAO,CAAC,EAAE,KAAK,SAAS,EAAI,EAC9B,EACAA,EAAI,UAAU,QAAU,SAASK,EAAOC,EAAK,CAC3C,OAAIA,IAAQ,SACVA,EAAMD,EACNA,EAAQ,GAEVC,EAAMA,IAAQ,OAAS,KAAK,KAAOA,EAC5BD,EAAQ,KAAK,MAAM,KAAK,UAAU,GAAKC,EAAMD,EAAM,CAC5D,EACAL,EAAI,UAAU,UAAY,SAASK,EAAOC,EAAK,CAC7C,OAAIA,IAAQ,SACVA,EAAMD,EACNA,EAAQ,GAEVC,EAAMA,IAAQ,OAAS,EAAIA,EACpBD,GAASC,EAAMD,GAAS,KAAK,SAAS,EAAI,KAAK,IACxD,EACAL,EAAI,UAAU,WAAa,SAASF,EAAKS,EAAO,CAC9CT,GAAO,EACPS,EAAQA,GAAS,KACjB,IAAIC,EAAO,GACPD,EAAM,QAAQ,GAAG,EAAI,KACvBC,GAAQ,8BAEND,EAAM,QAAQ,GAAG,EAAI,KACvBC,GAAQ,8BAEND,EAAM,QAAQ,GAAG,EAAI,KACvBC,GAAQ,cAEND,EAAM,QAAQ,GAAG,EAAI,KACvBC,GAAQ,sCAGV,QADIC,EAAS,CAAC,EACL/C,EAAI,EAAGA,EAAIoC,EAAKpC,IACvB+C,EAAO,KAAK,KAAK,OAAOD,CAAI,CAAC,EAE/B,OAAOC,EAAO,KAAK,EAAE,CACvB,EACAT,EAAI,UAAU,WAAa,SAASF,EAAK,CACvC,IAAIvC,EAAM,CAAC,EACPG,EACJ,IAAKA,EAAI,EAAGA,EAAIoC,EAAKpC,IACnBH,EAAI,KAAK,KAAK,QAAQ,GAAG,CAAC,EAE5B,OAAOjB,EAAWiB,CAAG,CACvB,EACAyC,EAAI,UAAU,OAAS,SAASzC,EAAK,CACnC,IAAIuC,EAAMvC,EAAI,OACd,GAAI,CAACuC,EACH,MAAM,IAAI,MAAM,2BAA2B,EAE7C,OAAOvC,EAAI,KAAK,QAAQuC,CAAG,CAAC,CAC9B,EACA,SAASY,GAAe,CACtB,KAAK,OAAS,EACd,KAAK,OAAS,CAAC,CACjB,CACAA,EAAa,UAAU,KAAO,SAASC,EAAM,CAC3C,IAAIC,EAAQ,KAAK,OACblD,EAAIkD,EAAM,OAAS,EACnBC,EAEJ,IADAD,EAAM,KAAKD,CAAI,EACRjD,EAAI,GAAKkD,EAAMlD,CAAC,EAAE,MAAQkD,EAAMC,EAAKnD,EAAI,GAAK,CAAC,EAAE,OACtDiD,EAAOC,EAAMlD,CAAC,EACdkD,EAAMlD,CAAC,EAAIkD,EAAMC,CAAE,EACnBD,EAAMC,CAAE,EAAIF,EACZjD,EAAImD,CAER,EACAH,EAAa,UAAU,IAAM,UAAW,CACtC,IAAIE,EAAQ,KAAK,OACbd,EAAMc,EAAM,OAAS,EAAI,EACzBE,EAAQF,EAAM,CAAC,EACnB,GAAI,CAACE,GAASA,EAAM,MAAQ,KAAK,OAC/B,OAAO,KAGT,GADA,KAAK,SACD,CAAChB,EACH,OAAAc,EAAM,IAAI,EACHE,EAETF,EAAM,CAAC,EAAIA,EAAM,IAAI,EAIrB,QAHIG,EAAMjB,GAAO,EACbpC,EAAI,EACJsD,GAAIC,EAAIJ,GAAIF,GAAMzB,GAAGgC,GAAIC,GACtBzD,EAAIqD,IACTJ,GAAOC,EAAMlD,CAAC,EACdsD,IAAMtD,GAAK,GAAK,EAChBuD,EAAKvD,EAAI,GAAK,EACdwD,GAAKN,EAAMI,EAAE,EACbG,GAAKP,EAAMK,CAAE,EACT,CAACE,IAAMD,GAAG,OAASC,GAAG,OACxBjC,GAAIgC,GACJL,GAAKG,KAEL9B,GAAIiC,GACJN,GAAKI,GAEH,EAAA/B,GAAE,OAASyB,GAAK,SAGpBC,EAAMC,EAAE,EAAIF,GACZC,EAAMlD,CAAC,EAAIwB,GACXxB,EAAImD,GAEN,OAAOC,CACT,EACA,SAASM,EAAIC,EAAK5D,EAAK,CAGrB,GAFA,KAAK,IAAM4D,EACX,KAAK,IAAM5D,EAAM,EACb,KAAK,IAAM,EACb,MAAM,IAAI,MAAM,iBAAiB,CAErC,CACA2D,EAAI,UAAU,QAAU,UAAW,CACjC,OAAO,KAAK,KAAO,KAAK,IAAI,MAC9B,EACAA,EAAI,UAAU,YAAc,UAAW,CACrC,KAAK,IAAM,KAAK,IAAI,OAAS,CAC/B,EACAA,EAAI,UAAU,YAAc,UAAW,CACrC,MAAO,CAAC,CAAC,KAAK,IAAI,KAAK,KAAK,CAC9B,EACAA,EAAI,UAAU,YAAc,UAAW,CACrC,KAAK,KACP,EACAA,EAAI,UAAU,aAAe,SAASE,EAAI,CACxC,KAAK,IAAI,KAAK,KAAK,EAAI,CAAC,CAACA,CAC3B,EACAF,EAAI,UAAU,QAAUA,EAAI,UAAU,SAAW,UAAW,CAC1D,IAAIG,EAAI,EACJC,EAAK,EACLH,EAAM,KAAK,IACXC,EAAIG,EAAGC,GAAIC,EACf,GACEL,EAAKD,EAAI,KAAK,KAAK,EACnBI,EAAIH,EAAK,IACTC,IAAMD,EAAK,MAAQE,EACnBA,GAAM,QACCC,GAAKD,EAAK,IACnB,GAAIC,EAAG,CACLC,GAAKH,EACLI,EAAK,UACL,GACEL,EAAKD,EAAI,KAAK,KAAK,EACnBK,KAAOJ,EAAK,KAAOK,EACnBA,GAAM,UACCL,EAAK,KACd,OAAQI,GAAK,EAAI,EAAEA,GAAK,GAAKA,IAAM,CACrC,CACA,OAAOH,GAAK,EAAI,EAAEA,EAAI,EACxB,EACAH,EAAI,UAAU,QAAUA,EAAI,UAAU,SAAW,UAAW,CAE1D,QADIC,EAAM,KAAK,IACRA,EAAI,KAAK,KAAK,EAAI,KAAK,CAEhC,EACAD,EAAI,UAAU,SAAWA,EAAI,UAAU,UAAY,SAASG,EAAG,CAC7D,IAAIF,EAAM,KAAK,IACXK,EAAIvB,EACR,GAAIoB,GAAK,aAAeA,EAAI,WAAY,CACtCpB,EAAKoB,GAAK,EAAIA,GAAK,EAAI,CAACA,GAAK,EAAI,EACjC,GACEF,EAAI,KAAK,GAAG,EAAIlB,EAAK,IACrBA,IAAO,QACAA,IAAOkB,EAAI,KAAK,KAAK,GAAK,KACrC,KAAO,CACLK,EAAKH,GAAK,EAAIA,EAAI,EAAI,CAACA,EAAI,EAAI,EAC/B,GACEF,EAAI,KAAK,GAAG,EAAIK,EAAK,IACrBA,GAAM,UACCA,GAAM,IAAML,EAAI,KAAK,KAAK,GAAK,KAC1C,CACA,KAAK,KACP,EACAD,EAAI,UAAU,UAAY,UAAW,CACnC,IAAIC,EAAM,KAAK,IACX5D,EAAM,KAAK,IAEf,OADA,KAAK,KAAO,EACR,KAAK,IAAM4D,EAAI,OACV,EAEF,KAAK,IAAI,YAAY5D,CAAG,CACjC,EACA2D,EAAI,UAAU,UAAY,UAAW,CACnC,KAAK,KAAO,CACd,EACAA,EAAI,UAAU,WAAa,SAASM,EAAI,CACtC,IAAIL,EAAM,KAAK,IACX5D,EAAM,KAAK,IAEf,GADA,KAAK,KAAO,EACR,OAAK,IAAM4D,EAAI,QAGnB,OAAO,KAAK,IAAI,aAAaK,EAAIjE,CAAG,CACtC,EACA2D,EAAI,UAAU,WAAa,UAAW,CACpC,IAAIC,EAAM,KAAK,IACX5D,EAAM,KAAK,IAEf,OADA,KAAK,KAAO,EACR,KAAK,IAAM4D,EAAI,OACV,EAEF,KAAK,IAAI,aAAa5D,CAAG,CAClC,EACA2D,EAAI,UAAU,WAAa,UAAW,CACpC,KAAK,KAAO,CACd,EACAA,EAAI,UAAU,YAAc,SAASQ,EAAG,CACtC,IAAIP,EAAM,KAAK,IACX5D,EAAM,KAAK,IAEf,GADA,KAAK,KAAO,EACR,OAAK,IAAM4D,EAAI,QAGnB,OAAO,KAAK,IAAI,cAAcO,EAAGnE,CAAG,CACtC,EACA2D,EAAI,UAAU,UAAY,SAAStB,EAAK,CACtC,IAAIrC,EAAM,KAAK,IAEf,GADA,KAAK,KAAOqC,EACR,OAAK,IAAM,KAAK,IAAI,QAGxB,KAAI+B,EAAQ7F,EAAK,MAAM8D,CAAG,EAC1B,YAAK,IAAI,KAAK+B,EAAO,EAAGpE,EAAKA,EAAMqC,CAAG,EAC/B+B,EACT,EACAT,EAAI,UAAU,UAAY,SAAStB,EAAK,CACtC,KAAK,KAAOA,CACd,EACAsB,EAAI,UAAU,WAAa,SAASC,EAAKvB,EAAK,CAC5CA,EAAMA,GAAOuB,EAAI,OACjB,IAAI5D,EAAM,KAAK,IACf,KAAK,KAAOqC,EACR,OAAK,IAAM,KAAK,IAAI,SAGxBuB,EAAI,KAAK,KAAK,IAAK5D,EAAK,EAAGqC,CAAG,CAChC,EACAsB,EAAI,UAAU,UAAY,UAAW,CACnC,IAAItB,EAAM,KAAK,SAAS,EACxB,GAAIA,EAAM,EAAG,CACX,KAAK,YAAY,EACjB,MACF,CACA,OAAO,KAAK,UAAUA,CAAG,CAC3B,EACAsB,EAAI,UAAU,UAAY,UAAW,CACnC,IAAItB,EAAM,KAAK,SAAS,EACxB,GAAIA,EAAM,EAAG,CACX,KAAK,YAAY,EACjB,MACF,CACA,KAAK,KAAOA,CACd,EACAsB,EAAI,UAAU,WAAa,SAASC,EAAK,CACvC,IAAIvB,EAAMuB,EAAI,OACd,KAAK,UAAUvB,CAAG,EAClB,KAAK,WAAWuB,EAAKvB,CAAG,CAC1B,EACI,OAAO/D,EAAQ,UAAU,WAAa,WACxCqF,EAAI,UAAU,WAAa,UAAW,CACpC,IAAItB,EAAM,KAAK,SAAS,EACxB,GAAIA,EAAM,EACR,YAAK,YAAY,EACV,GAET,IAAIrC,EAAM,KAAK,IACX4D,EAAM,KAAK,IAEf,GADA,KAAK,KAAOvB,EACR,OAAK,IAAMuB,EAAI,QAGnB,OAAO,KAAK,IAAI,UAAU5D,EAAKA,EAAMqC,CAAG,CAC1C,EAEAsB,EAAI,UAAU,WAAa,UAAW,CACpC,IAAItB,EAAM,KAAK,SAAS,EACxB,GAAIA,EAAM,EACR,YAAK,YAAY,EACV,GAET,IAAIrC,EAAM,KAAK,IACX4D,EAAM,KAAK,IAEf,GADA,KAAK,KAAOvB,EACR,OAAK,IAAMuB,EAAI,QAGnB,OAAO,KAAK,IAAI,MAAM5D,EAAKA,EAAMqC,CAAG,EAAE,SAAS,CACjD,EAEFsB,EAAI,UAAU,WAAa,UAAW,CACpC,IAAItB,EAAM,KAAK,SAAS,EACxB,GAAIA,EAAM,EAAG,CACX,KAAK,YAAY,EACjB,MACF,CACA,KAAK,KAAOA,CACd,EACAsB,EAAI,UAAU,YAAc,SAAS1E,EAAG,CACtC,IAAIoD,EAAM/D,EAAQ,WAAWW,CAAC,EAC1B2E,EAAM,KAAK,IACf,KAAK,UAAUvB,CAAG,EAClB,IAAIrC,EAAM,KAAK,IAEf,GADA,KAAK,KAAOqC,EACR,OAAK,IAAMuB,EAAI,QAGnB,GAAIvB,EAAM,IAAM,OAAO/D,EAAQ,UAAU,WAAa,WACpDsF,EAAI,UAAU3E,EAAGe,EAAKqC,CAAG,MACpB,CACL,IAAIpC,EAAGC,GAAGuD,EAAIC,GACd,IAAKzD,EAAI,EAAGC,GAAImC,EAAKpC,EAAIC,GAAGD,IAC1BwD,EAAKxE,EAAE,WAAWgB,CAAC,EACfwD,EAAK,IACPG,EAAI5D,GAAK,EAAIyD,EACJA,EAAK,MACdG,EAAI5D,GAAK,EAAIyD,GAAM,EAAI,IACvBG,EAAI5D,GAAK,EAAIyD,EAAK,GAAK,MACbA,EAAK,SAAW,SAAWC,GAAKzE,EAAE,WAAWgB,EAAI,CAAC,GAAK,SAAW,OAC5EwD,EAAK,QAAUA,EAAK,OAAS,KAAOC,GAAK,MACzCzD,IACA2D,EAAI5D,GAAK,EAAIyD,GAAM,GAAK,IACxBG,EAAI5D,GAAK,EAAIyD,GAAM,GAAK,GAAK,IAC7BG,EAAI5D,GAAK,EAAIyD,GAAM,EAAI,GAAK,IAC5BG,EAAI5D,GAAK,EAAIyD,EAAK,GAAK,MAEvBG,EAAI5D,GAAK,EAAIyD,GAAM,GAAK,IACxBG,EAAI5D,GAAK,EAAIyD,GAAM,EAAI,GAAK,IAC5BG,EAAI5D,GAAK,EAAIyD,EAAK,GAAK,IAG7B,CACF,EACI,OAAOnF,EAAQ,UAAU,aAAe,WAC1CqF,EAAI,UAAU,YAAc,SAASjE,EAAK2C,EAAK,CAC7C,IAAIrC,EAAM,KAAK,IACf,KAAK,KAAOqC,EACR,OAAK,IAAM,KAAK,IAAI,SAGxB,KAAK,IAAI,YAAY3C,EAAKM,EAAKqC,CAAG,CACpC,EACS,OAAO/D,EAAQ,UAAU,aAAe,WACjDqF,EAAI,UAAU,YAAc,SAASjE,EAAK2C,EAAK,CAC7C,IAAIrC,EAAM,KAAK,IACf,KAAK,KAAOqC,EACR,OAAK,IAAM,KAAK,IAAI,SAGxB,KAAK,IAAI,YAAY3C,EAAKM,EAAKqC,CAAG,CACpC,EAEAsB,EAAI,UAAU,YAAc,SAAS1E,EAAGoD,EAAK,CAC3C,IAAIrC,EAAM,KAAK,IACf,KAAK,KAAOqC,EACR,OAAK,IAAM,KAAK,IAAI,SAGxB,KAAK,IAAI,MAAMpD,EAAGe,EAAKqC,EAAK,QAAQ,CACtC,EAEFsB,EAAI,UAAU,aAAe,SAASU,EAAK,CACzC,OAAO,KAAK,IAAI,KAAK,KAAK,EAAIA,EAAI,IAAIA,EAAI,KAAK,CACjD,EACAV,EAAI,UAAU,SAAWA,EAAI,UAAU,UAAY,SAASU,EAAK,CAC/D,IAAIlF,EAAK,KAAK,SAAS,EACnBC,EAAKiF,EAAI,SAAS,EACtB,OAAOlF,IAAOC,EAAK,EAAID,EAAKC,EAAK,GAAK,CACxC,EACAuE,EAAI,UAAU,WAAa,SAASU,EAAK,CACvC,IAAIlF,EAAK,KAAK,UAAU,EACpBC,EAAKiF,EAAI,UAAU,EACvB,OAAOlF,IAAOC,EAAK,EAAID,EAAKC,EAAK,GAAK,CACxC,EACAuE,EAAI,UAAU,YAAc,SAASU,EAAK,CACxC,IAAIlF,EAAK,KAAK,WAAW,EACrBC,EAAKiF,EAAI,WAAW,EACxB,OAAOlF,IAAOC,EAAK,EAAID,EAAKC,EAAK,GAAK,CACxC,EACAuE,EAAI,UAAU,WAAa,SAASU,EAAKhC,EAAK,CAC5C,OAAO,KAAK,UAAUA,CAAG,EAAE,QAAQgC,EAAI,UAAUhC,CAAG,CAAC,CACvD,EACAsB,EAAI,UAAU,WAAaA,EAAI,UAAU,YAAc,SAASU,EAAK,CACnE,IAAIC,EAAK,KAAK,SAAS,EACnBC,EAAK,KAAK,IACd,KAAK,KAAOD,EACZ,IAAIE,EAAKH,EAAI,SAAS,EAClBI,EAAKJ,EAAI,IACbA,EAAI,KAAOG,EACX,IAAIE,GAAK,KAAK,IAAI,MAAMH,EAAI,KAAK,GAAG,EAChCV,EAAKQ,EAAI,IAAI,MAAMI,EAAIJ,EAAI,GAAG,EAClC,OAAOK,GAAG,QAAQb,CAAE,CACtB,EACAF,EAAI,UAAU,gBAAkB,UAAW,CACzC,IAAIgB,EAAMhG,EAAU,CAAC,EACjBmF,EAAI,EACJ7D,EAAI,EACJmD,EAAK,EACLQ,EAAM,KAAK,IACXC,GAAIe,EAKR,IAJAf,GAAKD,EAAI,KAAK,KAAK,EACnBgB,EAAMf,GAAK,EACXc,EAAI,KAAK,CAAC,EACVb,IAAMD,GAAK,MAAQ,EACZA,GAAK,KACVA,GAAKD,EAAI,KAAK,KAAK,EACnBE,IAAMD,GAAK,MAAQT,EACnBA,GAAM,EACFA,GAAM,IACRA,GAAM,EACNuB,EAAI1E,GAAG,EAAI6D,EACXA,IAAM,GAGV,OAAAa,EAAI1E,CAAC,EAAI6D,EACLc,GACFC,EAAOF,EAAK,CAAC,EAERA,CACT,EACAhB,EAAI,UAAU,cAAgB,SAASC,EAAK,CAC1C,IAAIgB,GAAOhB,EAAI,CAAC,EAAI,MAAQ,EACxBe,EAAM,KAAK,IACXvB,EAAK,EACLW,EAAK,EACLrB,GAAK,EACLoB,EACAc,GACFC,EAAOjB,EAAK,CAAC,EACbE,EAAI,GAEJA,EAAI,EAON,QALIzC,GAAQ,CACVuC,EAAI,WAAW,EAAG,CAAC,EACnBA,EAAI,WAAW,EAAG,CAAC,EACnBA,EAAI,WAAW,EAAG,CAAC,CACrB,EACOlB,IAAM,CAACrB,GAAM,EAAEqB,EAAE,GAAG,CAE3B,KAAOqB,EAAKrB,IAGV,IAFAoB,GAAKzC,GAAM0C,GAAI,GAAKX,EACpBA,GAAM,GACCA,EAAK,GACVuB,EAAI,KAAK,KAAK,EAAIb,EAAI,IAAM,IAC5BA,IAAM,EACNV,GAAM,EAGVU,GAAKzC,GAAMqB,EAAE,GAAKU,EAClB,GACEuB,EAAI,KAAK,GAAG,EAAIb,EAAI,IACpBA,IAAM,QACCA,IAAMa,EAAI,KAAK,KAAK,GAAK,MAClC,KAAK,MACDC,GACFC,EAAOjB,EAAK,CAAC,CAEjB,EACA,SAASiB,EAAOjB,EAAKvB,EAAK,CACxB,KAAOA,KACLuB,EAAIvB,CAAG,EAAI,CAACuB,EAAIvB,CAAG,CAEvB,CACAtE,EAAO,QAAU,CACf,iBAAA6D,GACA,qBAAAC,EACA,WAAAhD,EACA,WAAAG,EACA,kBAAAyB,GACA,QAAAhB,EACA,QAAAP,EACA,UAAAG,GACA,iBAAAiC,EACA,YAAAN,EACA,QAAAQ,EACA,UAAA7C,EACA,aAAA4B,EACA,QAAAU,EACA,MAAAd,EACA,cAAAN,EACA,cAAAW,EACA,UAAAY,EACA,WAAA5C,EACA,IAAA+D,EACA,aAAAU,EACA,IAAAU,CACF,CACF,CACF,CAAC,EAGGmB,GAAgBnI,GAAW,CAC7B,iCAAiCmB,EAASC,EAAQ,CAChD,aACA,IAAIgH,EAAQlH,GAAc,EACtBG,EAASC,GACTG,EAAOC,GACPC,EAAUN,EAAO,OACjBgH,EAAahH,EAAO,WACpB2F,EAAMoB,EAAM,IACZE,EAAQ7G,EAAK,SAAS,YAAY,EAClCM,EAAKN,EAAK,OACV8G,EAAQ,CACV,MAASC,EACT,QAAWC,EACX,MAASC,EACT,OAAUC,EACV,KAAQC,EACR,MAASC,EACT,MAASC,EACT,MAASC,EACT,IAAOC,GACP,KAAQC,EACR,IAAOC,EACP,KAAQC,EACR,OAAUN,EACV,OAAUO,CACZ,EACIC,EAAS,IAAIjB,EAAM,IACnBkB,EAAM,IAAItC,EAAI,IAAIqB,EAAW,IAAI,CAAC,EAClCkB,GAAe,KACfC,EAAmB,CAAC,EACxB,SAASC,EAAKC,EAAQ/G,EAAM,CAC1B,IAAIgH,EAYJ,GAXIJ,IACFI,EAAOJ,GACPC,EAAiB,KAAK,CAACD,GAAc,IAAI,CAAC,EAC1CA,GAAe,MAEfI,EAAO,KAET,KAAK,MAAQ,IAAIC,GACjB,KAAK,KAAO,OACZ,KAAK,QAAU,OACf,KAAK,IAAMF,GAAUA,EAAO,IAAM,GAAKA,EAAO,IAAM,OAChDA,EAAQ,CACV,IAAIvF,EAAOuF,EAAO,KACdnF,EAAYmF,EAAO,YAAc,OAAS/G,GAAQA,EAAK,UAAY+G,EAAO,UAC9E,GAAIvF,IAAS,OAAQ,CAEnB,GADAA,EAAO0F,GAAa1F,EAAMI,CAAS,EAC/BuF,GAAY3F,CAAI,EAClB,MAAM,IAAI,MAAMpC,EAAG,mCAAoCoC,CAAI,CAAC,EAE9D,IAAI4F,EAAWpH,GAAQA,EAAK,SAC5B,GAAIoH,EAAU,CACZ,GAAIA,EAAS5F,CAAI,IAAM,OACrB,MAAM,IAAI,MAAMpC,EAAG,0BAA2BoC,CAAI,CAAC,EAErD4F,EAAS5F,CAAI,EAAIwF,CACnB,CACF,SAAWhH,GAAQA,EAAK,iBACtB,MAAM,IAAI,MAAMZ,EAAG,sCAAuC2H,CAAM,CAAC,EAEnE,KAAK,KAAOvF,EACZ,KAAK,QAAUuF,EAAO,QAAUA,EAAO,QAAQ,IAAI,SAAS,EAAG,CAC7D,OAAOG,GAAa,EAAGtF,CAAS,CAClC,CAAC,EAAI,CAAC,CACR,CACF,CACAkF,EAAK,UAAY,SAASC,EAAQ/G,EAAM,CACtCA,EAAOA,GAAQ,CAAC,EAChBA,EAAK,SAAWA,EAAK,UAAY,CAAC,EAClC,IAAIqH,EAAa,SAASC,EAAY,CAUpC,OATIA,IAAe,GACjBA,EAAa,SACJA,IAAe,GACxBA,EAAa,QACJA,IAAe,OACxBA,EAAa,OACJ,OAAOA,GAAc,WAC9BA,EAAaA,EAAW,YAAY,GAE9BA,EAAY,CAClB,IAAK,SACH,OAAOC,EACT,IAAK,QACH,OAAOC,EACT,IAAK,OACH,OACF,QACE,MAAM,IAAI,MAAMpI,EAAG,iCAAkCkI,CAAU,CAAC,CACpE,CACF,EAAEtH,EAAK,UAAU,EACjB,GAAI+G,IAAW,KACb,MAAM,IAAI,MAAM,2CAA2C,EAE7D,GAAID,EAAK,OAAOC,CAAM,EACpB,OAAOA,EAET,IAAIC,EACJ,GAAIhH,EAAK,WAAagH,EAAOhH,EAAK,SAAS+G,EAAQ/G,CAAI,GAAI,CACzD,GAAI,CAAC8G,EAAK,OAAOE,CAAI,EACnB,MAAM,IAAI,MAAM5H,EAAG,oCAAqC4H,CAAI,CAAC,EAE/D,OAAOA,CACT,CACA,GAAI,OAAOD,GAAU,SAAU,CAG7B,GAFAA,EAASG,GAAaH,EAAQ/G,EAAK,SAAS,EAC5CgH,EAAOhH,EAAK,SAAS+G,CAAM,EACvBC,EACF,OAAOA,EAET,GAAIG,GAAYJ,CAAM,EACpB,OAAO/G,EAAK,SAAS+G,CAAM,EAAID,EAAK,UAAU,CAAE,KAAMC,CAAO,EAAG/G,CAAI,EAEtE,MAAM,IAAI,MAAMZ,EAAG,0BAA2B2H,CAAM,CAAC,CACvD,CACA,GAAIA,EAAO,aAAe/G,EAAK,cAAgB,CAAC4G,GAAc,CAC5D,IAAIa,EAAczH,EAAK,aAAa+G,EAAO,WAAW,EACtD,GAAIU,EAAa,CACf,IAAI7F,EAAY5B,EAAK,UACjBoH,EAAW,CAAC,EAChB,OAAO,KAAKpH,EAAK,QAAQ,EAAE,QAAQ,SAASlC,EAAK,CAC/CsJ,EAAStJ,CAAG,EAAIkC,EAAK,SAASlC,CAAG,CACnC,CAAC,EACD,GAAI,CACF,OAAA6H,EAAM,oCAAqCoB,EAAO,WAAW,EACtD,IAAIU,EAAYV,EAAQ/G,CAAI,CACrC,OAAS0H,EAAK,CAEZ,GADA/B,EAAM,4CAA6CoB,EAAO,WAAW,EACjE/G,EAAK,mBACP,MAAM0H,EAERd,GAAe,KACf5G,EAAK,UAAY4B,EACjB5B,EAAK,SAAWoH,CAClB,CACF,CACF,CACA,GAAI,MAAM,QAAQL,CAAM,EAAG,CACzB,IAAIY,EAAcf,GAClBA,GAAe,KACf,IAAIgB,EAAQb,EAAO,IAAI,SAAShG,EAAK,CACnC,OAAO+F,EAAK,UAAU/F,EAAKf,CAAI,CACjC,CAAC,EACIqH,IACHA,EAAaQ,GAAYD,CAAK,EAAIL,EAAmBC,GAEvDZ,GAAee,EACfX,EAAO,IAAIK,EAAWO,EAAO5H,CAAI,CACnC,MACEgH,EAAO,SAASc,EAAU,CACxB,IAAIC,EAAQnC,EAAMkC,CAAQ,EAC1B,GAAIC,IAAU,OACZ,MAAM,IAAI,MAAM3I,EAAG,mBAAoB0I,CAAQ,CAAC,EAElD,OAAO,IAAIC,EAAMhB,EAAQ/G,CAAI,CAC/B,EAAE+G,EAAO,IAAI,EAEf,OAAOC,CACT,EACAF,EAAK,SAAW,SAASkB,EAAKhI,EAAM,CAMlC,GALAA,EAAOA,GAAQ,CAAC,EAChBA,EAAK,eAAiBA,EAAK,gBAAkB8G,EAAK,UAAU,CAC1D,KAAM,QACN,MAAO,MACT,CAAC,EACG9G,EAAK,UAAW,CAClB,IAAIgH,EAAOhH,EAAK,UAAUgI,EAAKhI,CAAI,EACnC,GAAIgH,IAAS,OAAQ,CACnB,GAAI,CAACF,EAAK,OAAOE,CAAI,EACnB,MAAM,IAAI,MAAM5H,EAAG,sCAAuC4H,CAAI,CAAC,EAEjE,OAAOA,CACT,CACF,CACA,OAAQ,OAAOgB,EAAK,CAClB,IAAK,SACH,OAAOlB,EAAK,UAAU,SAAU9G,CAAI,EACtC,IAAK,UACH,OAAO8G,EAAK,UAAU,UAAW9G,CAAI,EACvC,IAAK,SACH,OAAKgI,EAAM,KAAOA,EACTlB,EAAK,UAAU,MAAO9G,CAAI,EACxB,KAAK,IAAIgI,CAAG,EAAI,iBAClBlB,EAAK,UAAU,QAAS9G,CAAI,EAE9B8G,EAAK,UAAU,SAAU9G,CAAI,EACtC,IAAK,SACH,GAAIgI,IAAQ,KACV,OAAOlB,EAAK,UAAU,OAAQ9G,CAAI,EAC7B,GAAI,MAAM,QAAQgI,CAAG,EAC1B,OAAKA,EAAI,OAGFlB,EAAK,UAAU,CACpB,KAAM,QACN,MAAOA,EAAK,SACVkB,EAAI,IAAI,SAASvH,EAAI,CACnB,OAAOqG,EAAK,SAASrG,EAAIT,CAAI,CAC/B,CAAC,EACDA,CACF,CACF,EAAGA,CAAI,EAVEA,EAAK,eAWT,GAAIhB,EAAQ,SAASgJ,CAAG,EAC7B,OAAOlB,EAAK,UAAU,QAAS9G,CAAI,EAErC,IAAIiI,EAAa,OAAO,KAAKD,CAAG,EAChC,OAAIC,EAAW,KAAK,SAAStI,EAAG,CAC9B,MAAO,CAAC8F,EAAM,YAAY9F,CAAC,CAC7B,CAAC,EACQmH,EAAK,UAAU,CACpB,KAAM,MACN,OAAQA,EAAK,SAASmB,EAAW,IAAI,SAAStI,EAAG,CAC/C,OAAOmH,EAAK,SAASkB,EAAIrI,CAAC,EAAGK,CAAI,CACnC,CAAC,EAAGA,CAAI,CACV,EAAGA,CAAI,EAEF8G,EAAK,UAAU,CACpB,KAAM,SACN,OAAQmB,EAAW,IAAI,SAAStI,EAAG,CACjC,MAAO,CAAE,KAAMA,EAAG,KAAMmH,EAAK,SAASkB,EAAIrI,CAAC,EAAGK,CAAI,CAAE,CACtD,CAAC,CACH,EAAGA,CAAI,EACT,QACE,MAAM,IAAI,MAAMZ,EAAG,6BAA8B4I,CAAG,CAAC,CACzD,CACF,EACAlB,EAAK,SAAW,SAASc,EAAO5H,EAAM,CACpC,GAAI,CAAC4H,EAAM,OACT,MAAM,IAAI,MAAM,qBAAqB,EAEvC,GAAIA,EAAM,SAAW,EACnB,OAAOA,EAAM,CAAC,EAEhB5H,EAAOA,GAAQ,CAAC,EAChB,IAAIkI,EAAW,CAAC,EACZC,EAAmB,EACnBC,EAAsB,GAmB1B,GAlBAR,EAAM,QAAQ,SAASZ,EAAM,CAC3B,OAAQA,EAAK,SAAU,CACrB,IAAK,kBACHoB,EAAsB,GACtBF,EAAWA,EAAS,OAAOlB,EAAK,KAAK,EACrC,MACF,IAAK,gBACHmB,IACAD,EAAWA,EAAS,OAAOlB,EAAK,KAAK,EACrC,MACF,IAAK,OACHkB,EAAS,KAAKlB,CAAI,EAClB,MACF,QACEoB,EAAsB,GACtBF,EAAS,KAAKlB,CAAI,CACtB,CACF,CAAC,EACGmB,EAAkB,CACpB,GAAI,CAACC,EACH,MAAM,IAAI,MAAM,8BAA8B,EAEhD,IAAIC,EAAc,CAAC,EACnBH,EAAS,QAAQ,SAASlB,EAAM,CAC9B,IAAIxF,EAAOwF,EAAK,WACZsB,EAAaD,EAAY7G,CAAI,EACjC,GAAI,CAAC8G,EACHD,EAAY7G,CAAI,EAAIwF,UACX,CAACA,EAAK,OAAOsB,CAAU,EAChC,MAAM,IAAI,MAAM,0BAA0B,CAE9C,CAAC,EACD,IAAIhB,EAAatH,EAAK,WAClBuI,EACJvI,EAAK,WAAa,GAClB,GAAI,CACFuI,EAAYzB,EAAK,UAAU,OAAO,KAAKuB,CAAW,EAAE,IAAI,SAAS7G,EAAM,CACrE,OAAO6G,EAAY7G,CAAI,CACzB,CAAC,EAAGxB,CAAI,CACV,OAAS0H,EAAK,CACZ,MAAA1H,EAAK,WAAasH,EACZI,CACR,CACA,OAAA1H,EAAK,WAAasH,EACXiB,CACT,CACA,IAAIC,EAAa,CAAC,EAClBN,EAAS,QAAQ,SAASlB,EAAM,CAC9B,IAAIyB,EAASC,GAAc1B,CAAI,EAC3B2B,EAAcH,EAAWC,CAAM,EAC9BE,IACHH,EAAWC,CAAM,EAAIE,EAAc,CAAC,GAEtCA,EAAY,KAAK3B,CAAI,CACvB,CAAC,EACD,IAAI4B,EAAU,OAAO,KAAKJ,CAAU,EAChCK,EAAYD,EAAQ,IAAI,SAASH,EAAQ,CAC3C,IAAIE,EAAcH,EAAWC,CAAM,EACnC,GAAIE,EAAY,SAAW,EACzB,OAAOA,EAAY,CAAC,EAEpB,OAAQF,EAAQ,CACd,IAAK,OACL,IAAK,UACH,OAAOE,EAAY,CAAC,EACtB,IAAK,SACH,OAAOG,GAAeH,CAAW,EACnC,IAAK,SACH,OAAOI,GAAeJ,EAAa3I,CAAI,EACzC,IAAK,SACH,OAAOgJ,GAAeL,EAAa3I,CAAI,EACzC,IAAK,QAIH,OAHA2I,EAAcA,EAAY,OAAO,SAASM,EAAG,CAC3C,OAAOA,IAAMjJ,EAAK,cACpB,CAAC,EACI2I,EAAY,OAGV7B,EAAK,UAAU,CACpB,KAAM,QACN,MAAOA,EAAK,SAAS6B,EAAY,IAAI,SAASM,EAAG,CAC/C,OAAOA,EAAE,SACX,CAAC,EAAGjJ,CAAI,CACV,EAAGA,CAAI,EAPEA,EAAK,eAQhB,QACE,OAAOkJ,GAAeP,EAAa3I,CAAI,CAC3C,CAEJ,CAAC,EACD,OAAI6I,EAAU,SAAW,EAChBA,EAAU,CAAC,EAEX/B,EAAK,UAAU+B,EAAW7I,CAAI,CAEzC,EACA8G,EAAK,OAAS,UAAW,CACvB,IAAIlG,EAAI,UAAU,OAClB,GAAI,CAACA,EACH,MAAO,GAET,IAAIuI,EAAM,UAAU,CAAC,EACrB,GAAI,CAACA,GAAO,OAAOA,EAAI,SAAW,YAAc,OAAOA,EAAI,aAAe,WACxE,MAAO,GAET,GAAIvI,IAAM,EACR,MAAO,GAET,IAAIkH,EAAWqB,EAAI,SACfxI,EACJ,IAAKA,EAAI,EAAGA,EAAIC,EAAGD,IACjB,GAAImH,EAAS,QAAQ,UAAUnH,CAAC,CAAC,IAAM,EACrC,MAAO,GAGX,MAAO,EACT,EACAmG,EAAK,QAAU,SAASxH,EAAM,CAC5BqG,EAAM,8BAA+BrG,CAAI,EACzCqH,EAAI,IAAM,IAAIjB,EAAWpG,CAAI,CAC/B,EACA,OAAO,eAAewH,EAAK,UAAW,aAAc,CAClD,WAAY,GACZ,IAAK,UAAW,CACd,IAAIE,EAAOF,EAAK,OAAO,KAAM,SAAS,EAAI,KAAK,eAAiB,KAChE,OAAIE,EAAK,KACAA,EAAK,KAEVF,EAAK,OAAOE,EAAM,UAAU,EACvBA,EAAK,kBAEPF,EAAK,OAAOE,EAAM,OAAO,EAAI,OAASA,EAAK,QACpD,CACF,CAAC,EACDF,EAAK,UAAU,MAAQ,SAASkB,EAAKhI,EAAM,CACzC,OAAIA,GACFA,EAAO,CACL,OAAQ,CAAC,CAACA,EAAK,cAAgB,EAE/B,UAAWA,EAAK,UAChB,aAAc,CAAC,CAACA,EAAK,aACrB,KAAM,CAAC,CAACA,EAAK,kBACb,KAAM,CAAC,CAACA,EAAK,WAAa,CAE5B,EACO,KAAK,MAAMgI,EAAKhI,CAAI,GAEpB,KAAK,WAAW,KAAK,SAASgI,CAAG,CAAC,CAE7C,EACAlB,EAAK,UAAU,QAAUrB,EAAM,iBAC/BqB,EAAK,UAAU,eAAiB,SAASsC,EAAMC,EAAM,CACnD,OAAO,KAAK,OAAO,IAAIhF,EAAI+E,CAAI,EAAG,IAAI/E,EAAIgF,CAAI,CAAC,CACjD,EACAvC,EAAK,UAAU,eAAiB,SAASE,EAAMhH,EAAM,CACnD,GAAI,CAAC8G,EAAK,OAAOE,CAAI,EACnB,MAAM,IAAI,MAAM5H,EAAG,iBAAkB4H,CAAI,CAAC,EAE5C,GAAI,CAACF,EAAK,OAAO,KAAM,QAAS,SAAS,GAAKA,EAAK,OAAOE,EAAM,SAAS,EACvE,OAAO,KAAK,eAAeA,EAAK,eAAgBhH,CAAI,EAEtDA,EAAOA,GAAQ,CAAC,EAChBA,EAAK,SAAWA,EAAK,UAAY,CAAC,EAClC,IAAIsJ,EAAUxL,EACd,GAAIgJ,EAAK,OAAO,KAAM,SAAU,OAAO,GAAKA,EAAK,OAAOE,EAAM,SAAU,OAAO,IAC7ElJ,EAAM,KAAK,KAAO,IAAMkJ,EAAK,KAC7BsC,EAAWtJ,EAAK,SAASlC,CAAG,EACxBwL,GACF,OAAOA,EAOX,GAJAA,EAAW,IAAIC,EAAS,IAAI,EACxBzL,IACFkC,EAAK,SAASlC,CAAG,EAAIwL,GAEnBxC,EAAK,OAAOE,EAAM,OAAO,EAAG,CAC9B,IAAIwC,EAAYxC,EAAK,MAAM,IAAI,SAASiC,EAAG,CACzC,OAAO,KAAK,eAAeA,EAAGjJ,CAAI,CACpC,EAAG,IAAI,EACPsJ,EAAS,MAAQ,SAASvE,EAAK,CAC7B,IAAI0E,EAAQ1E,EAAI,SAAS,EACrB2E,EAAYF,EAAUC,CAAK,EAC/B,GAAIC,IAAc,OAChB,MAAM,IAAI,MAAMtK,EAAG,0BAA2BqK,CAAK,CAAC,EAEtD,OAAOD,EAAUC,CAAK,EAAE,MAAM1E,CAAG,CACnC,CACF,MACE,KAAK,QAAQuE,EAAUtC,EAAMhH,CAAI,EAEnC,GAAI,CAACsJ,EAAS,MACZ,MAAM,IAAI,MAAMlK,EAAG,uBAAwB4H,EAAM,IAAI,CAAC,EAExD,OAAO,OAAO,OAAOsC,CAAQ,CAC/B,EACAxC,EAAK,UAAU,OAAS,SAASxC,EAAK5D,EAAK4I,EAAU,CACnD,IAAIvE,EAAM,IAAIV,EAAIC,EAAK5D,CAAG,EACtBsH,EAAM2B,EAAU,KAAM5E,EAAKuE,CAAQ,EACvC,OAAKvE,EAAI,QAAQ,EAGV,CAAE,MAAOiD,EAAK,OAAQjD,EAAI,GAAI,EAF5B,CAAE,MAAO,OAAQ,OAAQ,EAAG,CAGvC,EACA+B,EAAK,UAAU,OAAS,SAASkB,EAAK1D,EAAK5D,EAAK,CAC9C,IAAIqE,EAAM,IAAIV,EAAIC,EAAK5D,CAAG,EAE1B,OADA,KAAK,OAAOqE,EAAKiD,CAAG,EACfjD,EAAI,QAAQ,EAGVA,EAAI,IAFFT,EAAI,OAASS,EAAI,GAG5B,EACA+B,EAAK,UAAU,OAAS,SAASE,EAAMhH,EAAM,CAC3C,IAAI4J,EAEF9C,EAAK,OAAOE,CAAI,GAAK,KAAK,YAAY,EAAE,OAAOA,EAAK,YAAY,CAAC,EAEnE,MAAI,CAAC4C,GAAS,EAAE5J,GAAQA,EAAK,QACpB4J,EAEF,KAAK,UAAU,KAAK,OAAO,CAAE,YAAa,EAAK,CAAC,CAAC,IAAM,KAAK,UAAU5C,EAAK,OAAO,CAAE,YAAa,EAAK,CAAC,CAAC,CACjH,EACAF,EAAK,UAAU,YAAc,SAASzG,EAAW,CAC/C,GAAKA,EAOH,OAAOoF,EAAM,QAAQ,KAAK,UAAU,KAAK,OAAO,CAAC,EAAGpF,CAAS,EAN7D,GAAI,CAAC,KAAK,MAAM,IAAK,CACnB,IAAIwJ,EAAY,KAAK,UAAU,KAAK,OAAO,CAAC,EAC5C,KAAK,MAAM,IAAMpE,EAAM,QAAQoE,CAAS,EAAE,SAAS,QAAQ,CAC7D,CACA,OAAOpE,EAAM,WAAW,KAAK,MAAM,IAAK,QAAQ,CAIpD,EACAqB,EAAK,UAAU,WAAa,SAASxC,EAAKgF,EAAUQ,EAAS,CAC3D,IAAI/E,EAAM,IAAIV,EAAIC,CAAG,EACjB0D,EAAM2B,EAAU,KAAM5E,EAAKuE,EAAUQ,CAAO,EAChD,GAAI,CAAC/E,EAAI,QAAQ,EACf,MAAM,IAAI,MAAM,kBAAkB,EAEpC,GAAI,CAAC+E,GAAW/E,EAAI,IAAMT,EAAI,OAC5B,MAAM,IAAI,MAAM,eAAe,EAEjC,OAAO0D,CACT,EACAlB,EAAK,UAAU,WAAa,SAAS1G,EAAK,CACxC,OAAO,KAAK,MAAM,KAAK,MAAMA,CAAG,EAAG,CAAE,OAAQ,CAAE,CAAC,CAClD,EACA0G,EAAK,UAAU,QAAU,UAAW,CAClC,IAAIgB,EAAW,KAAK,SAChBiC,EAAYC,GAAalC,CAAQ,EACrC,GAAIX,GAAYW,CAAQ,EACtB,OAAO1I,EAAG,OAAQ2K,CAAS,EAE3B,IAAIhJ,EAAM,KAAK,OAAO,CAAE,YAAa,GAAM,QAAS,EAAK,CAAC,EAC1D,OAAI,OAAOA,GAAO,UAAY,CAAC+F,EAAK,OAAO,KAAM,SAAS,IACxD/F,EAAI,KAAO,QAEN3B,EAAG,UAAW2K,EAAWhJ,CAAG,CAEvC,EACA+F,EAAK,UAAU,QAAU,SAASkB,EAAKhI,EAAM,CAC3C,IAAIwD,GAASxD,GAAQA,EAAK,oBAAsB,EAC5CiK,EAAYjK,GAAQA,EAAK,UACzBkK,EAAMC,EACV,OAAIF,IACFE,EAAO,CAAC,EACRD,EAAO,SAASf,EAAKnC,EAAM,CACzBiD,EAAU,KAAK,KAAME,EAAK,MAAM,EAAGhB,EAAKnC,EAAMgB,CAAG,CACnD,GAEK,KAAK,OAAOA,EAAKxE,EAAO0G,EAAMC,CAAI,CAC3C,EACArD,EAAK,UAAU,OAASrB,EAAM,iBAC9BqB,EAAK,UAAU,OAAS,SAAS9G,EAAM,CACrC,OAAO,KAAK,OAAO,CACjB,YAAa,CAAC,EAAEA,GAAQA,EAAK,aAC7B,QAAS,CAAC,EAAEA,GAAQA,EAAK,QAC3B,CAAC,CACH,EACA8G,EAAK,UAAU,SAAW,SAASkB,EAAK,CACtCrB,EAAI,IAAM,EACV,KAAK,OAAOA,EAAKqB,CAAG,EACpB,IAAI1D,EAAMmB,EAAM,UAAUkB,EAAI,GAAG,EACjC,OAAIA,EAAI,QAAQ,EACdA,EAAI,IAAI,KAAKrC,EAAK,EAAG,EAAGqC,EAAI,GAAG,EAE/B,KAAK,OAAO,IAAItC,EAAIC,CAAG,EAAG0D,CAAG,EAExB1D,CACT,EACAwC,EAAK,UAAU,OAAS,UAAW,CACjC,OAAO,KAAK,OAAO,CAAE,YAAa,EAAK,CAAC,CAC1C,EACAA,EAAK,UAAU,SAAW,SAASkB,EAAK,CACtC,OACS,KAAK,UADVA,IAAQ,OACY,KAAK,OAAO,CAAE,QAAS,EAAK,CAAC,EAE/B,KAAK,MAAMA,EAAK,CAAE,OAAQ,CAAE,CAAC,CAFG,CAGxD,EACAlB,EAAK,UAAU,KAAO,SAASkB,EAAK,CAClC,IAAIoC,EAAS,KAAK,mBAClB,OAAOA,IAAW,KAAO,KAAO,IAAIA,EAAOpC,CAAG,CAChD,EACAlB,EAAK,UAAU,OAAS,SAAS9G,EAAM,CACrCA,EAAK,QAAUA,EAAK,SAAW,CAAC,EAChC,IAAIwB,EAAO,KAAK,KAChB,GAAIA,IAAS,OAAQ,CACnB,GAAIxB,EAAK,SAAWA,EAAK,QAAQwB,CAAI,EACnC,OAAOA,EAETxB,EAAK,QAAQwB,CAAI,EAAI,EACvB,CACA,IAAIuF,EAAS,CAAC,EACV,KAAK,OAAS,SAChBA,EAAO,KAAOvF,GAEhBuF,EAAO,KAAO,KAAK,SACnB,IAAIsD,EAAgB,KAAK,OAAOtD,EAAQ/G,CAAI,EAC5C,OAAIqK,IAAkB,SACpBtD,EAASsD,GAEPrK,EAAK,cACH,KAAK,SAAW,KAAK,QAAQ,SAC/B+G,EAAO,QAAU,KAAK,SAEpB,KAAK,MAAQ,SACfA,EAAO,IAAM,KAAK,MAGfA,CACT,EACAD,EAAK,UAAU,yBAA2B,UAAW,CACnD,IAAItF,EAAO,KAAK,WAChB,GAAIA,IAAS,OACX,OAAO,KAET,IAAI8I,EAAO,CAAC9I,EAAK,QAAQ,GAAG,EAAI,SAAWA,EAAO,KAAO,QAAUA,EAC/D+I,EAAO,kCAAoCD,EAAO,aAClDF,EAAS,IAAI,SAASG,CAAI,EAAE,EAChC,OAAAH,EAAO,KAAO,KACdA,EAAO,UAAU,OAAS,IAAI,SAAS,UAAYE,EAAO,GAAG,EAC7DF,EAAO,UAAU,UAAYA,EAAO,UAAU,OACvCA,CACT,EACAtD,EAAK,UAAU,MAAQ,SAAS/B,EAAK,CACnC,IAAIrE,EAAMqE,EAAI,IACViD,EAAM,KAAK,MAAMjD,CAAG,EACxB,OAAAA,EAAI,IAAMrE,EACHsH,CACT,EACAlB,EAAK,UAAU,OAASrB,EAAM,iBAC9BqB,EAAK,UAAU,MAAQrB,EAAM,iBAC7BqB,EAAK,UAAU,OAASrB,EAAM,iBAC9BqB,EAAK,UAAU,OAASrB,EAAM,iBAC9BqB,EAAK,UAAU,MAAQrB,EAAM,iBAC7BqB,EAAK,UAAU,MAAQrB,EAAM,iBAC7BqB,EAAK,UAAU,QAAUrB,EAAM,iBAC/BqB,EAAK,UAAU,OAASrB,EAAM,iBAC9BqB,EAAK,UAAU,WAAa,UAAW,CACrC,OAAO,KAAK,OACd,EACAA,EAAK,UAAU,eAAiBA,EAAK,UAAU,YAC/CA,EAAK,UAAU,QAAU,SAAS0D,EAAU,CAC1C,OAAO,KAAK,MAAQ,CAACA,EAAW,KAAK,KAAO,KAAK,UACnD,EACA1D,EAAK,UAAU,UAAYA,EAAK,UAAU,OAC1CA,EAAK,UAAU,YAAc,UAAW,CACtC,OAAO,KAAK,QACd,EACA,SAAS2D,EAAcC,EAAU,CAC/B5D,EAAK,KAAK,IAAI,EACd,KAAK,mBAAqB,KAAK,yBAAyB,EACnD4D,GACH,OAAO,OAAO,IAAI,CAEtB,CACA5L,EAAK,SAAS2L,EAAe3D,CAAI,EACjC2D,EAAc,UAAU,QAAU,SAASnB,EAAUtC,EAAM,CACrDA,EAAK,WAAa,KAAK,WACzBsC,EAAS,MAAQ,KAAK,MAE1B,EACAmB,EAAc,UAAU,MAAQ,SAASzC,EAAK,CAC5C,YAAK,OAAOA,EAAK,OAAQ2C,EAAiB,EACnC3C,CACT,EACAyC,EAAc,UAAU,OAAS,UAAW,CAC1C,OAAO,KAAK,QACd,EACAA,EAAc,UAAU,QAAUhF,EAAM,QACxC,SAASe,GAAW,CAClBiE,EAAc,KAAK,IAAI,CACzB,CACA3L,EAAK,SAAS0H,EAAUiE,CAAa,EACrCjE,EAAS,UAAU,OAAS,SAASwB,EAAKxE,EAAO0G,EAAM,CACrD,IAAI3F,EAAKyD,IAAQ,KACjB,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACAiC,EAAS,UAAU,MAAQ,UAAW,CACpC,OAAO,IACT,EACAA,EAAS,UAAU,MAAQ,UAAW,CACtC,EACAA,EAAS,UAAU,OAAS,SAASzB,EAAKiD,EAAK,CACzCA,IAAQ,MACV2C,GAAkB3C,EAAK,IAAI,CAE/B,EACAxB,EAAS,UAAU,OAAS,UAAW,CACrC,MAAO,EACT,EACAA,EAAS,UAAU,QAAUA,EAAS,UAAU,OAChDA,EAAS,UAAU,SAAW,OAC9BA,EAAS,UAAU,OAASA,EAAS,UAAU,MAC/C,SAASV,GAAc,CACrB2E,EAAc,KAAK,IAAI,CACzB,CACA3L,EAAK,SAASgH,EAAa2E,CAAa,EACxC3E,EAAY,UAAU,OAAS,SAASkC,EAAKxE,EAAO0G,EAAM,CACxD,IAAI3F,EAAK,OAAOyD,GAAO,UACvB,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACAuB,EAAY,UAAU,MAAQ,SAASf,EAAK,CAC1C,OAAOA,EAAI,YAAY,CACzB,EACAe,EAAY,UAAU,MAAQ,SAASf,EAAK,CAC1CA,EAAI,YAAY,CAClB,EACAe,EAAY,UAAU,OAAS,SAASf,EAAKiD,EAAK,CAC5C,OAAOA,GAAO,WAChB2C,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,aAAaiD,CAAG,CACtB,EACAlC,EAAY,UAAU,OAAS,SAAS8E,EAAMC,EAAM,CAClD,OAAOD,EAAK,aAAaC,CAAI,CAC/B,EACA/E,EAAY,UAAU,SAAW,UACjCA,EAAY,UAAU,OAAS,UAAW,CACxC,OAAOY,EAAO,YAAY,CAC5B,EACA,SAASL,IAAU,CACjBoE,EAAc,KAAK,IAAI,CACzB,CACA3L,EAAK,SAASuH,GAASoE,CAAa,EACpCpE,GAAQ,UAAU,OAAS,SAAS2B,EAAKxE,EAAO0G,EAAM,CACpD,IAAI3F,EAAKyD,KAASA,EAAM,GACxB,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACA8B,GAAQ,UAAU,MAAQ,SAAStB,EAAK,CACtC,OAAOA,EAAI,QAAQ,CACrB,EACAsB,GAAQ,UAAU,MAAQ,SAAStB,EAAK,CACtCA,EAAI,QAAQ,CACd,EACAsB,GAAQ,UAAU,OAAS,SAAStB,EAAKiD,EAAK,CACxCA,KAASA,EAAM,IACjB2C,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,SAASiD,CAAG,CAClB,EACA3B,GAAQ,UAAU,OAAS,SAASuE,EAAMC,EAAM,CAC9C,OAAOD,EAAK,SAASC,CAAI,CAC3B,EACAxE,GAAQ,UAAU,SAAW,MAC7BA,GAAQ,UAAU,OAAS,UAAW,CACpC,OAAOK,EAAO,QAAQ,GAAG,EAAI,CAC/B,EACA,SAASJ,GAAW,CAClBmE,EAAc,KAAK,IAAI,CACzB,CACA3L,EAAK,SAASwH,EAAUmE,CAAa,EACrCnE,EAAS,UAAU,OAAS,SAAS0B,EAAKxE,EAAO0G,EAAM,CACrD,IAAI3F,EAAK,OAAOyD,GAAO,UAAYA,EAAM,IAAM,GAAK8C,GAAW9C,CAAG,EAClE,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACA+B,EAAS,UAAU,MAAQ,SAASvB,EAAK,CACvC,IAAIP,EAAIO,EAAI,SAAS,EACrB,GAAI,CAAC+F,GAAWtG,CAAC,EACf,MAAM,IAAI,MAAM,0BAA0B,EAE5C,OAAOA,CACT,EACA8B,EAAS,UAAU,MAAQ,SAASvB,EAAK,CACvCA,EAAI,SAAS,CACf,EACAuB,EAAS,UAAU,OAAS,SAASvB,EAAKiD,EAAK,EACzC,OAAOA,GAAO,UAAYA,EAAM,GAAK,CAAC8C,GAAW9C,CAAG,IACtD2C,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,UAAUiD,CAAG,CACnB,EACA1B,EAAS,UAAU,OAAS,SAASsE,EAAMC,EAAM,CAC/C,OAAOD,EAAK,UAAUC,CAAI,CAC5B,EACAvE,EAAS,UAAU,QAAU,SAASgD,EAAUtC,EAAM,CACpD,OAAQA,EAAK,SAAU,CACrB,IAAK,MACHsC,EAAS,MAAQtC,EAAK,MACtB,MACF,IAAK,gBACL,IAAK,OACHsC,EAAS,MAAQ,KAAK,KAC1B,CACF,EACAhD,EAAS,UAAU,SAAW,OAC9BA,EAAS,UAAU,OAAS,UAAW,CACrC,OAAOI,EAAO,QAAQ,CACxB,EACAJ,EAAS,OAAS,SAASyE,EAASC,EAAU,CAC5CD,EAAUA,GAAW,CAAC,EACtB,IAAIE,EAAU,CACZ,SAAU,YACV,WAAY,cACZ,SAAU,YACV,OAAQ,UACR,QAAS,WACT,QAAS,SACX,EACIjE,EAAO,IAAIkE,EAAiBF,CAAQ,EACxC,cAAO,KAAKC,CAAO,EAAE,QAAQ,SAASzJ,EAAM,CAC1C,GAAIuJ,EAAQvJ,CAAI,IAAM,OACpB,MAAM,IAAI,MAAMpC,EAAG,oCAAqCoC,CAAI,CAAC,EAE/DwF,EAAKiE,EAAQzJ,CAAI,CAAC,EAAIuJ,EAAQvJ,CAAI,CACpC,CAAC,EACM,OAAO,OAAOwF,CAAI,CAC3B,EACA,SAASZ,GAAY,CACnBqE,EAAc,KAAK,IAAI,CACzB,CACA3L,EAAK,SAASsH,EAAWqE,CAAa,EACtCrE,EAAU,UAAU,OAAS,SAAS4B,EAAKxE,EAAO0G,EAAM,CACtD,IAAI3F,EAAK,OAAOyD,GAAO,SACvB,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACA6B,EAAU,UAAU,MAAQ,SAASrB,EAAK,CACxC,OAAOA,EAAI,UAAU,CACvB,EACAqB,EAAU,UAAU,MAAQ,SAASrB,EAAK,CACxCA,EAAI,UAAU,CAChB,EACAqB,EAAU,UAAU,OAAS,SAASrB,EAAKiD,EAAK,CAC1C,OAAOA,GAAO,UAChB2C,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,WAAWiD,CAAG,CACpB,EACA5B,EAAU,UAAU,OAAS,SAASwE,EAAMC,EAAM,CAChD,OAAOD,EAAK,WAAWC,CAAI,CAC7B,EACAzE,EAAU,UAAU,QAAU,SAASkD,EAAUtC,EAAM,CACrD,OAAQA,EAAK,SAAU,CACrB,IAAK,QACL,IAAK,MACHsC,EAAS,MAAQtC,EAAK,MACtB,MACF,IAAK,gBACL,IAAK,OACHsC,EAAS,MAAQ,SAASvE,EAAK,CAC7B,OAAOA,EAAI,SAAS,CACtB,CACJ,CACF,EACAqB,EAAU,UAAU,SAAW,QAC/BA,EAAU,UAAU,OAAS,UAAW,CACtC,OAAOM,EAAO,UAAU,GAAG,CAC7B,EACA,SAASV,GAAa,CACpByE,EAAc,KAAK,IAAI,CACzB,CACA3L,EAAK,SAASkH,EAAYyE,CAAa,EACvCzE,EAAW,UAAU,OAAS,SAASgC,EAAKxE,EAAO0G,EAAM,CACvD,IAAI3F,EAAK,OAAOyD,GAAO,SACvB,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACAyB,EAAW,UAAU,MAAQ,SAASjB,EAAK,CACzC,OAAOA,EAAI,WAAW,CACxB,EACAiB,EAAW,UAAU,MAAQ,SAASjB,EAAK,CACzCA,EAAI,WAAW,CACjB,EACAiB,EAAW,UAAU,OAAS,SAASjB,EAAKiD,EAAK,CAC3C,OAAOA,GAAO,UAChB2C,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,YAAYiD,CAAG,CACrB,EACAhC,EAAW,UAAU,OAAS,SAAS4E,EAAMC,EAAM,CACjD,OAAOD,EAAK,YAAYC,CAAI,CAC9B,EACA7E,EAAW,UAAU,QAAU,SAASsD,EAAUtC,EAAM,CACtD,OAAQA,EAAK,SAAU,CACrB,IAAK,SACL,IAAK,QACL,IAAK,MACHsC,EAAS,MAAQtC,EAAK,MACtB,MACF,IAAK,gBACL,IAAK,OACHsC,EAAS,MAAQ,SAASvE,EAAK,CAC7B,OAAOA,EAAI,SAAS,CACtB,CACJ,CACF,EACAiB,EAAW,UAAU,SAAW,SAChCA,EAAW,UAAU,OAAS,UAAW,CACvC,OAAOU,EAAO,UAAU,CAC1B,EACA,SAASD,GAAa,CACpBgE,EAAc,KAAK,IAAI,CACzB,CACA3L,EAAK,SAAS2H,EAAYgE,CAAa,EACvChE,EAAW,UAAU,OAAS,SAASuB,EAAKxE,EAAO0G,EAAM,CACvD,IAAI3F,EAAK,OAAOyD,GAAO,SACvB,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACAkC,EAAW,UAAU,MAAQ,SAAS1B,EAAK,CACzC,OAAOA,EAAI,WAAW,CACxB,EACA0B,EAAW,UAAU,MAAQ,SAAS1B,EAAK,CACzCA,EAAI,WAAW,CACjB,EACA0B,EAAW,UAAU,OAAS,SAAS1B,EAAKiD,EAAK,CAC3C,OAAOA,GAAO,UAChB2C,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,YAAYiD,CAAG,CACrB,EACAvB,EAAW,UAAU,OAAS,SAASmE,EAAMC,EAAM,CACjD,OAAOD,EAAK,YAAYC,CAAI,CAC9B,EACApE,EAAW,UAAU,QAAU,SAAS6C,EAAUtC,EAAM,CACtD,OAAQA,EAAK,SAAU,CACrB,IAAK,QACL,IAAK,SACHsC,EAAS,MAAQ,KAAK,KAC1B,CACF,EACA7C,EAAW,UAAU,SAAW,SAChCA,EAAW,UAAU,OAAS,UAAW,CACvC,OAAOC,EAAO,WAAWA,EAAO,QAAQ,EAAE,CAAC,CAC7C,EACA,SAASX,GAAY,CACnB0E,EAAc,KAAK,IAAI,CACzB,CACA3L,EAAK,SAASiH,EAAW0E,CAAa,EACtC1E,EAAU,UAAU,OAAS,SAASiC,EAAKxE,EAAO0G,EAAM,CACtD,IAAI3F,EAAKvF,EAAQ,SAASgJ,CAAG,EAC7B,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACAwB,EAAU,UAAU,MAAQ,SAAShB,EAAK,CACxC,OAAOA,EAAI,UAAU,CACvB,EACAgB,EAAU,UAAU,MAAQ,SAAShB,EAAK,CACxCA,EAAI,UAAU,CAChB,EACAgB,EAAU,UAAU,OAAS,SAAShB,EAAKiD,EAAK,CACzChJ,EAAQ,SAASgJ,CAAG,GACvB2C,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,WAAWiD,CAAG,CACpB,EACAjC,EAAU,UAAU,OAAS,SAAS6E,EAAMC,EAAM,CAChD,OAAOD,EAAK,WAAWC,CAAI,CAC7B,EACA9E,EAAU,UAAU,QAAUU,EAAW,UAAU,QACnDV,EAAU,UAAU,MAAQ,SAAShF,EAAKf,EAAM,CAC9C,IAAIsE,EACJ,QAAStE,GAAQA,EAAK,QAAU,EAAG,CACjC,IAAK,GACH,YAAK,OAAOe,EAAK,OAAQ4J,EAAiB,EACnC5J,EAAI,SAAS,QAAQ,EAC9B,IAAK,GACH,GAAI,OAAOA,GAAO,SAChB,MAAM,IAAI,MAAM3B,EAAG,8BAA+B2B,CAAG,CAAC,EAExD,OAAAuD,EAAMmB,EAAM,WAAW1E,EAAK,QAAQ,EACpC,KAAK,OAAOuD,EAAK,OAAQqG,EAAiB,EACnCrG,EACT,IAAK,GACH,GAAI,CAAC6G,GAAapK,CAAG,EACnB,MAAM,IAAI,MAAM3B,EAAG,8BAA+B2B,CAAG,CAAC,EAExD,OAAAuD,EAAMmB,EAAM,WAAW1E,EAAI,IAAI,EAC/B,KAAK,OAAOuD,EAAK,OAAQqG,EAAiB,EACnCrG,EACT,QACE,YAAK,OAAOvD,EAAK,OAAQ4J,EAAiB,EACnClF,EAAM,WAAW1E,CAAG,CAC/B,CACF,EACAgF,EAAU,UAAU,QAAU/G,EAAQ,QACtC+G,EAAU,UAAU,SAAW,QAC/BA,EAAU,UAAU,OAAS,UAAW,CACtC,OAAOW,EAAO,WAAWA,EAAO,QAAQ,EAAE,CAAC,CAC7C,EACA,SAAS0E,GAAUrE,EAAQ/G,EAAM,CAE/B,GADA8G,EAAK,KAAK,IAAI,EACV,CAAC,MAAM,QAAQC,CAAM,EACvB,MAAM,IAAI,MAAM3H,EAAG,6BAA8B2H,CAAM,CAAC,EAE1D,GAAI,CAACA,EAAO,OACV,MAAM,IAAI,MAAM,aAAa,EAE/B,KAAK,MAAQ,OAAO,OAAOA,EAAO,IAAI,SAAShG,EAAK,CAClD,OAAO+F,EAAK,UAAU/F,EAAKf,CAAI,CACjC,CAAC,CAAC,EACF,KAAK,eAAiB,CAAC,EACvB,KAAK,MAAM,QAAQ,SAASgH,EAAMrG,EAAG,CACnC,GAAImG,EAAK,OAAOE,EAAM,OAAO,EAC3B,MAAM,IAAI,MAAM,kCAAkC,EAEpD,IAAIqE,EAASrE,EAAK,WAClB,GAAI,KAAK,eAAeqE,CAAM,IAAM,OAClC,MAAM,IAAI,MAAMjM,EAAG,kCAAmCiM,CAAM,CAAC,EAE/D,KAAK,eAAeA,CAAM,EAAI1K,CAChC,EAAG,IAAI,CACT,CACA7B,EAAK,SAASsM,GAAWtE,CAAI,EAC7BsE,GAAU,UAAU,mBAAqB,UAAW,CAClD,MAAM,IAAI,MAAM,mCAAmC,CACrD,EACAA,GAAU,UAAU,MAAQ,SAASrG,EAAK,CACxC,KAAK,MAAMA,EAAI,SAAS,CAAC,EAAE,MAAMA,CAAG,CACtC,EACAqG,GAAU,UAAU,OAAS,SAASR,EAAMC,EAAM,CAChD,IAAIhL,EAAK+K,EAAK,SAAS,EACnB9K,EAAK+K,EAAK,SAAS,EACvB,OAAIhL,IAAOC,EACF,KAAK,MAAMD,CAAE,EAAE,OAAO+K,EAAMC,CAAI,EAEhChL,EAAKC,EAAK,GAAK,CAE1B,EACAsL,GAAU,UAAU,OAAS,SAASrE,EAAQ/G,EAAM,CAClD,OAAO,KAAK,MAAM,IAAI,SAASiJ,EAAG,CAChC,OAAOA,EAAE,OAAOjJ,CAAI,CACtB,CAAC,CACH,EACAoL,GAAU,UAAU,SAAW,UAAW,CACxC,OAAO,KAAK,KACd,EACA,SAAS5D,EAAmBT,EAAQ/G,EAAM,CACxCoL,GAAU,KAAK,KAAMrE,EAAQ/G,CAAI,EACjC,KAAK,iBAAmB,KACxB,KAAK,eAAiB,CAAC,EACvB,KAAK,MAAM,QAAQ,SAASgH,EAAMyC,EAAO,CACvC,GAAI3C,EAAK,OAAOE,EAAM,WAAY,SAAS,EACpC,KAAK,mBACR,KAAK,iBAAmB,CAAC,GAE3B,KAAK,iBAAiB,KAAK,CAAE,MAAAyC,EAAO,KAAAzC,CAAK,CAAC,MACrC,CACL,IAAIyB,EAASC,GAAc1B,CAAI,EAC/B,GAAI,KAAK,eAAeyB,CAAM,IAAM,OAClC,MAAM,IAAI,MAAMrJ,EAAG,gCAAiC,IAAI,CAAC,EAE3D,KAAK,eAAeqJ,CAAM,EAAIgB,CAChC,CACF,EAAG,IAAI,EACP,OAAO,OAAO,IAAI,CACpB,CACA3K,EAAK,SAAS0I,EAAoB4D,EAAS,EAC3C5D,EAAmB,UAAU,UAAY,SAASQ,EAAK,CACrD,IAAIyB,EAAQ,KAAK,eAAe6B,GAAetD,CAAG,CAAC,EACnD,OAAI,KAAK,mBACPyB,EAAQ,KAAK,gBAAgBzB,EAAKyB,CAAK,GAElCA,CACT,EACAjC,EAAmB,UAAU,gBAAkB,SAAS2B,EAAKM,EAAO,CAClE,IAAI8B,EAAkB,KAAK,iBACvB5K,EAAGC,EAAGyK,EACV,IAAK1K,EAAI,EAAGC,EAAI2K,EAAgB,OAAQ5K,EAAIC,EAAGD,IAE7C,GADA0K,EAASE,EAAgB5K,CAAC,EACtB0K,EAAO,KAAK,OAAOlC,CAAG,EACxB,GAAIM,IAAU,OACZA,EAAQ4B,EAAO,UAEf,OAAM,IAAI,MAAM,sBAAsB,EAI5C,OAAO5B,CACT,EACAjC,EAAmB,UAAU,OAAS,SAASQ,EAAKxE,EAAO0G,EAAMC,EAAM,CACrE,IAAIV,EAAQ,KAAK,UAAUzB,CAAG,EAC1BzD,EAAKkF,IAAU,OACnB,OAAIlF,EACK,KAAK,MAAMkF,CAAK,EAAE,OAAOzB,EAAKxE,EAAO0G,EAAMC,CAAI,GAEpDD,GACFA,EAAKlC,EAAK,IAAI,EAETzD,EACT,EACAiD,EAAmB,UAAU,MAAQ,SAASzC,EAAK,CACjD,IAAI0E,EAAQ1E,EAAI,SAAS,EACrBuD,EAAa,KAAK,MAAMmB,CAAK,EACjC,GAAInB,EACF,OAAOA,EAAW,MAAMvD,CAAG,EAE3B,MAAM,IAAI,MAAM3F,EAAG,0BAA2BqK,CAAK,CAAC,CAExD,EACAjC,EAAmB,UAAU,OAAS,SAASzC,EAAKiD,EAAK,CACvD,IAAIyB,EAAQ,KAAK,UAAUzB,CAAG,EAC1ByB,IAAU,QACZkB,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,UAAU0E,CAAK,EACfzB,IAAQ,MACV,KAAK,MAAMyB,CAAK,EAAE,OAAO1E,EAAKiD,CAAG,CAErC,EACAR,EAAmB,UAAU,QAAU,SAAS8B,EAAUtC,EAAMhH,EAAM,CACpE,IAAIW,EAAGC,EAAG4K,EACV,IAAK7K,EAAI,EAAGC,EAAI,KAAK,MAAM,OAAQD,EAAIC,EAAGD,IAAK,CAC7C,GAAI,CACF6K,EAAe,KAAK,MAAM7K,CAAC,EAAE,eAAeqG,EAAMhH,CAAI,CACxD,MAAc,CACZ,QACF,CACAsJ,EAAS,MAAQ,SAASvE,EAAK,CAC7B,OAAOyG,EAAa,MAAMzG,CAAG,CAC/B,EACA,MACF,CACF,EACAyC,EAAmB,UAAU,MAAQ,SAASQ,EAAKhI,EAAM,CACvD,IAAIyL,EAASzL,GAAQA,EAAK,OAAS,EAC/B0L,EAAO1L,GAAQA,EAAK,KAAO,EAC3ByJ,EACJ,GAAIiC,IAAS,EACXjC,EAAQ,MACH,CACL,OAAQgC,EAAQ,CACd,IAAK,GACCN,GAAanD,CAAG,GAAK,KAAK,eAAe,SAAW,OACtDyB,EAAQ,KAAK,eAAe,OAE5BA,EAAQ,KAAK,UAAUzB,CAAG,EAE5B,MACF,IAAK,GACH,GAAIA,IAAQ,KACVyB,EAAQ,KAAK,eAAe,aACnB,OAAOzB,GAAQ,SAAU,CAClC,IAAI2D,EAAO,OAAO,KAAK3D,CAAG,EACtB2D,EAAK,SAAW,IAClBlC,EAAQ,KAAK,eAAekC,EAAK,CAAC,CAAC,EACnC3D,EAAMA,EAAI2D,EAAK,CAAC,CAAC,EAErB,CACA,MACF,QACElC,EAAQ,KAAK,UAAUzB,CAAG,CAC9B,CACIyB,IAAU,QACZkB,GAAkB3C,EAAK,IAAI,CAE/B,CACA,IAAIhB,EAAO,KAAK,MAAMyC,CAAK,EAC3B,GAAIzB,IAAQ,MAAQ0D,IAAS,EAC3B,OAAO1E,EAAK,MAAMgB,EAAKhI,CAAI,EAE3B,OAAQyL,EAAQ,CACd,IAAK,GACH,IAAI1K,EAAM,CAAC,EACX,OAAAA,EAAIiG,EAAK,UAAU,EAAIA,EAAK,MAAMgB,EAAKhI,CAAI,EACpCe,EACT,QACE,OAAOiG,EAAK,MAAMgB,EAAKhI,CAAI,CAC/B,CAEJ,EACAwH,EAAmB,UAAU,QAAU,SAASoE,EAAMC,EAAM,CAC1D,IAAIC,EAAS,KAAK,UAAUF,CAAI,EAC5BG,EAAS,KAAK,UAAUF,CAAI,EAChC,GAAIC,IAAW,OACbnB,GAAkBiB,EAAM,IAAI,UACnBG,IAAW,OACpBpB,GAAkBkB,EAAM,IAAI,MACvB,QAAIC,IAAWC,EACb,KAAK,MAAMD,CAAM,EAAE,QAAQF,EAAMC,CAAI,EAErCpG,EAAM,QAAQqG,EAAQC,CAAM,CAEvC,EACAvE,EAAmB,UAAU,SAAW,kBACxCA,EAAmB,UAAU,OAAS,UAAW,CAC/C,IAAIiC,EAAQ/C,EAAO,QAAQ,KAAK,MAAM,MAAM,EAC5C,OAAO,KAAK,MAAM+C,CAAK,EAAE,OAAO,CAClC,EACA,SAASlC,EAAiBR,EAAQ/G,EAAM,CACtCoL,GAAU,KAAK,KAAMrE,EAAQ/G,CAAI,EACjC,OAAO,OAAO,IAAI,CACpB,CACAlB,EAAK,SAASyI,EAAkB6D,EAAS,EACzC7D,EAAiB,UAAU,OAAS,SAASS,EAAKxE,EAAO0G,EAAMC,EAAM,CACnE,IAAI5F,EAAK,GACT,GAAIyD,IAAQ,KACVzD,EAAK,KAAK,eAAe,OAAY,eAC5B,OAAOyD,GAAO,SAAU,CACjC,IAAI2D,EAAO,OAAO,KAAK3D,CAAG,EAC1B,GAAI2D,EAAK,SAAW,EAAG,CACrB,IAAInK,EAAOmK,EAAK,CAAC,EACblC,EAAQ,KAAK,eAAejI,CAAI,EACpC,GAAIiI,IAAU,OACZ,OAAIS,GACFC,EAAK,KAAK3I,CAAI,EACd+C,EAAK,KAAK,MAAMkF,CAAK,EAAE,OAAOzB,EAAIxG,CAAI,EAAGgC,EAAO0G,EAAMC,CAAI,EAC1DA,EAAK,IAAI,EACF5F,GAEA,KAAK,MAAMkF,CAAK,EAAE,OAAOzB,EAAIxG,CAAI,EAAGgC,CAAK,CAGtD,CACF,CACA,MAAI,CAACe,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACAgD,EAAiB,UAAU,MAAQ,SAASxC,EAAK,CAC/C,IAAIiC,EAAO,KAAK,MAAMjC,EAAI,SAAS,CAAC,EACpC,GAAI,CAACiC,EACH,MAAM,IAAI,MAAM5H,EAAG,qBAAqB,CAAC,EAE3C,IAAIgL,EAASpD,EAAK,mBAClB,OAAIoD,IAAW,KACN,KAEA,IAAIA,EAAOpD,EAAK,MAAMjC,CAAG,CAAC,CAErC,EACAwC,EAAiB,UAAU,OAAS,SAASxC,EAAKiD,EAAK,CACrD,IAAIyB,EAAOkC,EAAMnK,EACbwG,IAAQ,MACVyB,EAAQ,KAAK,eAAe,KACxBA,IAAU,QACZkB,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,UAAU0E,CAAK,IAEnBkC,EAAO,OAAO,KAAK3D,CAAG,EAClB2D,EAAK,SAAW,IAClBnK,EAAOmK,EAAK,CAAC,EACblC,EAAQ,KAAK,eAAejI,CAAI,GAE9BiI,IAAU,QACZkB,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,UAAU0E,CAAK,EACnB,KAAK,MAAMA,CAAK,EAAE,OAAO1E,EAAKiD,EAAIxG,CAAI,CAAC,EAE3C,EACA+F,EAAiB,UAAU,QAAU,SAAS+B,EAAUtC,EAAMhH,EAAM,CAClE,IAAIW,EAAGC,EAAG4K,EAAcpB,EACxB,IAAKzJ,EAAI,EAAGC,EAAI,KAAK,MAAM,OAAQD,EAAIC,EAAGD,IAAK,CAC7C,GAAI,CACF6K,EAAe,KAAK,MAAM7K,CAAC,EAAE,eAAeqG,EAAMhH,CAAI,CACxD,MAAc,CACZ,QACF,CACAoK,EAAS,KAAK,MAAMzJ,CAAC,EAAE,mBACnByJ,EACFd,EAAS,MAAQ,SAASvE,EAAK,CAC7B,OAAO,IAAIqF,EAAOoB,EAAa,MAAMzG,CAAG,CAAC,CAC3C,EAEAuE,EAAS,MAAQ,UAAW,CAC1B,OAAO,IACT,EAEF,MACF,CACF,EACA/B,EAAiB,UAAU,MAAQ,SAASS,EAAKhI,EAAM,CACrD,IAAI0L,EAAO1L,GAAQA,EAAK,KAAO,EAC/B,GAAI0L,IAAS,EAAG,CACd,IAAIM,EAAY,KAAK,MAAM,CAAC,EAC5B,OAAIhE,IAAQ,MAAQgE,EAAU,WAAa,OAClC,KAEF,IAAIA,EAAU,mBAAmBA,EAAU,MAAMhE,EAAKhI,CAAI,CAAC,CACpE,CACA,GAAIgI,IAAQ,MAAQ,KAAK,eAAe,OAAY,OAClD,OAAO,KAET,IAAIrH,EAAGC,EAAGG,EACV,GAAI,OAAOiH,GAAO,SAAU,CAC1B,IAAI2D,EAAO,OAAO,KAAK3D,CAAG,EAC1B,GAAI2D,EAAK,SAAW,EAAG,CACrB,IAAInK,EAAOmK,EAAK,CAAC,EAEjB,GADAhL,EAAI,KAAK,eAAea,CAAI,EACxBb,IAAM,QAAUX,EAAK,aAAc,CACrC,IAAI8D,EAAIkD,EACR,IAAKlD,EAAK,EAAGlD,EAAI,KAAK,MAAM,OAAQkD,EAAKlD,EAAGkD,IAE1C,GADAkD,EAAO,KAAK,MAAMlD,CAAE,EAChBkD,EAAK,MAAQxF,IAASiE,EAAM,UAAUuB,EAAK,IAAI,EAAG,CACpDrG,EAAImD,EACJ,KACF,CAEJ,CACInD,IAAM,SACRI,EAAM,KAAK,MAAMJ,CAAC,EAAE,MAAMqH,EAAIxG,CAAI,EAAGxB,CAAI,EAE7C,CACF,CACA,GAAI0L,IAAS,GAAK3K,IAAQ,OAGxB,IAFAJ,EAAI,EACJC,EAAI,KAAK,MAAM,OACRD,EAAIC,GAAKG,IAAQ,QACtB,GAAI,CACFA,EAAM,KAAK,MAAMJ,CAAC,EAAE,MAAMqH,EAAKhI,CAAI,CACrC,MAAc,CACZW,GACF,CAGJ,GAAII,IAAQ,OACV,OAAO2K,IAAS,EAAI3K,EAAM,IAAI,KAAK,MAAMJ,CAAC,EAAE,mBAAmBI,CAAG,EAEpE4J,GAAkB3C,EAAK,IAAI,CAC7B,EACAT,EAAiB,UAAU,QAAU,SAASqE,EAAMC,EAAM,CACxD,IAAII,EAAQL,IAAS,KAAO,OAAS,OAAO,KAAKA,CAAI,EAAE,CAAC,EACpDM,EAAQL,IAAS,KAAO,OAAS,OAAO,KAAKA,CAAI,EAAE,CAAC,EACpDpC,EAAQ,KAAK,eAAewC,CAAK,EACrC,OAAIA,IAAUC,EACLD,IAAU,OAAS,EAAI,KAAK,MAAMxC,CAAK,EAAE,QAAQmC,EAAKK,CAAK,EAAGJ,EAAKI,CAAK,CAAC,EAEzExG,EAAM,QAAQgE,EAAO,KAAK,eAAeyC,CAAK,CAAC,CAE1D,EACA3E,EAAiB,UAAU,SAAW,gBACtCA,EAAiB,UAAU,OAAS,UAAW,CAC7C,IAAIkC,EAAQ/C,EAAO,QAAQ,KAAK,MAAM,MAAM,EACxCM,EAAO,KAAK,MAAMyC,CAAK,EACvBW,EAASpD,EAAK,mBAClB,OAAKoD,EAGE,IAAIA,EAAOpD,EAAK,OAAO,CAAC,EAFtB,IAGX,EACA,SAASf,EAASc,EAAQ/G,EAAM,CAE9B,GADA8G,EAAK,KAAK,KAAMC,EAAQ/G,CAAI,EACxB,CAAC,MAAM,QAAQ+G,EAAO,OAAO,GAAK,CAACA,EAAO,QAAQ,OACpD,MAAM,IAAI,MAAM3H,EAAG,2BAA4B2H,EAAO,OAAO,CAAC,EAchE,GAZA,KAAK,QAAU,OAAO,OAAOA,EAAO,QAAQ,MAAM,CAAC,EACnD,KAAK,SAAW,CAAC,EACjB,KAAK,QAAQ,QAAQ,SAASoF,EAAQxL,EAAG,CACvC,GAAI,CAAC8E,EAAM,YAAY0G,CAAM,EAC3B,MAAM,IAAI,MAAM/M,EAAG,wBAAyB,KAAM+M,CAAM,CAAC,EAE3D,GAAI,KAAK,SAASA,CAAM,IAAM,OAC5B,MAAM,IAAI,MAAM/M,EAAG,0BAA2B,KAAM+M,CAAM,CAAC,EAE7D,KAAK,SAASA,CAAM,EAAIxL,CAC1B,EAAG,IAAI,EACP,KAAK,QAAUoG,EAAO,QAClB,KAAK,UAAY,QAAU,KAAK,SAAS,KAAK,OAAO,IAAM,OAC7D,MAAM,IAAI,MAAM3H,EAAG,yBAA0B,KAAM,KAAK,OAAO,CAAC,EAElE,KAAK,mBAAqB,KAAK,yBAAyB,EACxD,OAAO,OAAO,IAAI,CACpB,CACAN,EAAK,SAASmH,EAAUa,CAAI,EAC5Bb,EAAS,UAAU,OAAS,SAAS+B,EAAKxE,EAAO0G,EAAM,CACrD,IAAI3F,EAAK,KAAK,SAASyD,CAAG,IAAM,OAChC,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACA0B,EAAS,UAAU,MAAQ,SAASlB,EAAK,CACvC,IAAI0E,EAAQ1E,EAAI,SAAS,EACrBoH,EAAS,KAAK,QAAQ1C,CAAK,EAC/B,GAAI0C,IAAW,OACb,MAAM,IAAI,MAAM/M,EAAG,4BAA6B,KAAK,KAAMqK,CAAK,CAAC,EAEnE,OAAO0C,CACT,EACAlG,EAAS,UAAU,MAAQ,SAASlB,EAAK,CACvCA,EAAI,SAAS,CACf,EACAkB,EAAS,UAAU,OAAS,SAASlB,EAAKiD,EAAK,CAC7C,IAAIyB,EAAQ,KAAK,SAASzB,CAAG,EACzByB,IAAU,QACZkB,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,UAAU0E,CAAK,CACrB,EACAxD,EAAS,UAAU,OAAS,SAAS2E,EAAMC,EAAM,CAC/C,OAAOD,EAAK,UAAUC,CAAI,CAC5B,EACA5E,EAAS,UAAU,QAAU,SAAS2F,EAAMC,EAAM,CAChD,OAAOpG,EAAM,QAAQ,KAAK,SAASmG,CAAI,EAAG,KAAK,SAASC,CAAI,CAAC,CAC/D,EACA5F,EAAS,UAAU,QAAU,SAASqD,EAAUtC,EAAMhH,EAAM,CAC1D,IAAIoM,EAAU,KAAK,QACfpF,EAAK,WAAa,QAAUqF,GAAkB,KAAMrF,EAAM,CAAChH,EAAK,gBAAgB,IAAMgH,EAAK,QAAQ,MAAM,SAASrH,EAAG,CACvH,MAAO,CAACyM,EAAQ,QAAQzM,CAAC,CAC3B,CAAC,GAAK,KAAK,UAAY,UACrB2J,EAAS,QAAUtC,EAAK,QAAQ,IAAI,SAASrH,EAAG,CAC9C,OAAO,KAAK,SAASA,CAAC,IAAM,OAAS,KAAK,QAAUA,CACtD,EAAG,IAAI,EACP2J,EAAS,MAAQtC,EAAK,MAE1B,EACAf,EAAS,UAAU,MAAQ,SAAS+B,EAAK,CACvC,YAAK,OAAOA,EAAK,OAAQ2C,EAAiB,EACnC3C,CACT,EACA/B,EAAS,UAAU,OAAS,SAASc,EAAQ,CAC3CA,EAAO,QAAU,KAAK,OACxB,EACAd,EAAS,UAAU,WAAa,UAAW,CACzC,OAAO,KAAK,OACd,EACAA,EAAS,UAAU,SAAW,OAC9BA,EAAS,UAAU,OAAS,UAAW,CACrC,OAAOS,EAAO,OAAO,KAAK,OAAO,CACnC,EACA,SAASP,EAAUY,EAAQ/G,EAAM,CAE/B,GADA8G,EAAK,KAAK,KAAMC,EAAQ/G,CAAI,EACxB+G,EAAO,QAAUA,EAAO,KAAO,IAAMA,EAAO,KAAO,EACrD,MAAM,IAAI,MAAM3H,EAAG,kBAAmB,KAAK,UAAU,CAAC,EAExD,KAAK,KAAO2H,EAAO,KAAO,EAC1B,KAAK,mBAAqB,KAAK,yBAAyB,EACxD,OAAO,OAAO,IAAI,CACpB,CACAjI,EAAK,SAASqH,EAAWW,CAAI,EAC7BX,EAAU,UAAU,OAAS,SAAS6B,EAAKxE,EAAO0G,EAAM,CACtD,IAAI3F,EAAKvF,EAAQ,SAASgJ,CAAG,GAAKA,EAAI,SAAW,KAAK,KACtD,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACA4B,EAAU,UAAU,MAAQ,SAASpB,EAAK,CACxC,OAAOA,EAAI,UAAU,KAAK,IAAI,CAChC,EACAoB,EAAU,UAAU,MAAQ,SAASpB,EAAK,CACxCA,EAAI,UAAU,KAAK,IAAI,CACzB,EACAoB,EAAU,UAAU,OAAS,SAASpB,EAAKiD,EAAK,EAC1C,CAAChJ,EAAQ,SAASgJ,CAAG,GAAKA,EAAI,SAAW,KAAK,OAChD2C,GAAkB3C,EAAK,IAAI,EAE7BjD,EAAI,WAAWiD,EAAK,KAAK,IAAI,CAC/B,EACA7B,EAAU,UAAU,OAAS,SAASyE,EAAMC,EAAM,CAChD,OAAOD,EAAK,WAAWC,EAAM,KAAK,IAAI,CACxC,EACA1E,EAAU,UAAU,QAAUnH,EAAQ,QACtCmH,EAAU,UAAU,QAAU,SAASmD,EAAUtC,EAAMhH,EAAM,CACvDgH,EAAK,WAAa,SAAW,KAAK,OAASA,EAAK,MAAQqF,GAAkB,KAAMrF,EAAM,CAAChH,EAAK,gBAAgB,IAC9GsJ,EAAS,KAAO,KAAK,KACrBA,EAAS,MAAQ,KAAK,MAE1B,EACAnD,EAAU,UAAU,MAAQJ,EAAU,UAAU,MAChDI,EAAU,UAAU,OAAS,SAASY,EAAQ,CAC5CA,EAAO,KAAO,KAAK,IACrB,EACAZ,EAAU,UAAU,QAAU,UAAW,CACvC,OAAO,KAAK,IACd,EACAA,EAAU,UAAU,SAAW,QAC/BA,EAAU,UAAU,OAAS,UAAW,CACtC,OAAOO,EAAO,WAAW,KAAK,IAAI,CACpC,EACA,SAASH,EAAQQ,EAAQ/G,EAAM,CAE7B,GADA8G,EAAK,KAAK,IAAI,EACV,CAACC,EAAO,OACV,MAAM,IAAI,MAAM3H,EAAG,yBAA0B2H,CAAM,CAAC,EAEtD,KAAK,WAAaD,EAAK,UAAUC,EAAO,OAAQ/G,CAAI,EACpD,KAAK,mBAAqB,KAAK,yBAAyB,EACxD,OAAO,OAAO,IAAI,CACpB,CACAlB,EAAK,SAASyH,EAASO,CAAI,EAC3BP,EAAQ,UAAU,OAAS,SAASyB,EAAKxE,EAAO0G,EAAMC,EAAM,CAC1D,GAAI,CAACnC,GAAO,OAAOA,GAAO,UAAY,MAAM,QAAQA,CAAG,EACrD,OAAIkC,GACFA,EAAKlC,EAAK,IAAI,EAET,GAET,IAAI2D,EAAO,OAAO,KAAK3D,CAAG,EACtBzD,EAAK,GACL5D,EAAGC,EAAGkD,EAAIhG,EACd,GAAIoM,EAAM,CAGR,IAFApG,EAAKqG,EAAK,OACVA,EAAK,KAAK,EAAE,EACPxJ,EAAI,EAAGC,EAAI+K,EAAK,OAAQhL,EAAIC,EAAGD,IAClC7C,EAAMqM,EAAKrG,CAAE,EAAI6H,EAAKhL,CAAC,EAClB,KAAK,WAAW,OAAOqH,EAAIlK,CAAG,EAAG0F,EAAO0G,EAAMC,CAAI,IACrD5F,EAAK,IAGT4F,EAAK,IAAI,CACX,KACE,KAAKxJ,EAAI,EAAGC,EAAI+K,EAAK,OAAQhL,EAAIC,EAAGD,IAClC,GAAI,CAAC,KAAK,WAAW,OAAOqH,EAAI2D,EAAKhL,CAAC,CAAC,EAAG6C,CAAK,EAC7C,MAAO,GAIb,OAAOe,CACT,EACAgC,EAAQ,UAAU,MAAQ,SAASxB,EAAK,CAItC,QAHIuH,EAAS,KAAK,WACdtE,EAAM,CAAC,EACPxD,EACGA,EAAI+H,GAAcxH,CAAG,GAC1B,KAAOP,KAAK,CACV,IAAI1G,EAAMiH,EAAI,WAAW,EACzBiD,EAAIlK,CAAG,EAAIwO,EAAO,MAAMvH,CAAG,CAC7B,CAEF,OAAOiD,CACT,EACAzB,EAAQ,UAAU,MAAQ,SAASxB,EAAK,CAGtC,QAFIuH,EAAS,KAAK,WACdvJ,EAAKyB,EACFA,EAAIO,EAAI,SAAS,GACtB,GAAIP,EAAI,EACNzB,EAAMgC,EAAI,SAAS,EACnBA,EAAI,KAAOhC,MAEX,MAAOyB,KACLO,EAAI,WAAW,EACfuH,EAAO,MAAMvH,CAAG,CAIxB,EACAwB,EAAQ,UAAU,OAAS,SAASxB,EAAKiD,EAAK,EACxC,CAACA,GAAO,OAAOA,GAAO,UAAY,MAAM,QAAQA,CAAG,IACrD2C,GAAkB3C,EAAK,IAAI,EAE7B,IAAIsE,EAAS,KAAK,WACdX,EAAO,OAAO,KAAK3D,CAAG,EACtB,EAAI2D,EAAK,OACThL,EAAG7C,EACP,GAAI,EAEF,IADAiH,EAAI,UAAU,CAAC,EACVpE,EAAI,EAAGA,EAAI,EAAGA,IACjB7C,EAAM6N,EAAKhL,CAAC,EACZoE,EAAI,YAAYjH,CAAG,EACnBwO,EAAO,OAAOvH,EAAKiD,EAAIlK,CAAG,CAAC,EAG/BiH,EAAI,UAAU,CAAC,CACjB,EACAwB,EAAQ,UAAU,OAAS,UAAW,CACpC,MAAM,IAAI,MAAM,yBAAyB,CAC3C,EACAA,EAAQ,UAAU,QAAU,SAASiG,EAAKxF,EAAMhH,EAAM,CAChDgH,EAAK,WAAa,QACpBwF,EAAI,WAAa,KAAK,WAAW,eAAexF,EAAK,WAAYhH,CAAI,EACrEwM,EAAI,MAAQ,KAAK,MAErB,EACAjG,EAAQ,UAAU,MAAQ,SAASyB,EAAKhI,EAAM,CAC5C,GAAIgI,GAAO,OAAOA,GAAO,UAAY,CAAC,MAAM,QAAQA,CAAG,EAAG,CACxD,IAAIsE,EAAS,KAAK,WACdX,EAAO,OAAO,KAAK3D,CAAG,EACtBrH,EAAGC,EAAG9C,EACN2O,EAAO,CAAC,EACZ,IAAK9L,EAAI,EAAGC,EAAI+K,EAAK,OAAQhL,EAAIC,EAAGD,IAClC7C,EAAM6N,EAAKhL,CAAC,EACZ8L,EAAK3O,CAAG,EAAIwO,EAAO,MAAMtE,EAAIlK,CAAG,EAAGkC,CAAI,EAEzC,OAAOyM,CACT,CACA9B,GAAkB3C,EAAK,IAAI,CAC7B,EACAzB,EAAQ,UAAU,QAAUA,EAAQ,UAAU,OAC9CA,EAAQ,UAAU,SAAW,MAC7BA,EAAQ,UAAU,cAAgB,UAAW,CAC3C,OAAO,KAAK,UACd,EACAA,EAAQ,UAAU,OAAS,UAAW,CACpC,IAAIyB,EAAM,CAAC,EACP,EAAGpH,EACP,IAAK,EAAI,EAAGA,EAAI8F,EAAO,QAAQ,EAAE,EAAG,EAAI9F,EAAG,IACzCoH,EAAItB,EAAO,WAAWA,EAAO,QAAQ,EAAE,CAAC,CAAC,EAAI,KAAK,WAAW,OAAO,EAEtE,OAAOsB,CACT,EACAzB,EAAQ,UAAU,OAAS,SAASQ,EAAQ/G,EAAM,CAChD+G,EAAO,OAAS,KAAK,WAAW,OAAO/G,CAAI,CAC7C,EACA,SAAS6F,EAAUkB,EAAQ/G,EAAM,CAE/B,GADA8G,EAAK,KAAK,IAAI,EACV,CAACC,EAAO,MACV,MAAM,IAAI,MAAM3H,EAAG,0BAA2B2H,CAAM,CAAC,EAEvD,KAAK,UAAYD,EAAK,UAAUC,EAAO,MAAO/G,CAAI,EAClD,KAAK,mBAAqB,KAAK,yBAAyB,EACxD,OAAO,OAAO,IAAI,CACpB,CACAlB,EAAK,SAAS+G,EAAWiB,CAAI,EAC7BjB,EAAU,UAAU,OAAS,SAASmC,EAAKxE,EAAO0G,EAAMC,EAAM,CAC5D,GAAI,CAAC,MAAM,QAAQnC,CAAG,EACpB,OAAIkC,GACFA,EAAKlC,EAAK,IAAI,EAET,GAET,IAAInE,EAAQ,KAAK,UACbU,EAAK,GACL5D,EAAGC,EAAGkD,EACV,GAAIoG,EAAM,CAGR,IAFApG,EAAKqG,EAAK,OACVA,EAAK,KAAK,EAAE,EACPxJ,EAAI,EAAGC,EAAIoH,EAAI,OAAQrH,EAAIC,EAAGD,IACjCwJ,EAAKrG,CAAE,EAAI,GAAKnD,EACXkD,EAAM,OAAOmE,EAAIrH,CAAC,EAAG6C,EAAO0G,EAAMC,CAAI,IACzC5F,EAAK,IAGT4F,EAAK,IAAI,CACX,KACE,KAAKxJ,EAAI,EAAGC,EAAIoH,EAAI,OAAQrH,EAAIC,EAAGD,IACjC,GAAI,CAACkD,EAAM,OAAOmE,EAAIrH,CAAC,EAAG6C,CAAK,EAC7B,MAAO,GAIb,OAAOe,CACT,EACAsB,EAAU,UAAU,MAAQ,SAASd,EAAK,CAIxC,QAHIlB,EAAQ,KAAK,UACblD,EAAI,EACJqH,EAAK,EACF,EAAIjD,EAAI,SAAS,GAMtB,IALI,EAAI,IACN,EAAI,CAAC,EACLA,EAAI,SAAS,GAEfiD,EAAMA,GAAO,IAAI,MAAM,CAAC,EACjB,KACLA,EAAIrH,GAAG,EAAIkD,EAAM,MAAMkB,CAAG,EAG9B,OAAOiD,GAAO,CAAC,CACjB,EACAnC,EAAU,UAAU,MAAQ,SAASd,EAAK,CAGxC,QAFIlB,EAAQ,KAAK,UACbd,EAAKyB,EACFA,EAAIO,EAAI,SAAS,GACtB,GAAIP,EAAI,EACNzB,EAAMgC,EAAI,SAAS,EACnBA,EAAI,KAAOhC,MAEX,MAAOyB,KACLX,EAAM,MAAMkB,CAAG,CAIvB,EACAc,EAAU,UAAU,OAAS,SAASd,EAAKiD,EAAK,CACzC,MAAM,QAAQA,CAAG,GACpB2C,GAAkB3C,EAAK,IAAI,EAE7B,IAAInE,EAAQ,KAAK,UACbW,EAAIwD,EAAI,OACRrH,EACJ,GAAI6D,EAEF,IADAO,EAAI,UAAUP,CAAC,EACV7D,EAAI,EAAGA,EAAI6D,EAAG7D,IACjBkD,EAAM,OAAOkB,EAAKiD,EAAIrH,CAAC,CAAC,EAG5BoE,EAAI,UAAU,CAAC,CACjB,EACAc,EAAU,UAAU,OAAS,SAAS+E,EAAMC,EAAM,CAIhD,QAHIhL,EAAK+K,EAAK,SAAS,EACnB9K,EAAK+K,EAAK,SAAS,EACnBlG,EACG9E,GAAMC,GAAI,CAEf,GADA6E,EAAK,KAAK,UAAU,OAAOiG,EAAMC,CAAI,EACjClG,EACF,OAAOA,EAEJ,EAAE9E,IACLA,EAAK0M,GAAc3B,CAAI,GAEpB,EAAE9K,IACLA,EAAKyM,GAAc1B,CAAI,EAE3B,CACA,OAAOpF,EAAM,QAAQ5F,EAAIC,CAAE,CAC7B,EACA+F,EAAU,UAAU,QAAU,SAASyD,EAAUtC,EAAMhH,EAAM,CACvDgH,EAAK,WAAa,UACpBsC,EAAS,UAAY,KAAK,UAAU,eAAetC,EAAK,UAAWhH,CAAI,EACvEsJ,EAAS,MAAQ,KAAK,MAE1B,EACAzD,EAAU,UAAU,MAAQ,SAASmC,EAAKhI,EAAM,CACzC,MAAM,QAAQgI,CAAG,GACpB2C,GAAkB3C,EAAK,IAAI,EAE7B,IAAInE,EAAQ,IAAI,MAAMmE,EAAI,MAAM,EAC5BrH,EAAGC,EACP,IAAKD,EAAI,EAAGC,EAAIoH,EAAI,OAAQrH,EAAIC,EAAGD,IACjCkD,EAAMlD,CAAC,EAAI,KAAK,UAAU,MAAMqH,EAAIrH,CAAC,EAAGX,CAAI,EAE9C,OAAO6D,CACT,EACAgC,EAAU,UAAU,OAAS,SAASkB,EAAQ/G,EAAM,CAClD+G,EAAO,MAAQ,KAAK,UAAU,OAAO/G,CAAI,CAC3C,EACA6F,EAAU,UAAU,QAAU,SAAS+F,EAAMC,EAAM,CACjD,IAAIhM,EAAK+L,EAAK,OACV9L,EAAK+L,EAAK,OACVlL,EAAGC,EAAG+D,EACV,IAAKhE,EAAI,EAAGC,EAAI,KAAK,IAAIf,EAAIC,CAAE,EAAGa,EAAIC,EAAGD,IACvC,GAAIgE,EAAK,KAAK,UAAU,QAAQiH,EAAKjL,CAAC,EAAGkL,EAAKlL,CAAC,CAAC,EAC9C,OAAOgE,EAGX,OAAOc,EAAM,QAAQ5F,EAAIC,CAAE,CAC7B,EACA+F,EAAU,UAAU,aAAe,UAAW,CAC5C,OAAO,KAAK,SACd,EACAA,EAAU,UAAU,SAAW,QAC/BA,EAAU,UAAU,OAAS,UAAW,CACtC,IAAIrF,EAAM,CAAC,EACP,EAAGI,EACP,IAAK,EAAI,EAAGA,EAAI8F,EAAO,QAAQ,EAAE,EAAG,EAAI9F,EAAG,IACzCJ,EAAI,KAAK,KAAK,UAAU,OAAO,CAAC,EAElC,OAAOA,CACT,EACA,SAAS0F,EAAWa,EAAQ/G,EAAM,CAChCA,EAAOA,GAAQ,CAAC,EAChB,IAAI4B,EAAY5B,EAAK,UACrB,GAAI+G,EAAO,YAAc,OACvB/G,EAAK,UAAY+G,EAAO,kBACfA,EAAO,KAAM,CACtB,IAAI2F,EAAKjH,EAAM,iBAAiBsB,EAAO,IAAI,EACvC2F,IAAO,SACT1M,EAAK,UAAY0M,EAErB,CAEA,GADA5F,EAAK,KAAK,KAAMC,EAAQ/G,CAAI,EACxB,CAAC,MAAM,QAAQ+G,EAAO,MAAM,EAC9B,MAAM,IAAI,MAAM3H,EAAG,8BAA+B2H,EAAO,MAAM,CAAC,EAElE,GAAItB,EAAM,cAAcsB,EAAO,OAAQ,SAASpC,EAAI,CAClD,OAAOA,EAAG,IACZ,CAAC,EACC,MAAM,IAAI,MAAMvF,EAAG,2BAA4B2H,EAAO,MAAM,CAAC,EAE/D,KAAK,cAAgB,CAAC,EACtB,KAAK,OAAS,OAAO,OAAOA,EAAO,OAAO,IAAI,SAASpC,EAAI,CACzD,IAAIgI,EAAQ,IAAIC,EAAMjI,EAAI3E,CAAI,EAC9B,YAAK,cAAc2M,EAAM,IAAI,EAAIA,EAC1BA,CACT,EAAG,IAAI,CAAC,EACR,KAAK,mBAAqB,KAAK,yBAAyB,EACxD,KAAK,SAAW5F,EAAO,OAAS,QAChC,KAAK,kBAAoB,KAAK,mBAC5B/G,EAAK,iBACLA,EAAK,iBACP,EACA,KAAK,MAAQ,KAAK,cAAc,EAChC,KAAK,MAAQ,KAAK,eAAe,EACjC,KAAK,OAAS,KAAK,cAAc,EACjC,KAAK,OAAS,KAAK,eAAe,EAClCA,EAAK,UAAY4B,EACjB,OAAO,OAAO,IAAI,CACpB,CACA9C,EAAK,SAASoH,EAAYY,CAAI,EAC9BZ,EAAW,UAAU,oBAAsB,UAAW,CACpD,OAAO,KAAK,KAAOT,EAAM,WAAWA,EAAM,UAAU,KAAK,IAAI,CAAC,EAAI,KAAK,SAAW,SAAW,SAC/F,EACAS,EAAW,UAAU,mBAAqB,SAAS2G,EAAYC,EAAc,CAC3E,IAAIC,EAAY,CAAC,EACbC,EAAY,CAAC,EACbC,EAAK,CAAC,EACNC,EAAY,GACZvM,EAAGC,EAAG+L,EAAOnL,EAAM2L,EAAcC,EAAYC,EACjD,IAAK1M,EAAI,EAAGC,EAAI,KAAK,OAAO,OAAQD,EAAIC,EAAGD,IACzCgM,EAAQ,KAAK,OAAOhM,CAAC,EACrBwM,EAAeR,EAAM,aACrBS,EAAaD,EAAa,IAAM,OAChC3L,EAAOmL,EAAM,KACTE,GAAc,KAAK,UAAYrL,IAAS,SAAWsF,EAAK,OAAO6F,EAAM,KAAM,QAAQ,GAAK,CAACS,IAC3FC,EAAaV,GAEfK,EAAU,KAAK,IAAMrM,CAAC,EACtBuM,GAAa,KACRE,GAGHF,GAAa,QAAUvM,EAAI,qBAC3BuM,GAAa,QAAU1L,EAAO,OAASyL,EAAG,OAAS,OACnDC,GAAa,iBAAmB1L,EAAO,OAASb,EAAI;AAAA,EACpDoM,EAAU,KAAK,IAAME,EAAG,MAAM,EAC9BA,EAAG,KAAKE,CAAY,GANpBD,GAAa,QAAU1L,EAAO,OAASb,EAAI;AAAA,EAS3C0M,IACFH,GAAa,qCACT,OAAO,MAAM,mBAAqB,WACpCA,GAAa,mDAEbA,GAAa,8BAEfA,GAAa;AAAA,GAEf,IAAII,EAAY,mBAAqB,KAAK,oBAAoB,EAAI,IAClEA,GAAaN,EAAU,KAAK,EAAI;AAAA,EAAUE,EAAY,KACtD,IAAIK,EAAS,IAAI,SAASR,EAAU,KAAK,EAAGO,CAAS,EAAE,MAAM,OAAQL,CAAE,EACvE,GAAIH,EACF,OAAOS,EAET,IAAIC,EAAO,KACX,OAAAD,EAAO,QAAU,UAAW,CAC1B,OAAOC,CACT,EACAD,EAAO,KAAOC,EACV,KAAK,WACP1O,EAAK,SAASyO,EAAQ,KAAK,EAC3BA,EAAO,UAAU,KAAO,KAAK,oBAAoB,GAEnDA,EAAO,UAAU,MAAQ,SAASE,EAAG,CACnC,OAAOD,EAAK,MAAM,KAAMC,CAAC,CAC3B,EACAF,EAAO,UAAU,QAAU,SAAS9M,EAAI,CACtC,OAAO+M,EAAK,QAAQ,KAAM/M,CAAE,CAC9B,EACA8M,EAAO,UAAU,QAAU,SAASE,EAAG,CACrC,OAAOD,EAAK,QAAQ,KAAMC,CAAC,CAC7B,EACAF,EAAO,UAAU,SAAW,UAAW,CACrC,OAAOC,EAAK,SAAS,IAAI,CAC3B,EACAD,EAAO,UAAU,SAAW,UAAW,CACrC,OAAOC,EAAK,SAAS,IAAI,CAC3B,EACAD,EAAO,UAAU,KAAO,UAAW,CACjC,OAAOC,EAAK,KAAK,IAAI,CACvB,EACAD,EAAO,UAAU,QAAUA,EAAO,UAAU,KACrCA,CACT,EACArH,EAAW,UAAU,eAAiB,UAAW,CAC/C,IAAI3E,EAAQ,CAAC,EACT+K,EAAS,CAAC,EACV9K,EAAO,KAAK,oBAAoB,EAChC+I,EAAO,wBAA0B/I,EAAO;AAAA,EAS5C,GARA+I,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACJ,CAAC,KAAK,OAAO,OACfA,GAAQ;AAAA,MACH,CACL,IAAK5J,EAAI,EAAGC,EAAI,KAAK,OAAO,OAAQD,EAAIC,EAAGD,IACzCgM,EAAQ,KAAK,OAAOhM,CAAC,EACrBY,EAAM,KAAK,IAAMZ,CAAC,EAClB2L,EAAO,KAAKK,EAAM,IAAI,EAClBA,EAAM,aAAa,IAAM,SAC3BpC,GAAQ,UAAY5J,EAAI,QAAUgM,EAAM,KAAO;AAAA,GAGnDpC,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACR,IAAI5J,EAAGC,EAAG+L,EACV,IAAKhM,EAAI,EAAGC,EAAI,KAAK,OAAO,OAAQD,EAAIC,EAAGD,IACzCgM,EAAQ,KAAK,OAAOhM,CAAC,EACrB4J,GAAQ,eAAiBoC,EAAM,KAAO;AAAA,EACtCpC,GAAQ,YACJoC,EAAM,aAAa,IAAM,OAC3BpC,GAAQ,IAAM5J,EAAI,aAAegM,EAAM,KAAO;AAAA,GAE9CpC,GAAQ,IAAM5J,EAAI,qBAClB4J,GAAQ,IAAM5J,EAAI,YAAcA,EAAI;AAAA,GAGxC4J,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA;AAAA,QACRA,GAAQ,KAAK,OAAO,IAAI,SAASmD,EAAQxJ,EAAI,CAC3C,OAAOwJ,EAAO,aAAa,IAAM,OAAS,IAAMxJ,EAAK,aAAewJ,EAAO,KAAO,OAAS,KAAOxJ,EAAK,sBAAwBA,EAAK,YAAcA,EAAK,OACzJ,CAAC,EAAE,KAAK;AAAA,OAAa,EACrBqG,GAAQ;AAAA;AAAA;AAAA,CACV,CACA,OAAAA,GAAQ,KACD,IAAI,SAAShJ,EAAM,KAAK,EAAGgJ,CAAI,EAAE,MAAM,OAAQ+B,CAAM,CAC9D,EACApG,EAAW,UAAU,cAAgB,UAAW,CAC9C,IAAI3E,EAAQ,CAAC,EACT+K,EAAS,CAAC,KAAK,iBAAiB,EAChC3L,EAAGC,EACP,IAAKD,EAAI,EAAGC,EAAI,KAAK,OAAO,OAAQD,EAAIC,EAAGD,IACzCY,EAAM,KAAK,IAAMZ,CAAC,EAClB2L,EAAO,KAAK,KAAK,OAAO3L,CAAC,EAAE,IAAI,EAEjC,IAAIa,EAAO,KAAK,oBAAoB,EAChC+I,EAAO,uBAAyB/I,EAAO;AAAA,EAC3C,OAAA+I,GAAQ,gBAAkB/I,EAAO;AAAA,MACjC+I,GAAQhJ,EAAM,IAAI,SAAS,EAAG,CAC5B,OAAO,EAAI,WACb,CAAC,EAAE,KAAK;AAAA,KAAS,EACjBgJ,GAAQ;AAAA;AAAA,IACRhJ,EAAM,QAAQC,CAAI,EACX,IAAI,SAASD,EAAM,KAAK,EAAGgJ,CAAI,EAAE,MAAM,OAAQ+B,CAAM,CAC9D,EACApG,EAAW,UAAU,eAAiB,UAAW,CAC/C,IAAIyH,EAAO,CAAC,EACRpD,EAAO,uBAAyB,KAAK,oBAAoB,EAAI;AAAA,EAC7D+B,EAAS,CAAC,EACV3L,EAAGC,EACP,IAAKD,EAAI,EAAGC,EAAI,KAAK,OAAO,OAAQD,EAAIC,EAAGD,IACzCgN,EAAK,KAAK,IAAMhN,CAAC,EACjB2L,EAAO,KAAK,KAAK,OAAO3L,CAAC,EAAE,IAAI,EAC/B4J,GAAQ,MAAQ5J,EAAI;AAAA,EAEtB,OAAA4J,GAAQ,IACD,IAAI,SAASoD,EAAK,KAAK,EAAGpD,CAAI,EAAE,MAAM,OAAQ+B,CAAM,CAC7D,EACApG,EAAW,UAAU,cAAgB,UAAW,CAC9C,IAAIyH,EAAO,CAAC,EACRnM,EAAO,KAAK,oBAAoB,EAChC+I,EAAO,wBAA0B/I,EAAO;AAAA,EACxC8K,EAAS,CAAC,EACV3L,EAAGC,EAAG+L,EAAOzM,EACjB,IAAKS,EAAI,EAAGC,EAAI,KAAK,OAAO,OAAQD,EAAIC,EAAGD,IACzCgM,EAAQ,KAAK,OAAOhM,CAAC,EACrBgN,EAAK,KAAK,IAAMhN,CAAC,EACjB2L,EAAO,KAAKK,EAAM,IAAI,EACtBpC,GAAQ,KACJoC,EAAM,aAAa,IAAM,OAC3BpC,GAAQ,IAAM5J,EAAI,gBAAkBgM,EAAM,KAAO;AAAA,GAEjDzM,EAAQyM,EAAM,KAAK,SAASA,EAAM,aAAa,CAAC,EAAE,SAAS,QAAQ,EACnEgB,EAAK,KAAK,IAAMhN,CAAC,EACjB2L,EAAO,KAAKpM,CAAK,EACjBqK,GAAQ,QAAU5J,EAAI,QAAUgM,EAAM,KAAO;AAAA,EAC7CpC,GAAQ,QAAU5J,EAAI;AAAA,EACtB4J,GAAQ,sBAAwB5J,EAAI,KAAOT,EAAM,OAAS;AAAA,EAC1DqK,GAAQ;AAAA,OAAsB5J,EAAI,eAAiBA,EAAI;AAAA;AAAA,GAG3D,OAAA4J,GAAQ,IACD,IAAI,SAASoD,EAAK,KAAK,EAAGpD,CAAI,EAAE,MAAM,OAAQ+B,CAAM,CAC7D,EACApG,EAAW,UAAU,QAAU,SAASoD,EAAUtC,EAAMhH,EAAM,CAC5D,GAAI,CAACqM,GAAkB,KAAMrF,EAAM,CAAChH,EAAK,gBAAgB,EACvD,MAAM,IAAI,MAAMZ,EAAG,wBAAyB4H,EAAK,IAAI,CAAC,EAExD,IAAI4G,EAAU,KAAK,OACfC,EAAU7G,EAAK,OACf8G,EAAarI,EAAM,MAAMoI,EAAS,SAASlJ,GAAI,CACjD,OAAOA,GAAG,IACZ,CAAC,EACGqI,EAAY,CAAC,EACbxD,EAAY,CAAC,EACb7I,EAAGmD,EAAI6I,EAAOnL,EAAMD,EAAOwM,EAASC,EACxC,IAAKrN,EAAI,EAAGA,EAAIiN,EAAQ,OAAQjN,IAAK,CAInC,IAHAgM,EAAQiB,EAAQjN,CAAC,EACjBY,EAAQ0M,GAAWtB,CAAK,EACxBoB,EAAU,CAAC,EACNjK,EAAK,EAAGA,EAAKvC,EAAM,OAAQuC,IAC9BtC,EAAOD,EAAMuC,CAAE,EACXgK,EAAWtM,CAAI,GACjBuM,EAAQ,KAAKvM,CAAI,EAGrB,GAAIuM,EAAQ,OAAS,EACnB,MAAM,IAAI,MACR3O,EAAG,oCAAqC4H,EAAK,KAAM2F,EAAM,KAAMoB,CAAO,CACxE,EAEF,GAAKA,EAAQ,OAQXvM,EAAOuM,EAAQ,CAAC,EAChBC,EAAgB,CACd,SAAUrB,EAAM,KAAK,eAAemB,EAAWtM,CAAI,EAAE,KAAMxB,CAAI,EAC/D,KAAM,IAAM2M,EAAM,IAEpB,EACKnD,EAAUhI,CAAI,EAGjBgI,EAAUhI,CAAI,EAAE,KAAKwM,CAAa,EAFlCxE,EAAUhI,CAAI,EAAI,CAACwM,CAAa,EAIlChB,EAAU,KAAKgB,EAAc,IAAI,MAnBd,CACnB,GAAIrB,EAAM,aAAa,IAAM,OAC3B,MAAM,IAAI,MACRvN,EAAG,2CAA4C4H,EAAK,KAAM2F,EAAM,IAAI,CACtE,EAEFK,EAAU,KAAK,WAAW,CAC5B,CAcF,CACA,IAAIkB,EAAY,GAEhB,IADAvN,EAAIkN,EAAQ,OACLlN,GAAK6I,EAAUqE,EAAQ,EAAElN,CAAC,EAAE,IAAI,IAAM,QAC3CuN,EAAYvN,EAEd,IAAIwN,EAAQ,KAAK,oBAAoB,EACjCR,GAAO,CAACQ,CAAK,EACb7B,GAAS,CAAC,KAAK,iBAAiB,EAChC/B,GAAO,yBAA2B4D,EAAQ;AAAA,EAC9C,IAAKxN,EAAI,EAAGA,EAAIkN,EAAQ,OAAQlN,IAM9B,GALIA,IAAMuN,IACR3D,IAAQ;AAAA,GAEVoC,EAAQ3F,EAAK,OAAOrG,CAAC,EACrBa,EAAOmL,EAAM,KACTnD,EAAUhI,CAAI,IAAM,OACtB+I,IAAQ,CAAC2D,GAAavN,GAAKuN,EAAY,OAAS,KAChDP,GAAK,KAAK,IAAMhN,CAAC,EACjB2L,GAAO,KAAKK,EAAM,IAAI,EACtBpC,IAAQ,IAAM5J,EAAI;AAAA,MAGlB,KADAmD,EAAK0F,EAAUhI,CAAI,EAAE,OACdsC,KACLyG,IAAQ,CAAC2D,GAAavN,GAAKuN,EAAY,OAAS,KAChDP,GAAK,KAAK,IAAMhN,EAAI,IAAMmD,CAAE,EAC5BkK,EAAgBxE,EAAUhI,CAAI,EAAEsC,CAAE,EAClCwI,GAAO,KAAK0B,EAAc,QAAQ,EAClCzD,IAAQ,OAASyD,EAAc,KAAO,MACtCzD,IAAQ,IAAM5J,EAAI,IAAMmD,EAAK,MAAQA,EAAK,OAAS,QAAU;AAAA,EAI/D,CAACoK,IACH3D,IAAQ;AAAA,GAEVA,IAAQ,gBAAkB4D,EAAQ,IAAMnB,EAAU,KAAK,EAAI;AAAA,IAC3D1D,EAAS,MAAQ,IAAI,SAASqE,GAAK,KAAK,EAAGpD,EAAI,EAAE,MAAM,OAAQ+B,EAAM,CACvE,EACApG,EAAW,UAAU,OAAS,SAAS0E,EAAMC,EAAM,CACjD,IAAIuD,EAAS,KAAK,OACdzN,EAAGC,EAAG+L,EAAO0B,EAAOrH,EACxB,IAAKrG,EAAI,EAAGC,EAAIwN,EAAO,OAAQzN,EAAIC,EAAGD,IAIpC,GAHAgM,EAAQyB,EAAOzN,CAAC,EAChB0N,EAAQ1B,EAAM,OACd3F,EAAO2F,EAAM,KACT0B,GAEF,GADAA,GAASrH,EAAK,OAAO4D,EAAMC,CAAI,EAC3BwD,EACF,OAAOA,OAGTrH,EAAK,MAAM4D,CAAI,EACf5D,EAAK,MAAM6D,CAAI,EAGnB,MAAO,EACT,EACA3E,EAAW,UAAU,aAAe,SAASnF,EAAK,CAChD,IAAI4K,EAAO,OAAO,KAAK5K,CAAG,EACtBJ,EAAGC,EACP,IAAKD,EAAI,EAAGC,EAAI+K,EAAK,OAAQhL,EAAIC,EAAGD,IAClC,GAAI,CAAC,KAAK,cAAcgL,EAAKhL,CAAC,CAAC,EAC7B,MAAO,GAGX,MAAO,EACT,EACAuF,EAAW,UAAU,MAAQ,SAAS8B,EAAKhI,EAAM,CAC/C,IAAIkK,EAAOlK,GAAQA,EAAK,UACpBsM,EAAS,CAAC,MAAM,EAChB3L,EAAGC,EAAG+L,EAAOzM,EACjB,IAAKS,EAAI,EAAGC,EAAI,KAAK,OAAO,OAAQD,EAAIC,EAAGD,IACzCgM,EAAQ,KAAK,OAAOhM,CAAC,EACrBT,EAAQ8H,EAAI2E,EAAM,IAAI,EAClBzM,IAAU,QAAUyM,EAAM,eAAe,cAAc,IACzDzM,EAAQyM,EAAM,aAAa,IAEzB3M,GAAQ,CAACA,EAAK,MAAQE,IAAU,UAClCA,EAAQyM,EAAM,KAAK,MAAMzM,EAAOF,CAAI,GAElCkK,IACFhK,EAAQgK,EAAKyC,EAAOzM,EAAO,IAAI,GAEjCoM,EAAO,KAAKpM,CAAK,EAEnB,IAAIqN,EAAS,KAAK,kBAClB,OAAO,IAAKA,EAAO,KAAK,MAAMA,EAAQjB,CAAM,EAC9C,EACApG,EAAW,UAAU,OAAS,SAASa,EAAQ/G,EAAM,CACnD+G,EAAO,OAAS,KAAK,OAAO,IAAI,SAAS4F,EAAO,CAC9C,IAAI2B,EAAY3B,EAAM,KAClB4B,EAAc,CAChB,KAAM5B,EAAM,KACZ,KAAM2B,EAAU,OAAOtO,CAAI,CAC7B,EACA,GAAIA,EAAK,YAAa,CACpB,IAAIgI,EAAM2E,EAAM,aAAa,EACzB3E,IAAQ,SACVuG,EAAY,QAAaD,EAAU,MAAMtG,EAAK,CAAE,OAAQ,EAAG,KAAM,CAAE,CAAC,GAEtE,IAAIwG,EAAa7B,EAAM,MACnB6B,IAAe,cACjBD,EAAY,MAAQC,GAEtB,IAAIC,EAAe9B,EAAM,QACrB8B,EAAa,SACfF,EAAY,QAAUE,GAExB,IAAIC,EAAW/B,EAAM,IACjB+B,IAAa,SACfH,EAAY,IAAMG,EAEtB,CACA,OAAOH,CACT,CAAC,CACH,EACArI,EAAW,UAAU,QAAU,SAAS0F,EAAMC,EAAM,CAClD,IAAIuC,EAAS,KAAK,OACdzN,EAAGC,EAAG+L,EAAOnL,EAAM6M,EAAOrH,EAC9B,IAAKrG,EAAI,EAAGC,EAAIwN,EAAO,OAAQzN,EAAIC,EAAGD,IAKpC,GAJAgM,EAAQyB,EAAOzN,CAAC,EAChBa,EAAOmL,EAAM,KACb0B,EAAQ1B,EAAM,OACd3F,EAAO2F,EAAM,KACT0B,IACFA,GAASrH,EAAK,QAAQ4E,EAAKpK,CAAI,EAAGqK,EAAKrK,CAAI,CAAC,EACxC6M,GACF,OAAOA,EAIb,MAAO,EACT,EACAnI,EAAW,UAAU,OAAS,UAAW,CACvC,IAAIkI,EAAS,KAAK,OAAO,IAAI,SAASzJ,EAAI,CACxC,OAAOA,EAAG,KAAK,OAAO,CACxB,CAAC,EACDyJ,EAAO,QAAQ,MAAM,EACrB,IAAIb,EAAS,KAAK,kBAClB,OAAO,IAAKA,EAAO,KAAK,MAAMA,EAAQa,CAAM,EAC9C,EACAlI,EAAW,UAAU,MAAQ,SAAS1E,EAAM,CAC1C,OAAO,KAAK,cAAcA,CAAI,CAChC,EACA0E,EAAW,UAAU,SAAWA,EAAW,UAAU,MACrDA,EAAW,UAAU,UAAY,UAAW,CAC1C,OAAO,KAAK,MACd,EACAA,EAAW,UAAU,qBAAuB,UAAW,CACrD,OAAO,KAAK,iBACd,EACA,OAAO,eAAeA,EAAW,UAAW,WAAY,CACtD,WAAY,GACZ,IAAK,UAAW,CACd,OAAO,KAAK,SAAW,QAAU,QACnC,CACF,CAAC,EACD,SAASyI,EAAY5H,EAAQ/G,EAAM,CACjC,KAAK,iBAAmB+G,EAAO,YAC/BD,EAAK,KAAK,IAAI,EACdF,GAAe,KACf,GAAI,CACF,KAAK,gBAAkBE,EAAK,UAAUC,EAAQ/G,CAAI,CACpD,QAAE,CACA4G,GAAe,KACf,IAAIhG,EAAIiG,EAAiB,OACrBjG,GAAKiG,EAAiBjG,EAAI,CAAC,EAAE,CAAC,IAAM,MACtCiG,EAAiB,IAAI,CAEzB,CACIC,EAAK,OAAO,KAAK,eAAgB,OAAO,EAC1C,KAAK,mBAAqB,KAAK,eAAe,mBAE9C,KAAK,mBAAqB,KAAK,eAAe,yBAAyB,CAE3E,CACAhI,EAAK,SAAS6P,EAAa7H,CAAI,EAC/B,OAAO,eAAe6H,EAAY,UAAW,WAAY,CACvD,WAAY,GACZ,IAAK,UAAW,CACd,MAAO,WAAa,KAAK,gBAC3B,CACF,CAAC,EACD,OAAO,eAAeA,EAAY,UAAW,iBAAkB,CAC7D,WAAY,GACZ,IAAK,UAAW,CACd,GAAI,KAAK,gBACP,OAAO,KAAK,gBAEd,IAAIhO,EAAGC,EAAGJ,EACV,IAAKG,EAAI,EAAGC,EAAIiG,EAAiB,OAAQlG,EAAIC,EAAGD,IAE9C,GADAH,EAAMqG,EAAiBlG,CAAC,EACpBH,EAAI,CAAC,IAAM,KACb,OAAOA,EAAI,CAAC,CAGlB,CACF,CAAC,EACDmO,EAAY,UAAU,kBAAoB,UAAW,CACnD,OAAO,KAAK,cACd,EACAA,EAAY,UAAU,MAAQ,SAAS5J,EAAK,CAC1C,OAAO,KAAK,WAAW,KAAK,eAAe,MAAMA,CAAG,CAAC,CACvD,EACA4J,EAAY,UAAU,OAAS,SAAS5J,EAAKoE,EAAK,CAChD,KAAK,eAAe,OAAOpE,EAAK,KAAK,SAASoE,CAAG,CAAC,CACpD,EACAwF,EAAY,UAAU,OAAS,SAASxF,EAAK3F,EAAO0G,EAAMC,EAAM,CAC9D,GAAI,CACF,IAAInC,EAAM,KAAK,SAASmB,CAAG,CAC7B,MAAc,CACd,CACA,OAAInB,IAAQ,QACNkC,GACFA,EAAKf,EAAK,IAAI,EAET,IAEF,KAAK,eAAe,OAAOnB,EAAKxE,EAAO0G,EAAMC,CAAI,CAC1D,EACAwE,EAAY,UAAU,MAAQ,SAASxF,EAAKnJ,EAAM,CAChD,IAAIgH,EAAO,KAAK,eAChB,OAAQhH,GAAQA,EAAK,OAAQ,CAC3B,IAAK,GACH,OAAOgH,EAAK,MAAM,KAAK,SAASmC,CAAG,EAAGnJ,CAAI,EAC5C,IAAK,GACH,OAAO,KAAK,WAAWgH,EAAK,MAAMmC,EAAKnJ,CAAI,CAAC,EAC9C,QACE,OAAO,KAAK,WAAWgH,EAAK,MAAM,KAAK,SAASmC,CAAG,EAAGnJ,CAAI,CAAC,CAC/D,CACF,EACA2O,EAAY,UAAU,QAAU,SAASrF,EAAUtC,EAAMhH,EAAM,CAC7D,IAAI4O,EAAa,KAAK,SAAS5H,EAAMhH,CAAI,EACrC4O,IACFtF,EAAS,MAAQ,SAASvE,EAAK,CAC7B,OAAO6J,EAAW5H,EAAK,MAAMjC,CAAG,CAAC,CACnC,EAEJ,EACA4J,EAAY,UAAU,QAAU,SAASE,EAAMC,EAAM,CACnD,IAAIlD,EAAO,KAAK,SAASiD,CAAI,EACzBhD,EAAO,KAAK,SAASiD,CAAI,EAC7B,OAAO,KAAK,eAAe,QAAQlD,EAAMC,CAAI,CAC/C,EACA8C,EAAY,UAAU,OAAS,UAAW,CACxC,OAAO,KAAK,WAAW,KAAK,eAAe,OAAO,CAAC,CACrD,EACAA,EAAY,UAAU,OAAS,SAAS5H,EAAQ/G,EAAM,CACpD,IAAIgH,EAAO,KAAK,eACZ+H,EAAY/H,EAAK,OAAS,QAAUhH,EAAK,QAAQgH,EAAK,IAAI,EAC9D,OAAAD,EAASC,EAAK,OAAOhH,CAAI,EACrB,CAAC+O,GAAa/O,EAAK,cACjB,OAAO+G,GAAU,WACnBA,EAAS,CAAE,KAAMA,CAAO,GAE1BA,EAAO,YAAc,KAAK,iBAC1B,KAAK,QAAQA,CAAM,GAEdA,CACT,EACA4H,EAAY,UAAU,MAAQ,SAAS5J,EAAK,CAC1C,KAAK,eAAe,MAAMA,CAAG,CAC/B,EACA4J,EAAY,UAAU,QAAU,UAAW,CAC3C,EACAA,EAAY,UAAU,WAAalJ,EAAM,iBACzCkJ,EAAY,UAAU,SAAWlJ,EAAM,iBACvCkJ,EAAY,UAAU,SAAWlJ,EAAM,iBACvC,SAASyF,EAAiBF,EAAU,CAClC,KAAK,kBAAoB,OACzBP,EAAc,KAAK,KAAM,EAAI,EAC7B,KAAK,UAAY,CAAC,CAACO,CACrB,CACAlM,EAAK,SAASoM,EAAkB5E,CAAQ,EACxC4E,EAAiB,UAAU,SAAW,gBACtCA,EAAiB,UAAU,OAAS,SAASlD,EAAKxE,EAAO0G,EAAM,CAC7D,IAAI3F,EAAK,KAAK,SAASyD,CAAG,EAC1B,MAAI,CAACzD,GAAM2F,GACTA,EAAKlC,EAAK,IAAI,EAETzD,CACT,EACA2G,EAAiB,UAAU,MAAQ,SAASnG,EAAK,CAC/C,IAAIT,EAAK5D,EAQT,GAPI,KAAK,WACPA,EAAMqE,EAAI,IACVA,EAAI,SAAS,EACbT,EAAMS,EAAI,IAAI,MAAMrE,EAAKqE,EAAI,GAAG,GAEhCT,EAAMS,EAAI,gBAAgBA,CAAG,EAE3BA,EAAI,QAAQ,EACd,OAAO,KAAK,YAAYT,CAAG,CAE/B,EACA4G,EAAiB,UAAU,OAAS,SAASnG,EAAKiD,EAAK,CAChD,KAAK,SAASA,CAAG,GACpB2C,GAAkB3C,EAAK,IAAI,EAE7B,IAAI1D,EAAM,KAAK,UAAU0D,CAAG,EACxB,KAAK,UACPjD,EAAI,WAAWT,CAAG,EAElBS,EAAI,cAAcT,CAAG,CAEzB,EACA4G,EAAiB,UAAU,MAAQ,SAASlD,EAAKhI,EAAM,CACrD,OAAQA,GAAQA,EAAK,OAAQ,CAC3B,IAAK,GACH,OAAO,KAAK,QAAQgI,CAAG,EACzB,IAAK,GACH,OAAO,KAAK,UAAUA,CAAG,EAC3B,QACE,OAAO,KAAK,UAAU,KAAK,QAAQA,CAAG,CAAC,CAC3C,CACF,EACAkD,EAAiB,UAAU,OAAS,UAAW,CAC7C,MAAO,MACT,EACAA,EAAiB,UAAU,QAAU,SAAS5B,EAAUtC,EAAM,CAC5D,IAAIwG,EAAO,KACX,OAAQxG,EAAK,SAAU,CACrB,IAAK,MACHsC,EAAS,MAAQ,SAASvE,EAAK,CAC7B,OAAOyI,EAAK,UAAUxG,EAAK,MAAMjC,CAAG,CAAC,CACvC,EACA,MACF,IAAK,gBACL,IAAK,OACHuE,EAAS,MAAQ,SAASvE,EAAK,CAC7B,OAAOyI,EAAK,MAAMzI,CAAG,CACvB,CACJ,CACF,EACAmG,EAAiB,UAAU,OAAS,UAAW,CAC7C,OAAO,KAAK,UAAU5E,EAAS,UAAU,OAAO,CAAC,CACnD,EACA4E,EAAiB,UAAU,YAAczF,EAAM,iBAC/CyF,EAAiB,UAAU,UAAYzF,EAAM,iBAC7CyF,EAAiB,UAAU,UAAYzF,EAAM,iBAC7CyF,EAAiB,UAAU,QAAUzF,EAAM,iBAC3CyF,EAAiB,UAAU,SAAWzF,EAAM,iBAC5CyF,EAAiB,UAAU,QAAUzF,EAAM,iBAC3C,SAASmH,EAAM7F,EAAQ/G,EAAM,CAC3B,IAAIwB,EAAOuF,EAAO,KAClB,GAAI,OAAOvF,GAAQ,UAAY,CAACiE,EAAM,YAAYjE,CAAI,EACpD,MAAM,IAAI,MAAMpC,EAAG,yBAA0BoC,CAAI,CAAC,EAEpD,KAAK,KAAOA,EACZ,KAAK,KAAOsF,EAAK,UAAUC,EAAO,KAAM/G,CAAI,EAC5C,KAAK,QAAU+G,EAAO,SAAW,CAAC,EAClC,KAAK,IAAMA,EAAO,MAAQ,OAAS,GAAKA,EAAO,IAAM,OACrD,KAAK,OAAS,SAASsH,EAAO,CAC5B,OAAQA,EAAO,CACb,IAAK,YACH,MAAO,GACT,IAAK,aACH,MAAO,GACT,IAAK,SACH,MAAO,GACT,QACE,MAAM,IAAI,MAAMjP,EAAG,oBAAqBiP,CAAK,CAAC,CAClD,CACF,EAAEtH,EAAO,QAAU,OAAS,YAAcA,EAAO,KAAK,EACtD,IAAI7G,EAAQ6G,EAAO,QACnB,GAAI7G,IAAU,OAAQ,CACpB,IAAI8G,EAAO,KAAK,KACZgB,EACJ,GAAI,CACFA,EAAMhB,EAAK,MAAM9G,EAAO,CAAE,OAAQ,EAAG,KAAM,CAAE,CAAC,CAChD,OAASwH,EAAK,CACZ,IAAIsH,EAAM5P,EAAG,qCAAsCc,EAAOwH,EAAI,OAAO,EACrE,MAAIZ,EAAK,OAAOE,EAAM,OAAO,IAC3BgI,GAAO5P,EACL,2DACA4H,EAAK,MAAM,CAAC,CACd,GAEI,IAAI,MAAMgI,CAAG,CACrB,CACI7H,GAAYH,EAAK,QAAQ,GAAKA,EAAK,WAAa,QAClD,KAAK,aAAe,UAAW,CAC7B,OAAOgB,CACT,EAEA,KAAK,aAAe,UAAW,CAC7B,OAAOhB,EAAK,MAAMgB,CAAG,CACvB,CAEJ,CACA,OAAO,OAAO,IAAI,CACpB,CACA4E,EAAM,UAAU,aAAe,UAAW,CAC1C,EACA,OAAO,eAAeA,EAAM,UAAW,QAAS,CAC9C,WAAY,GACZ,IAAK,UAAW,CACd,MAAO,CAAC,aAAc,SAAU,WAAW,EAAE,KAAK,OAAS,CAAC,CAC9D,CACF,CAAC,EACDA,EAAM,UAAU,WAAa,UAAW,CACtC,OAAO,KAAK,OACd,EACAA,EAAM,UAAU,WAAaA,EAAM,UAAU,aAC7CA,EAAM,UAAU,QAAU,UAAW,CACnC,OAAO,KAAK,IACd,EACAA,EAAM,UAAU,SAAW,UAAW,CACpC,OAAO,KAAK,KACd,EACAA,EAAM,UAAU,QAAU,UAAW,CACnC,OAAO,KAAK,IACd,EACA,SAASrD,EAAS0F,EAAY,CAC5B,KAAK,YAAcA,EACnB,KAAK,MAAQ,KACb,KAAK,UAAY,KACjB,KAAK,KAAO,EACZ,KAAK,QAAU,KACf,KAAK,WAAa,IACpB,CACA1F,EAAS,UAAU,MAAQzC,EAAK,UAAU,MAC1CyC,EAAS,UAAU,QAAU,UAAW,CACtC,MAAO,YACT,EACA,SAAStC,IAAO,CACd,KAAK,IAAM,MACb,CACA,SAAS0C,EAAU3C,EAAMjC,EAAKuE,EAAU4F,EAAM,CAC5C,GAAI5F,EAAU,CACZ,GAAIA,EAAS,cAAgBtC,EAC3B,MAAM,IAAI,MAAM,kBAAkB,EAEpC,OAAOsC,EAAS,MAAMvE,EAAKmK,CAAI,CACjC,KACE,QAAOlI,EAAK,MAAMjC,CAAG,CAEzB,CACA,SAASkJ,GAAWlN,EAAK,CACvB,IAAIQ,EAAQ,CAAC,EACTR,EAAI,OACNQ,EAAMR,EAAI,IAAI,EAAI,IAEpB,IAAIoO,EAAUpO,EAAI,QACdJ,EAAGC,EACP,IAAKD,EAAI,EAAGC,EAAIuO,EAAQ,OAAQxO,EAAIC,EAAGD,IACrCY,EAAM4N,EAAQxO,CAAC,CAAC,EAAI,GAEtB,OAAO,OAAO,KAAKY,CAAK,CAC1B,CACA,SAAS8K,GAAkB+C,EAAQC,EAAQC,EAAQ,CACjD,GAAI,CAACD,EAAO,KACV,MAAO,GAET,IAAI7N,EAAO8N,EAASD,EAAO,KAAO5J,EAAM,UAAU4J,EAAO,IAAI,EACzDF,EAAUlB,GAAWmB,CAAM,EAC3BzO,EAAGC,EAAG2O,EACV,IAAK5O,EAAI,EAAGC,EAAIuO,EAAQ,OAAQxO,EAAIC,EAAGD,IAKrC,GAJA4O,EAAQJ,EAAQxO,CAAC,EACZ2O,IACHC,EAAQ9J,EAAM,UAAU8J,CAAK,GAE3BA,IAAU/N,EACZ,MAAO,GAGX,MAAO,EACT,CACA,SAAS2F,GAAYW,EAAU,CAC7B,IAAId,EAAOpB,EAAMkC,CAAQ,EACzB,OAAOd,GAAQA,EAAK,qBAAqByD,CAC3C,CACA,SAAST,GAAalC,EAAU,CAC9B,GAAIA,IAAa,QACfA,EAAW,aACN,CACL,IAAI7F,EAAQ,iBAAiB,KAAK6F,CAAQ,EACtC7F,IACEA,EAAM,CAAC,IAAM,QACf6F,EAAW7F,EAAM,CAAC,EAAI,QAEtB6F,EAAW7F,EAAM,CAAC,EAGxB,CACA,OAAOwD,EAAM,WAAWqC,CAAQ,EAAI,MACtC,CACA,SAASyE,GAAcxH,EAAK,CAC1B,IAAIP,EAAIO,EAAI,SAAS,EACrB,OAAIP,EAAI,IACNA,EAAI,CAACA,EACLO,EAAI,SAAS,GAERP,CACT,CACA,SAASsG,GAAWtG,EAAG,CACrB,OAAOA,GAAK,mBAAqBA,GAAK,gBACxC,CACA,SAAS2G,GAAapK,EAAK,CACzB,OAAOA,GAAOA,EAAI,OAAS,UAAY,MAAM,QAAQA,EAAI,IAAI,CAC/D,CACA,SAAS4J,GAAkB3C,EAAKhB,EAAM,CACpC,MAAM,IAAI,MAAM5H,EAAG,iBAAkB4H,EAAK,OAAO,EAAGgB,CAAG,CAAC,CAC1D,CACA,SAASd,GAAa1F,EAAMkL,EAAI,CAC9B,IAAI8C,EAAc/J,EAAM,UAAUjE,CAAI,EACtC,OAAO2F,GAAYqI,CAAW,EAAIA,EAAc/J,EAAM,QAAQjE,EAAMkL,CAAE,CACxE,CACA,SAAShE,GAAc1B,EAAM,CAC3B,IAAIc,EAAWd,EAAK,SACpB,OAAQc,EAAU,CAChB,IAAK,SACL,IAAK,QACL,IAAK,MACL,IAAK,OACH,MAAO,SACT,IAAK,QACL,IAAK,QACH,MAAO,SACT,IAAK,OACH,MAAO,SACT,IAAK,MACL,IAAK,QACL,IAAK,SACH,MAAO,SACT,QACE,OAAOA,CACX,CACF,CACA,SAASwD,GAAetD,EAAK,CAC3B,GAAIA,IAAQ,KACV,MAAO,OAET,IAAIS,EAAS,OAAOT,EACpB,GAAIS,IAAW,SAAU,CACvB,GAAI,MAAM,QAAQT,CAAG,EACnB,MAAO,QACF,GAAIhJ,EAAQ,SAASgJ,CAAG,EAC7B,MAAO,QAEX,CACA,OAAOS,CACT,CACA,SAASZ,GAAYD,EAAO,CAC1B,IAAIgB,EAAU,CAAC,EACXjI,EAAGC,EAAG6H,EAAQzB,EAClB,IAAKrG,EAAI,EAAGC,EAAIgH,EAAM,OAAQjH,EAAIC,EAAGD,IAEnC,GADAqG,EAAOY,EAAMjH,CAAC,EACV,CAACmG,EAAK,OAAOE,EAAM,SAAS,EAAG,CAEjC,GADAyB,EAASC,GAAc1B,CAAI,EACvB4B,EAAQH,CAAM,EAChB,MAAO,GAETG,EAAQH,CAAM,EAAI,EACpB,CAEF,MAAO,EACT,CACA,SAASK,GAAelB,EAAO,CAC7B,IAAI6H,EAAY,CAAC,MAAO,OAAQ,QAAS,QAAQ,EAC7CC,EAAa,GACbC,EAAY,KACZhP,EAAGC,EAAGoG,EAAMyC,EAChB,IAAK9I,EAAI,EAAGC,EAAIgH,EAAM,OAAQjH,EAAIC,EAAGD,IACnCqG,EAAOY,EAAMjH,CAAC,EACd8I,EAAQgG,EAAU,QAAQzI,EAAK,QAAQ,EACnCyC,EAAQiG,IACVA,EAAajG,EACbkG,EAAY3I,GAGhB,OAAO2I,CACT,CACA,SAAS5G,GAAenB,EAAO5H,EAAM,CACnC,IAAIoM,EAAU,CAAC,EACXzL,EAAGC,EAAGoG,EAAM4I,EAChB,IAAKjP,EAAI,EAAGC,EAAIgH,EAAM,OAAQjH,EAAIC,EAAGD,IAAK,CAExC,GADAqG,EAAOY,EAAMjH,CAAC,EACVqG,EAAK,WAAa,SACpB,OAAOA,EAET4I,EAAc5I,EAAK,QACnB,IAAIlD,EAAIV,EACR,IAAKU,EAAK,EAAGV,EAAKwM,EAAY,OAAQ9L,EAAKV,EAAIU,IAC7CsI,EAAQwD,EAAY9L,CAAE,CAAC,EAAI,EAE/B,CACA,OAAOgD,EAAK,UAAU,CAAE,KAAM,OAAQ,QAAS,OAAO,KAAKsF,CAAO,CAAE,EAAGpM,CAAI,CAC7E,CACA,SAASgJ,GAAepB,EAAO5H,EAAM,CACnC,IAAIV,EAAO,GACPqB,EAAGC,EAAGoG,EACV,IAAKrG,EAAI,EAAGC,EAAIgH,EAAM,OAAQjH,EAAIC,EAAGD,IAAK,CAExC,GADAqG,EAAOY,EAAMjH,CAAC,EACVqG,EAAK,WAAa,QACpB,OAAOA,EAEL1H,IAAS,GACXA,EAAO0H,EAAK,KACHA,EAAK,OAAS1H,IACvBA,EAAO,GAEX,CACA,OAAOA,EAAO,EAAIwH,EAAK,UAAU,QAAS9G,CAAI,EAAI4H,EAAM,CAAC,CAC3D,CACA,SAASsB,GAAetB,EAAO5H,EAAM,CACnC,IAAI6P,EAAW,CAAC,EACZC,EAAa,CAAC,EACdC,EAAgB,CAAC,EACjBC,EAAgB,GAChBrP,EAAGC,EAAGoG,EAAMoH,EAChB,IAAKzN,EAAI,EAAGC,EAAIgH,EAAM,OAAQjH,EAAIC,EAAGD,IAEnC,GADAqG,EAAOY,EAAMjH,CAAC,EACVqG,EAAK,WAAa,MACpBgJ,EAAgB,GAChBH,EAAS,KAAK7I,EAAK,UAAU,MACxB,CACLoH,EAASpH,EAAK,OACd,IAAIlD,EAAIV,EAAIuJ,EAAOsD,EAAcC,EAAW5B,EAC5C,IAAKxK,EAAK,EAAGV,EAAKgL,EAAO,OAAQtK,EAAKV,EAAIU,IACxC6I,EAAQyB,EAAOtK,CAAE,EACjBoM,EAAYvD,EAAM,KAClB2B,EAAY3B,EAAM,KAClBkD,EAAS,KAAKvB,CAAS,EACnB0B,IACGF,EAAWI,CAAS,IACvBJ,EAAWI,CAAS,EAAI,CAAC,GAE3BJ,EAAWI,CAAS,EAAE,KAAK5B,CAAS,EACpC2B,EAAetD,EAAM,aAAa,EAC9BsD,IAAiB,SACnBF,EAAcG,CAAS,EAAID,GAInC,CAEF,GAAID,EAAe,CACjB,IAAI/H,EAAa,OAAO,KAAK6H,CAAU,EACvC,IAAKnP,EAAI,EAAGC,EAAIqH,EAAW,OAAQtH,EAAIC,EAAGD,IACxCuP,EAAYjI,EAAWtH,CAAC,EACpBmP,EAAWI,CAAS,EAAE,OAAStI,EAAM,QAAUmI,EAAcG,CAAS,IAAM,SAC1ElQ,GAAQA,EAAK,eACfgQ,EAAgB,IAEhBF,EAAWI,CAAS,EAAE,QAAQpJ,EAAK,UAAU,OAAQ9G,CAAI,CAAC,EAC1D+P,EAAcG,CAAS,EAAI,MAInC,CACA,IAAInJ,GACJ,OAAIiJ,EACFjJ,GAAS,CACP,KAAM,SACN,OAAQkB,EAAW,IAAI,SAAStI,GAAG,CACjC,IAAIwQ,GAAarJ,EAAK,SAASgJ,EAAWnQ,EAAC,EAAGK,CAAI,EAC9CoQ,GAAgBL,EAAcpQ,EAAC,EACnC,GAAIyQ,KAAkB,QAAU,CAACD,GAAW,SAAS,QAAQ,OAAO,EAAG,CACrE,IAAIE,GAAaF,GAAW,MAAM,MAAM,EACpCjM,GAAIgB,GACR,IAAKhB,GAAK,EAAGgB,GAAKmL,GAAW,OAAQnM,GAAKgB,IACpC,CAAAmL,GAAWnM,EAAE,EAAE,QAAQkM,EAAa,EADIlM,KAC5C,CAIF,GAAIA,GAAK,EAAG,CACV,IAAIqE,GAAY8H,GAAW,CAAC,EAC5BA,GAAW,CAAC,EAAIA,GAAWnM,EAAE,EAC7BmM,GAAWnM,EAAE,EAAIqE,GACjB4H,GAAarJ,EAAK,UAAUuJ,GAAYrQ,CAAI,CAC9C,CACF,CACA,MAAO,CACL,KAAML,GACN,KAAMwQ,GACN,QAAWJ,EAAcpQ,EAAC,CAC5B,CACF,CAAC,CACH,EAEAoH,GAAS,CACP,KAAM,MACN,OAAQD,EAAK,SAAS+I,EAAU7P,CAAI,CACtC,EAEK8G,EAAK,UAAUC,GAAQ/G,CAAI,CACpC,CACAvB,EAAO,QAAU,CACf,KAAAqI,EACA,cAAA4B,GACA,eAAA4C,GACA,YAAAnE,GACA,SAAU,UAAW,CACnB,IAAIS,EAAQ,CACV,YAAA+G,EACA,mBAAAnH,EACA,iBAAAD,CACF,EACIkI,EAAY,OAAO,KAAK7J,CAAK,EAC7BjF,EAAGC,EAAGkH,EACV,IAAKnH,EAAI,EAAGC,EAAI6O,EAAU,OAAQ9O,EAAIC,EAAGD,IACvCmH,EAAW2H,EAAU9O,CAAC,EACtBiH,EAAMoC,GAAalC,CAAQ,CAAC,EAAIlC,EAAMkC,CAAQ,EAEhD,OAAOF,CACT,EAAE,CACJ,CACF,CACF,CAAC,EAGG0I,GAAqBjT,GAAW,CAClC,sCAAsCmB,EAASC,EAAQ,CACrD,aACA,IAAImJ,EAAQpC,GAAc,EACtBC,EAAQlH,GAAc,EACtBG,EAASC,GACT4R,EAASC,GACT1R,EAAOC,GACP0R,EAAOC,GACP1R,EAAUN,EAAO,OACjBiS,EAAO,CAAE,UAAW,sBAAuB,EAC3CC,EAAYhJ,EAAM,KAAK,UAAU,OAAQ+I,CAAI,EAC7CE,EAAiBjJ,EAAM,KAAK,UAAU,CAAE,KAAM,MAAO,OAAQ,OAAQ,EAAG+I,CAAI,EAC5EG,EAAclJ,EAAM,KAAK,UAAU,CACrC,KAAM,SACN,KAAM,SACN,OAAQ,CACN,CAAE,KAAM,QAAS,KAAM,CAAE,KAAM,QAAS,KAAM,QAAS,KAAM,CAAE,CAAE,EACjE,CAAE,KAAM,OAAQ,KAAMiJ,CAAe,EACrC,CAAE,KAAM,OAAQ,KAAM,CAAE,KAAM,QAAS,KAAM,OAAQ,KAAM,EAAG,CAAE,CAClE,CACF,EAAGF,CAAI,EACHI,GAAanJ,EAAM,KAAK,UAAU,CACpC,KAAM,QACN,KAAM,SACN,OAAQ,CACN,CAAE,KAAM,QAAS,KAAM,MAAO,EAC9B,CAAE,KAAM,OAAQ,KAAM,OAAQ,EAC9B,CAAE,KAAM,OAAQ,KAAM,MAAO,CAC/B,CACF,EAAG+I,CAAI,EACHK,EAAcvL,EAAM,WAAW,MAAM,EACrCrG,EAAKN,EAAK,OACVuF,EAAMoB,EAAM,IAChB,SAASwL,EAAWlK,EAAQ/G,EAAM,CAChCA,EAAOA,GAAQ,CAAC,EAChB,IAAIkR,EAAW,CAAC,CAAClR,EAAK,SACtBuQ,EAAO,OAAO,KAAK,KAAM,CACvB,mBAAoB,CAACW,EACrB,cAAe,EACjB,CAAC,EACD,KAAK,MAAQtJ,EAAM,KAAK,UAAUb,CAAM,EACxC,KAAK,KAAO,IAAI1C,EAAIoB,EAAM,UAAU,CAAC,CAAC,EACtC,KAAK,SAAW,KAChB,KAAK,UAAY,GACjB,KAAK,WAAa0L,EAAaD,EAAU,KAAK,KAAK,EACnD,KAAK,UAAY,GACjB,KAAK,GAAG,SAAU,UAAW,CAC3B,KAAK,UAAY,GACjB,KAAK,MAAM,CACb,CAAC,CACH,CACApS,EAAK,SAASmS,EAAYV,EAAO,MAAM,EACvCU,EAAW,UAAU,OAAS,SAASG,EAAOC,EAAU/T,EAAI,CAC1D,KAAK,SAAWA,EAChB,IAAIyH,EAAM,KAAK,KACfA,EAAI,IAAM/F,EAAQ,OAAO,CAAC+F,EAAI,IAAI,MAAMA,EAAI,GAAG,EAAGqM,CAAK,CAAC,EACxDrM,EAAI,IAAM,EACN,KAAK,YACP,KAAK,UAAY,GACjB,KAAK,MAAM,EAEf,EACAkM,EAAW,UAAU,MAAQ,UAAW,CACtC,KAAK,UAAY,GACjB,IAAIlM,EAAM,KAAK,KACXrE,EAAMqE,EAAI,IACViD,EAAM,KAAK,WAAWjD,CAAG,EACzBA,EAAI,QAAQ,EACd,KAAK,KAAKiD,CAAG,EACH,KAAK,UAOf,KAAK,KAAK,IAAI,GANdjD,EAAI,IAAMrE,EACV,KAAK,UAAY,GACb,KAAK,UACP,KAAK,SAAS,EAKpB,EACA,SAAS4Q,EAAatR,EAAM,CAC1BA,EAAOA,GAAQ,CAAC,EAChB,IAAIkR,EAAW,CAAC,CAAClR,EAAK,SACtBuQ,EAAO,OAAO,KAAK,KAAM,CACvB,cAAe,GAEf,mBAAoB,CAACW,CACvB,CAAC,EACD,KAAK,OAASlR,EAAK,eAAiB,OAAS4H,EAAM,KAAK,UAAU5H,EAAK,YAAY,EAAI,OACvF,KAAK,OAAS,KACd,KAAK,QAAUA,EAAK,OACpB,KAAK,OAAS,OACd,KAAK,WAAaA,EAAK,UACvB,KAAK,KAAO,IAAIqE,EAAIoB,EAAM,UAAU,CAAC,CAAC,EACtC,KAAK,UAAY,IAAIpB,EAAIoB,EAAM,UAAU,CAAC,CAAC,EAC3C,KAAK,YAAc,KACnB,KAAK,WAAa,KAClB,KAAK,UAAYyL,EACjB,KAAK,OAAS,IAAIzL,EAAM,aACxB,KAAK,YAAc,KACnB,KAAK,OAAS,EACd,KAAK,WAAa,OAClB,KAAK,UAAY,GACjB,KAAK,UAAY,GACjB,KAAK,GAAG,SAAU,UAAW,CAC3B,KAAK,UAAY,GACb,KAAK,WACP,KAAK,MAAM,CAEf,CAAC,CACH,CACA3G,EAAK,SAASwS,EAAcf,EAAO,MAAM,EACzCe,EAAa,cAAgB,UAAW,CACtC,MAAO,CACL,KAAQ,SAAShN,EAAKhH,EAAI,CACxBA,EAAG,KAAMgH,CAAG,CACd,EACA,QAAWmM,EAAK,UAClB,CACF,EACAa,EAAa,iBAAmBA,EAAa,cAC7CA,EAAa,UAAU,cAAgB,UAAW,CAChD,IAAIvM,EAAM,KAAK,KACf,GAAIA,EAAI,IAAI,OAASiM,EAAY,OAC/B,MAAO,GAET,GAAI,CAACA,EAAY,OAAOjM,EAAI,IAAI,MAAM,EAAGiM,EAAY,MAAM,CAAC,EAC1D,YAAK,KAAK,QAAS,IAAI,MAAM,qBAAqB,CAAC,EAC5C,GAET,IAAIO,EAAST,EAAY,MAAM/L,CAAG,EAClC,GAAI,CAACA,EAAI,QAAQ,EACf,MAAO,GAET,KAAK,QAAUwM,EAAO,KAAK,YAAY,GAAK,QAAQ,SAAS,EAC7D,IAAIC,EAAS,KAAK,SAAWF,EAAa,iBAAiB,EAE3D,GADA,KAAK,YAAcE,EAAO,KAAK,MAAM,EACjC,CAAC,KAAK,YAAa,CACrB,KAAK,KAAK,QAAS,IAAI,MAAMpS,EAAG,oBAAqB,KAAK,MAAM,CAAC,CAAC,EAClE,MACF,CACA,GAAI,CACF,IAAI2H,EAAS,KAAK,MAAMwK,EAAO,KAAK,aAAa,EAAE,SAAS,CAAC,EACzD,KAAK,aACPxK,EAAS,KAAK,WAAWA,CAAM,GAEjC,KAAK,OAASa,EAAM,KAAK,UAAUb,CAAM,CAC3C,OAASW,EAAK,CACZ,KAAK,KAAK,QAASA,CAAG,EACtB,MACF,CACA,GAAI,CACF,KAAK,WAAayJ,EAAa,KAAK,UAAW,KAAK,OAAQ,KAAK,MAAM,CACzE,OAASzJ,EAAK,CACZ,KAAK,KAAK,QAASA,CAAG,EACtB,MACF,CACA,YAAK,YAAc6J,EAAO,KAC1B,KAAK,KAAK,WAAY,KAAK,OAAQ,KAAK,OAAQA,CAAM,EAC/C,EACT,EACAD,EAAa,UAAU,OAAS,SAASF,EAAOC,EAAU/T,EAAI,CAC5D,IAAIyH,EAAM,KAAK,KAGf,GAFAA,EAAI,IAAM/F,EAAQ,OAAO,CAAC+F,EAAI,IAAKqM,CAAK,CAAC,EACzCrM,EAAI,IAAM,EACN,CAAC,KAAK,cAAc,EAAG,CACzB,QAAQ,SAASzH,CAAE,EACnB,MACF,CACA,KAAK,OAAS,KAAK,YACnB,KAAK,OAAOmI,EAAM,UAAU,CAAC,EAAG4L,EAAU/T,CAAE,CAC9C,EACAgU,EAAa,UAAU,YAAc,SAASF,EAAOC,EAAU/T,EAAI,CACjE,IAAIyH,EAAM,KAAK,KACfA,EAAI,IAAM/F,EAAQ,OAAO,CAAC+F,EAAI,IAAI,MAAMA,EAAI,GAAG,EAAGqM,CAAK,CAAC,EACxDrM,EAAI,IAAM,EAGV,QAFI0M,EAAU,EACVC,EACGA,EAAQC,EAAa5M,CAAG,GAAG,CAChC,GAAI,CAAC,KAAK,YAAY,OAAO2M,EAAM,IAAI,EAAG,CACxC,KAAK,KAAK,QAAS,IAAI,MAAM,qBAAqB,CAAC,EACnD,MACF,CACAD,IACA,KAAK,YACHC,EAAM,KACN,KAAK,qBAAqBA,EAAM,KAAK,OAAQA,EAAM,MAAOE,CAAO,CACnE,CACF,CACAA,EAAQ,EACR,SAASA,GAAU,CACZ,EAAEH,GACLnU,EAAG,CAEP,CACF,EACAgU,EAAa,UAAU,qBAAuB,SAAShS,EAAMuS,EAAOvU,EAAI,CACtE,IAAIkQ,EAAO,KACP/D,EAAQ,KAAK,SACjB,OAAO,SAASqI,EAAOtS,EAAM,CAC3B,GAAIsS,EAAO,CACT,IAAIpK,EAAM,IAAI,MAAMtI,EAAG,+BAAgCoO,EAAK,MAAM,CAAC,EACnE9F,EAAI,MAAQoK,EACZtE,EAAK,KAAK,QAAS9F,CAAG,EACtBpK,EAAG,CACL,MACEkQ,EAAK,KAAK,QAAS,IAAIuE,EAAUF,EAAOrS,EAAK,OAAQF,CAAI,CAAC,EAC1DkO,EAAK,OAAO,KAAK,IAAIwE,EAAUvI,EAAOjK,EAAMlC,EAAIuU,CAAK,CAAC,EAClDrE,EAAK,WACPA,EAAK,MAAM,CAGjB,CACF,EACA8D,EAAa,UAAU,MAAQ,UAAW,CACxC,KAAK,UAAY,GACjB,IAAIvM,EAAM,KAAK,UACf,GAAI,CAAC,KAAK,WAAY,CACpB,IAAIvF,EAAO,KAAK,OAAO,IAAI,EAC3B,GAAI,CAACA,GAAQ,CAACA,EAAK,MAAO,CACpB,KAAK,UACP,KAAK,KAAK,IAAI,EAEd,KAAK,UAAY,GAEfA,GACFA,EAAK,GAAG,EAEV,MACF,CACAA,EAAK,GAAG,EACR,KAAK,WAAaA,EAAK,MACvBuF,EAAI,IAAMvF,EAAK,IACfuF,EAAI,IAAM,CACZ,CACA,KAAK,aACL,IAAIiD,EACJ,GAAI,CAEF,GADAA,EAAM,KAAK,WAAWjD,CAAG,EACrB,CAACA,EAAI,QAAQ,EACf,MAAM,IAAI,MAAM,iBAAiB,CAErC,OAAS2C,EAAK,CACZ,KAAK,WAAa,EAClB,KAAK,KAAK,QAASA,CAAG,EACtB,MACF,CACA,KAAK,KAAKM,CAAG,CACf,EACA,SAASiK,GAAWlL,EAAQ/G,EAAM,CAChCA,EAAOA,GAAQ,CAAC,EAChBuQ,EAAO,UAAU,KAAK,KAAM,CAC1B,mBAAoB,GACpB,cAAe,EACjB,CAAC,EACD,KAAK,MAAQ3I,EAAM,KAAK,UAAUb,CAAM,EACxC,KAAK,YAAc,SAAShC,EAAKiD,EAAK,CACpC,GAAI,CACF,KAAK,MAAM,OAAOjD,EAAKiD,CAAG,CAC5B,OAASN,EAAK,CACZ,KAAK,KAAK,YAAaA,EAAKM,EAAK,KAAK,KAAK,CAC7C,CACF,EACA,KAAK,KAAO,IAAI3D,EAAIoB,EAAM,UAAUzF,EAAK,WAAa,KAAK,CAAC,EAC5D,KAAK,GAAG,YAAa,SAAS0H,EAAK,CACjC,KAAK,KAAK,QAASA,CAAG,CACxB,CAAC,CACH,CACA5I,EAAK,SAASmT,GAAY1B,EAAO,SAAS,EAC1C0B,GAAW,UAAU,WAAa,SAASjK,EAAKqJ,EAAU/T,EAAI,CAC5D,IAAIyH,EAAM,KAAK,KACXT,EAAMS,EAAI,IACVrE,EAAMqE,EAAI,IAEd,GADA,KAAK,YAAYA,EAAKiD,CAAG,EACrB,CAACjD,EAAI,QAAQ,EAAG,CACdrE,GACF,KAAK,KAAKwR,GAAWnN,EAAI,IAAK,EAAGrE,CAAG,CAAC,EAEvC,IAAIqC,EAAMgC,EAAI,IAAMrE,EAChBqC,EAAMuB,EAAI,SACZS,EAAI,IAAMU,EAAM,UAAU,EAAI1C,CAAG,GAEnCgC,EAAI,IAAM,EACV,KAAK,YAAYA,EAAKiD,CAAG,CAC3B,CACA1K,EAAG,CACL,EACA2U,GAAW,UAAU,OAAS,SAAS3U,EAAI,CACzC,IAAIyH,EAAM,KAAK,KACXrE,EAAMqE,EAAI,IACVrE,GACF,KAAK,KAAKqE,EAAI,IAAI,MAAM,EAAGrE,CAAG,CAAC,EAEjCpD,EAAG,CACL,EACA,SAAS6U,EAAapL,EAAQ/G,EAAM,CAClCA,EAAOA,GAAQ,CAAC,EAChBuQ,EAAO,OAAO,KAAK,KAAM,CACvB,cAAe,GAEf,mBAAoB,EACtB,CAAC,EACD,IAAIvJ,EA8BJ,GA7BIY,EAAM,KAAK,OAAOb,CAAM,GAC1BC,EAAOD,EACPA,EAAS,QAETC,EAAOY,EAAM,KAAK,UAAUb,CAAM,EAEpC,KAAK,QAAUA,EACf,KAAK,MAAQC,EACb,KAAK,YAAc,SAASjC,EAAKiD,EAAK,CACpC,GAAI,CACF,KAAK,MAAM,OAAOjD,EAAKiD,CAAG,CAC5B,OAASN,EAAK,CACZ,YAAK,KAAK,YAAaA,EAAKM,EAAK,KAAK,KAAK,EACpC,EACT,CACA,MAAO,EACT,EACA,KAAK,WAAahI,EAAK,WAAa,MACpC,KAAK,KAAO,IAAIqE,EAAIoB,EAAM,UAAU,KAAK,UAAU,CAAC,EACpD,KAAK,QAAUzF,EAAK,OACpB,KAAK,OAASA,EAAK,OAAS,OAC5B,KAAK,YAAc,EACnB,KAAK,YAAcA,EAAK,YAAc,IAAIyF,EAAM,IAAI,EAAE,WAAW,EAAE,EACnE,KAAK,OAAS,IAAIA,EAAM,aACxB,KAAK,SAAW,EAChB,KAAK,UAAY,GACjB,KAAK,YAAc,GACnB,KAAK,UAAY,GACjB,KAAK,UAAYzF,EAAK,UAAY,CAAC,EAC/B,CAAC6Q,EAAe,QAAQ,KAAK,SAAS,EACxC,MAAM,IAAI,MAAM,kBAAkB,EAEpC,IAAIuB,EAAQ,KAAK,OAEjB,GADA,KAAK,WAAa,KAAK,SAAWD,EAAa,iBAAiB,GAAGC,CAAK,EACpE,CAAC,KAAK,UACR,MAAM,IAAI,MAAMhT,EAAG,wBAAyBgT,CAAK,CAAC,EAKpD,OAHIpS,EAAK,aAAe,SACtBA,EAAK,YAAcA,EAAK,WAAa,QAAU,QAEzCA,EAAK,YAAa,CACxB,IAAK,GACL,IAAK,QACH,MACF,KAAK,OACL,IAAK,OACH,KAAK,YAAc,GACnB,MACF,QACE,KAAK,aAAa,CACtB,CACA,KAAK,GAAG,SAAU,UAAW,CAC3B,KAAK,UAAY,GACb,KAAK,YACP,KAAK,YAAY,EACR,KAAK,WAAa,KAAK,WAChC,KAAK,KAAK,IAAI,CAElB,CAAC,EACD,KAAK,GAAG,YAAa,SAAS0H,EAAK,CACjC,KAAK,KAAK,QAASA,CAAG,CACxB,CAAC,CACH,CACA5I,EAAK,SAASqT,EAAc5B,EAAO,MAAM,EACzC4B,EAAa,cAAgB,UAAW,CACtC,MAAO,CACL,KAAQ,SAAS7N,EAAKhH,EAAI,CACxBA,EAAG,KAAMgH,CAAG,CACd,EACA,QAAWmM,EAAK,UAClB,CACF,EACA0B,EAAa,iBAAmBA,EAAa,cAC7CA,EAAa,UAAU,aAAe,UAAW,CAC/C,IAAIpL,EAAS,KAAK,UAChB,KAAK,QAAU,KAAK,QAAU,KAAK,MAAM,UAAU,CAAE,YAAa,EAAK,CAAC,CAC1E,EACIsL,EAAO5M,EAAM,kBACf,KAAK,UACL,CAAE,cAAeA,EAAM,WAAWsB,CAAM,EAAG,aAActB,EAAM,WAAW,KAAK,MAAM,CAAE,EACvF,EAEF,EACI6M,EAASxB,EAAY,qBAAqB,EAC1CS,EAAS,IAAIe,EAAOtB,EAAaqB,EAAM,KAAK,WAAW,EAC3D,KAAK,KAAKd,EAAO,SAAS,CAAC,CAC7B,EACAY,EAAa,UAAU,OAAS,SAASnK,EAAKqJ,EAAU/T,EAAI,CACtD,KAAK,cACP,KAAK,aAAa,EAClB,KAAK,YAAc,IAErB,IAAIyH,EAAM,KAAK,KACXrE,EAAMqE,EAAI,IACVwN,EAAW,GACf,GAAI,KAAK,YAAYxN,EAAKiD,CAAG,EAAG,CAC9B,GAAI,CAACjD,EAAI,QAAQ,EAAG,CACdrE,IACF,KAAK,YAAYA,EAAKpD,CAAE,EACxBiV,EAAW,IAEb,IAAIxP,EAAMgC,EAAI,IAAMrE,EAChBqC,EAAM,KAAK,aACb,KAAK,WAAaA,EAAM,GAE1BgC,EAAI,IAAMU,EAAM,UAAU,KAAK,UAAU,EACzCV,EAAI,IAAM,EACV,KAAK,YAAYA,EAAKiD,CAAG,CAC3B,CACA,KAAK,aACP,MACEjD,EAAI,IAAMrE,EAEP6R,GACHjV,EAAG,CAEP,EACA6U,EAAa,UAAU,YAAc,SAASzR,EAAKpD,EAAI,CACrD,IAAIyH,EAAM,KAAK,KACfrE,EAAMA,GAAOqE,EAAI,IACjB,KAAK,UAAUA,EAAI,IAAI,MAAM,EAAGrE,CAAG,EAAG,KAAK,qBAAqBA,EAAKpD,CAAE,CAAC,EACxE,KAAK,YAAc,CACrB,EACA6U,EAAa,UAAU,MAAQ,UAAW,CACxC,IAAI3E,EAAO,KACPhO,EAAO,KAAK,OAAO,IAAI,EAC3B,GAAI,CAACA,EAAM,CACL,KAAK,WAAa,CAAC,KAAK,SAC1B,QAAQ,SAAS,UAAW,CAC1BgO,EAAK,KAAK,IAAI,CAChB,CAAC,EAED,KAAK,UAAY,GAEnB,MACF,CACA,KAAK,KAAKoD,EAAU,SAASpR,EAAK,MAAO,EAAI,CAAC,EAC9C,KAAK,KAAKoR,EAAU,SAASpR,EAAK,IAAI,OAAQ,EAAI,CAAC,EACnD,KAAK,KAAKA,EAAK,GAAG,EAClB,KAAK,KAAK,KAAK,WAAW,EACrB,KAAK,WACRA,EAAK,GAAG,CAEZ,EACA2S,EAAa,UAAU,qBAAuB,SAAS7S,EAAMhC,EAAI,CAC/D,IAAIkQ,EAAO,KACP/D,EAAQ,KAAK,SACboI,EAAQ,KAAK,YACjB,YAAK,WACE,SAASC,EAAOtS,EAAM,CAC3B,GAAIsS,EAAO,CACT,IAAIpK,EAAM,IAAI,MAAMtI,EAAG,6BAA8BoO,EAAK,MAAM,CAAC,EACjE9F,EAAI,MAAQoK,EACZtE,EAAK,KAAK,QAAS9F,CAAG,EACtB,MACF,CACA8F,EAAK,WACLA,EAAK,KAAK,QAAS,IAAIuE,EAAUF,EAAOvS,EAAME,EAAK,MAAM,CAAC,EAC1DgO,EAAK,OAAO,KAAK,IAAIwE,EAAUvI,EAAOjK,EAAMlC,EAAIuU,CAAK,CAAC,EAClDrE,EAAK,YACPA,EAAK,UAAY,GACjBA,EAAK,MAAM,EAEf,CACF,EACA,SAASuE,EAAUF,EAAOW,EAAKC,EAAY,CACzC,KAAK,WAAaZ,EAClB,KAAK,cAAgBW,EACrB,KAAK,qBAAuBC,CAC9B,CACA,SAAST,EAAUvI,EAAOnF,EAAKhH,EAAIuU,EAAO,CACxC,KAAK,MAAQpI,EACb,KAAK,IAAMnF,EACX,KAAK,GAAKhH,EACV,KAAK,MAAQuU,EAAQ,CACvB,CACA,SAASF,EAAa5M,EAAK,CACzB,IAAIrE,EAAMqE,EAAI,IACV2M,EAAQX,GAAW,MAAMhM,CAAG,EAChC,OAAKA,EAAI,QAAQ,EAIV2M,GAHL3M,EAAI,IAAMrE,EACH,KAGX,CACA,SAASyQ,EAAaD,EAAUwB,EAAYzD,EAAY,CACtD,GAAIiC,EACF,OAAuB,SAASyB,EAAS,CACvC,OAAO,SAAS5N,EAAK,CACnB,IAAIrE,EAAMqE,EAAI,IACd,OAAA4N,EAAQ5N,CAAG,EACJA,EAAI,IAAI,MAAMrE,EAAKqE,EAAI,GAAG,CACnC,CACF,EAAE2N,EAAW,KAAK,EACb,GAAIzD,EAAY,CACrB,IAAI3F,EAAW2F,EAAW,eAAeyD,CAAU,EACnD,OAAO,SAAS3N,EAAK,CACnB,OAAOuE,EAAS,MAAMvE,CAAG,CAC3B,CACF,KACE,QAAO,SAASA,EAAK,CACnB,OAAO2N,EAAW,MAAM3N,CAAG,CAC7B,CAEJ,CACA,SAASmN,GAAW5N,EAAK5D,EAAKqC,EAAK,CACjC,IAAI0J,EAAOhH,EAAM,UAAU1C,CAAG,EAC9B,OAAAuB,EAAI,KAAKmI,EAAM,EAAG/L,EAAKA,EAAMqC,CAAG,EACzB0J,CACT,CACAhO,EAAO,QAAU,CACf,WAAAsS,GAEA,YAAAD,EAEA,YAAAE,EAEA,QAAS,CACP,aAAAM,EACA,aAAAa,EACA,WAAAlB,EACA,WAAAgB,EACF,CACF,CACF,CACF,CAAC,EAGGW,GAAmBvV,GAAW,CAChC,oCAAoCmB,EAASC,EAAQ,CACnD,aACA,IAAImJ,EAAQpC,GAAc,EACtBC,EAAQlH,GAAc,EACtBG,EAASC,GACTkU,EAASC,GACTvC,EAASC,GACT1R,EAAOC,GACPC,EAAUN,EAAO,OACjB2F,EAAMoB,EAAM,IACZqB,EAAOc,EAAM,KACbjC,EAAQ7G,EAAK,SAAS,eAAe,EACrCM,EAAKN,EAAK,OACV6R,GAAO,CAAE,UAAW,qBAAsB,EAC1CoC,EAAejM,EAAK,UAAU,UAAW6J,EAAI,EAC7CE,EAAiB/J,EAAK,UAAU,CAAE,KAAM,MAAO,OAAQ,OAAQ,EAAG6J,EAAI,EACtEqC,EAAclM,EAAK,UAAU,SAAU6J,EAAI,EAC3CsC,EAAyBnM,EAAK,UAAU,CAC1C,KAAM,mBACN,KAAM,SACN,OAAQ,CACN,CAAE,KAAM,aAAc,KAAM,CAAE,KAAM,MAAO,KAAM,QAAS,KAAM,EAAG,CAAE,EACrE,CAAE,KAAM,iBAAkB,KAAM,CAAC,OAAQ,QAAQ,EAAG,QAAW,IAAK,EACpE,CAAE,KAAM,aAAc,KAAM,KAAM,EAClC,CAAE,KAAM,OAAQ,KAAM,CAAC,OAAQ+J,CAAc,EAAG,QAAW,IAAK,CAClE,CACF,EAAGF,EAAI,EACHuC,EAA0BpM,EAAK,UAAU,CAC3C,KAAM,oBACN,KAAM,SACN,OAAQ,CACN,CACE,KAAM,QACN,KAAM,CACJ,KAAM,iBACN,KAAM,OACN,QAAS,CAAC,OAAQ,SAAU,MAAM,CACpC,CACF,EACA,CAAE,KAAM,iBAAkB,KAAM,CAAC,OAAQ,QAAQ,EAAG,QAAW,IAAK,EACpE,CAAE,KAAM,aAAc,KAAM,CAAC,OAAQ,KAAK,EAAG,QAAW,IAAK,EAC7D,CAAE,KAAM,OAAQ,KAAM,CAAC,OAAQ+J,CAAc,EAAG,QAAW,IAAK,CAClE,CACF,EAAGF,EAAI,EACHwC,GAAgB,GAChBC,EAAe,IAAIC,EACrB,GAEAvM,EAAK,UAAU,CAAE,KAAM,cAAe,KAAM,SAAU,OAAQ,CAAC,CAAE,EAAG6J,EAAI,EACxE7J,EAAK,UAAU,CAAC,QAAQ,EAAG6J,EAAI,EAC/B7J,EAAK,UAAU,OAAQ6J,EAAI,CAC7B,EACA,SAAS0C,EAAQ7R,EAAM8R,EAASC,EAASC,EAASC,EAAQC,EAAK,CAE7D,GADA,KAAK,KAAOlS,EACR,CAACsF,EAAK,OAAOwM,EAAS,QAAQ,EAChC,MAAM,IAAI,MAAM,sBAAsB,EAGxC,GADA,KAAK,YAAcA,EACf,CAACxM,EAAK,OAAOyM,EAAS,OAAO,GAAK,CAACzM,EAAK,OAAOyM,EAAQ,SAAS,EAAE,CAAC,EAAG,QAAQ,EAChF,MAAM,IAAI,MAAM,oBAAoB,EAGtC,GADA,KAAK,UAAYA,EACbE,IACE,CAAC3M,EAAK,OAAO0M,EAAS,MAAM,GAAKD,EAAQ,SAAS,EAAE,OAAS,GAC/D,MAAM,IAAI,MAAM,gCAAgC,EAGpD,KAAK,aAAeC,EACpB,KAAK,OAAS,CAAC,CAACC,EAChB,KAAK,IAAMC,IAAQ,OAAS,GAAKA,EAAM,OACvC,OAAO,OAAO,IAAI,CACpB,CACAL,EAAQ,UAAY,SAAS7R,EAAMuF,EAAQ/G,EAAM,CAE/C,GADAA,EAAOA,GAAQ,CAAC,EACZ,CAACyF,EAAM,YAAYjE,CAAI,EACzB,MAAM,IAAI,MAAMpC,EAAG,2BAA4BoC,CAAI,CAAC,EAEtD,GAAI,CAAC,MAAM,QAAQuF,EAAO,OAAO,EAC/B,MAAM,IAAI,MAAM3H,EAAG,8BAA+BoC,CAAI,CAAC,EAEzD,IAAImS,EAAavU,EAAG,eAAgBuR,GAAK,UAAWlL,EAAM,WAAWjE,CAAI,CAAC,EACtE8R,EAAUxM,EAAK,UAAU,CAC3B,KAAM6M,EACN,KAAM,SACN,UAAW3T,EAAK,WAAa,GAE7B,OAAQ+G,EAAO,OACjB,EAAG/G,CAAI,EAEP,GADA,OAAOA,EAAK,SAAS2T,CAAU,EAC3B,CAAC5M,EAAO,SACV,MAAM,IAAI,MAAM3H,EAAG,+BAAgCoC,CAAI,CAAC,EAE1D,IAAIgS,EAAU1M,EAAK,UAAUC,EAAO,SAAU/G,CAAI,EAClD,GAAI+G,EAAO,SAAW,QAAU,CAAC,MAAM,QAAQA,EAAO,MAAM,EAC1D,MAAM,IAAI,MAAM3H,EAAG,6BAA8BoC,CAAI,CAAC,EAExD,IAAI+R,EAAUzM,EAAK,UAAU,CAAC,QAAQ,EAAE,OAAOC,EAAO,QAAU,CAAC,CAAC,EAAG/G,CAAI,EACrEyT,EAAS,CAAC,CAAC1M,EAAO,SAAS,EAC/B,OAAO,IAAIsM,EAAQ7R,EAAM8R,EAASC,EAASC,EAASC,EAAQ1M,EAAO,GAAG,CACxE,EACAsM,EAAQ,UAAU,OAASvM,EAAK,UAAU,UAC1CuM,EAAQ,UAAU,OAAS,SAASrT,EAAM,CACxC,IAAI4T,EAAY,KAAK,YAAY,OAAO5T,CAAI,EACxC+G,EAAS,CACX,QAAS6M,EAAU,OACnB,SAAU,KAAK,aAAa,OAAO5T,CAAI,CACzC,EACI6T,EAAS,KAAK,IACdA,IAAW,SACb9M,EAAO,IAAM8M,GAEf,IAAIC,EAAY,KAAK,UAAU,OAAO9T,CAAI,EAC1C,OAAI8T,EAAU,OAAS,IACrB/M,EAAO,OAAS+M,EAAU,MAAM,CAAC,GAE/B,KAAK,SACP/M,EAAO,SAAS,EAAI,IAEfA,CACT,EACAtB,EAAM,qBACJ4N,EACA,CAAC,OAAQ,YAAa,cAAe,cAAc,CACrD,EACAA,EAAQ,UAAU,SAAWvU,EAAK,UAChC,UAAW,CACT,OAAO,KAAK,MACd,EACA,iDACF,EACA,SAASiV,EAAQvS,EAAMwS,EAAUC,EAAQC,EAAMC,EAAQ,CACrD,GAAI,OAAO3S,GAAQ,SACjB,OAAOuS,EAAQ,YAAYvS,EAAMwS,CAAQ,EAE3C,KAAK,KAAOxS,EACZ,KAAK,gBAAkBwS,GAAY,CAAC,EACpC,KAAK,SAAW,OAAO,OAAOvO,EAAM,aAAa,KAAK,eAAe,CAAC,EACtE,KAAK,aAAewO,GAAU,CAAC,EAC/B,KAAK,MAAQ,OAAO,OAAOxO,EAAM,aAAa,KAAK,YAAY,CAAC,EAChE,KAAK,SAAWyO,EAChB,KAAK,SAAWzO,EAAM,QAAQ,KAAK,UAAUyO,CAAI,CAAC,EAAE,SAAS,QAAQ,EACrE,KAAK,IAAMA,EAAK,IAAM,GAAKA,EAAK,IAAM,OACtC,KAAK,QAAUC,GAAU,KAAK,aAAa,CAAE,OAAQ,EAAK,CAAC,EAC3D,OAAO,OAAO,IAAI,CACpB,CACAJ,EAAQ,OAASK,EACjBL,EAAQ,OAASM,GACjBN,EAAQ,WAAa,SAASO,EAAWC,EAAW,CAClD,GAAI,CACFC,GAAcF,EAAWC,CAAS,CACpC,MAAc,CACZ,MAAO,EACT,CACA,MAAO,EACT,EACAR,EAAQ,YAAc,SAASG,EAAMlU,EAAM,CACzCA,EAAOA,GAAQ,CAAC,EAChB,IAAIwB,EAAO0S,EAAK,SAChB,GAAI,CAAC1S,EACH,MAAM,IAAI,MAAM,uBAAuB,EAEzC,GAAI0S,EAAK,YAAc,OACrBlU,EAAK,UAAYkU,EAAK,cACjB,CACL,IAAIjS,EAAQ,gBAAgB,KAAKT,CAAI,EACjCS,IACFjC,EAAK,UAAYiC,EAAM,CAAC,EAE5B,CACAT,EAAOiE,EAAM,QAAQjE,EAAMxB,EAAK,SAAS,EACrCkU,EAAK,OACPA,EAAK,MAAM,QAAQ,SAASnT,EAAK,CAC/B+F,EAAK,UAAU/F,EAAKf,CAAI,CAC1B,CAAC,EAEH,IAAIyU,EACJ,OAAIP,EAAK,WACPO,EAAO,CAAC,EACR,OAAO,KAAKP,EAAK,QAAQ,EAAE,QAAQ,SAASpW,EAAK,CAC/C2W,EAAK3W,CAAG,EAAIuV,EAAQ,UAAUvV,EAAKoW,EAAK,SAASpW,CAAG,EAAGkC,CAAI,CAC7D,CAAC,GAEI,IAAI+T,EAAQvS,EAAMiT,EAAMzU,EAAK,SAAUkU,CAAI,CACpD,EACAH,EAAQ,UAAY,SAAS5K,EAAK,CAChC,MAAO,CAAC,CAACA,GAAOA,EAAI,eAAe,UAAU,CAC/C,EACA4K,EAAQ,UAAU,aAAe,SAAS/T,EAAM,CAC9C,IAAI0U,EAAS,IAAIN,EAAO,KAAMpU,CAAI,EAClC,eAAQ,SAAS,UAAW,CAC1B,GAAIA,GAAQA,EAAK,OAAQ,CACvB,IAAIe,EAAM,CAAE,WAAY,EAAK,EACzB4T,EAAM,CAAC,IAAIpE,EAAO,YAAYxP,CAAG,EAAG,IAAIwP,EAAO,YAAYxP,CAAG,CAAC,EACnEf,EAAK,OAAO,cAAc,CAAE,SAAU2U,EAAI,CAAC,EAAG,SAAUA,EAAI,CAAC,CAAE,EAAG5T,CAAG,EACrE2T,EAAO,cAAc,CAAE,SAAUC,EAAI,CAAC,EAAG,SAAUA,EAAI,CAAC,CAAE,EAAG5T,CAAG,CAClE,MAAWf,GAAQA,EAAK,WACtB0U,EAAO,cAAc1U,EAAK,SAAS,CAEvC,CAAC,EACM0U,CACT,EACAX,EAAQ,UAAU,aAAe,SAAS/T,EAAM,CAC9C,OAAO,IAAIqU,GAAO,KAAMrU,CAAI,CAC9B,EACA,OAAO,eAAe+T,EAAQ,UAAW,OAAQ,CAC/C,WAAY,GACZ,IAAK,UAAW,CACd,OAAOtO,EAAM,WAAW,KAAK,SAAU,QAAQ,CACjD,CACF,CAAC,EACDsO,EAAQ,UAAU,QAAU,SAASvS,EAAM,CACzC,OAAO,KAAK,gBAAgBA,CAAI,CAClC,EACAuS,EAAQ,UAAU,KAAO,SAASvS,EAAM,CACtC,OAAO,KAAK,aAAaA,CAAI,CAC/B,EACAuS,EAAQ,UAAU,QAAU,UAAW,CACrC,OAAO3U,EAAG,eAAgB,KAAK,IAAI,CACrC,EACAqG,EAAM,qBACJsO,EACA,CAAC,UAAW,WAAY,OAAQ,OAAQ,OAAO,CACjD,EACAA,EAAQ,UAAU,cAAgBjV,EAAK,UACrC,SAAS8V,EAAW5U,EAAM,CACxBA,EAAOA,GAAQ,CAAC,EAChB,IAAI0U,EAAS,KAAK,aAAa,CAC7B,MAAO1U,EAAK,MACZ,UAAW,GACX,YAAaA,EAAK,aAClB,QAASA,EAAK,OAChB,CAAC,EACG6U,EAAUH,EAAO,cAAcE,EAAW5U,CAAI,EAClD,OAAA8U,GAAcJ,EAAQG,CAAO,EACtBA,CACT,EACA,qDACF,EACAd,EAAQ,UAAU,eAAiBjV,EAAK,UACtC,SAAS8V,EAAW5U,EAAM,CACxB,GAAIA,GAAQA,EAAK,aACf,MAAM,IAAI,MAAM,gDAAgD,EAElE,OAAO,KAAK,QAAQ,cAAc4U,EAAW5U,CAAI,CACnD,EACA,sEACF,EACA+T,EAAQ,UAAU,KAAOjV,EAAK,UAC5B,SAAS0C,EAAMuT,EAAKF,EAASvX,EAAI,CAC/B,GAAI,CAACuX,GAAW,CAAC,KAAK,OAAOA,EAAQ,OAAO,KAAK,EAC/C,MAAM,IAAI,MAAM,iBAAiB,EAEnC,IAAIH,EAASG,EAAQ,OACrB,OAAAT,EAAO,UAAU,YAAY,KAAKM,EAAQlT,EAAMuT,EAAKzX,GAAMA,EAAG,KAAK,IAAI,CAAC,EACjEuX,EAAQ,WAAW,CAC5B,EACA,6EACF,EACAd,EAAQ,UAAU,OAASjV,EAAK,UAC9B,SAASqK,EAAK,CACZ,OAAO4K,EAAQ,UAAU5K,CAAG,GAAK,KAAK,eAAe,EAAE,OAAOA,EAAI,eAAe,CAAC,CACpF,EACA,kEACF,EACA4K,EAAQ,UAAU,eAAiBjV,EAAK,UACtC,SAASuB,EAAW,CAClB,OAAOoF,EAAM,QAAQ,KAAK,UAAU,KAAK,QAAQ,EAAGpF,CAAS,CAC/D,EACA,4CACF,EACA0T,EAAQ,UAAU,UAAYjV,EAAK,UACjCgI,EAAK,UAAU,UACf,2CACF,EACAiN,EAAQ,UAAU,GAAKjV,EAAK,UAC1B,SAAS0C,EAAMwT,EAAS,CACtB,IAAIxH,EAAO,KACX,YAAK,QAAQ,UAAUhM,EAAM,SAASuT,EAAKzX,EAAI,CAC7C,OAAO0X,EAAQ,KAAKxH,EAAMuH,EAAK,KAAK,QAASzX,CAAE,CACjD,CAAC,EACM,IACT,EACA,sDACF,EACAyW,EAAQ,UAAU,YAAcjV,EAAK,UACnC,UAAW,CACT,IAAImW,EAAS,KAAK,QACdjV,EAAO,CAAE,YAAaiV,EAAO,QAAS,MAAOA,EAAO,MAAO,EAC3Dd,EAAS,IAAIE,GAAOY,EAAO,QAASjV,CAAI,EAC5C,OAAAmU,EAAO,UAAY,OAAO,OAAOc,EAAO,SAAS,EAC1C,IAAIlB,EACT,KAAK,KACL,KAAK,gBACL,KAAK,aACL,KAAK,SACLI,CACF,CACF,EACA,yCACF,EACAJ,EAAQ,UAAU,OAAS,SAAS/T,EAAM,CACxC,IAAIkU,EAAO,CAAE,SAAU,KAAK,IAAK,EAC7BD,EAAS,CAAC,EACd,KAAK,MAAM,QAAQ,SAAShL,EAAG,CAC7B,GAAIA,EAAE,QAAQ,IAAM,OAGpB,KAAIiM,EAAajM,EAAE,OAAOjJ,CAAI,EAC1B,OAAOkV,GAAc,UACvBjB,EAAO,KAAKiB,CAAU,EAE1B,CAAC,EACGjB,EAAO,SACTC,EAAK,MAAQD,GAEf,IAAIkB,EAAW,OAAO,KAAK,KAAK,eAAe,EAC/C,OAAIA,EAAS,SACXjB,EAAK,SAAW,CAAC,EACjBiB,EAAS,QAAQ,SAAS3T,EAAM,CAC9B0S,EAAK,SAAS1S,CAAI,EAAI,KAAK,gBAAgBA,CAAI,EAAE,OAAOxB,CAAI,CAC9D,EAAG,IAAI,GAELA,GAAQA,EAAK,aAAe,KAAK,MAAQ,SAC3CkU,EAAK,IAAM,KAAK,KAEXA,CACT,EACA,SAASkB,EAAiBR,EAAW5U,EAAM1C,EAAI,CACzCA,IAAO,QAAU,OAAO0C,GAAQ,aAClC1C,EAAK0C,EACLA,EAAO,QAET,IAAIqV,EAAM,IAAItB,EAAQ,CAAE,SAAU,OAAQ,EAAGpD,EAAI,EAC7C2E,EACJD,EAAI,aAAa,CAAE,QAASrV,GAAQA,EAAK,OAAQ,CAAC,EAAE,cAAc4U,EAAW,CAC3E,MAAO5U,GAAQA,EAAK,MACpB,YAAa,OAAO4U,GAAa,UAEnC,CAAC,EAAE,KAAK,YAAa,SAASW,EAAMC,EAAM,CACxCF,EAAUE,EAAK,eACf,KAAK,QAAQ,EAAI,CACnB,CAAC,EAAE,KAAK,MAAO,SAASC,EAAS/N,EAAK,CAChCA,GAAO,CAAC,cAAc,KAAKA,CAAG,EAChCpK,EAAGoK,CAAG,EAENpK,EAAG,KAAM,KAAK,MAAMgY,CAAO,CAAC,CAEhC,CAAC,CACH,CACA,SAASlB,EAAOiB,EAAKrV,EAAM,CACzBA,EAAOA,GAAQ,CAAC,EAChB6S,EAAO,aAAa,KAAK,IAAI,EAC7B,KAAK,MAAQwC,EACb,KAAK,WAAa,CAAC,EACnB,KAAK,MAAQ,CAAC,EACd,KAAK,YAAc,CAAC,CAACrV,EAAK,UAC1B,KAAK,QAAUA,EAAK,OAAS,CAAC,EAC9B,KAAK,SAAWA,EAAK,cACrB,KAAK,SAAW,CAAC,CAACA,EAAK,YACvB,KAAK,UAAYyF,EAAM,UAAUzF,EAAM,UAAW,GAAG,EACjDA,EAAK,iBACP0V,GAAsB,KAAK,QAAS1V,EAAK,gBAAiBqV,EAAK,EAAI,EAErE,KAAK,MAAM,SAAS,QAAQ,SAASrG,EAAK,CACxC,KAAKA,EAAI,IAAI,EAAI,KAAK,uBAAuBA,CAAG,CAClD,EAAG,IAAI,CACT,CACAlQ,EAAK,SAASsV,EAAQvB,EAAO,YAAY,EACzCuB,EAAO,UAAU,eAAiB,UAAW,CAC3C,OAAO,KAAK,WAAW,MAAM,CAC/B,EACAA,EAAO,UAAU,cAAgB,SAASQ,EAAW5U,EAAM,CACzD,IAAI2V,EAAa3V,GAAQA,EAAK,WAC1B6U,EACJ,GAAI,OAAOD,GAAa,WAAY,CAClC,IAAIgB,EACAD,EACFC,EAAkBhB,EAElBgB,EAAkB,SAAStY,EAAI,CAC7B,IAAIuY,EAAW,IAAIC,EACfC,EAAYnB,EAAU,SAASlN,EAAKsO,EAAW,CACjD,GAAItO,EAAK,CACPpK,EAAGoK,CAAG,EACN,MACF,CACA,IAAIuO,GAAW,IAAIC,GAAa,EAAE,KAAK,QAAS,SAASC,GAAM,CAC7DtB,EAAQ,QAAQsB,EAAI,CACtB,CAAC,EACD7Y,EAAG,KAAM0Y,EAAU,KAAKC,EAAQ,CAAC,CACnC,CAAC,EACD,GAAIF,EACF,OAAAF,EAAS,KAAKE,CAAS,EAChBF,CAEX,EAEFhB,EAAU,IAAIuB,EAAuB,KAAMR,EAAiB5V,CAAI,CAClE,KAAO,CACL,IAAIqW,EAAUC,EAOd,GANIC,GAAS3B,CAAS,EACpByB,EAAWC,EAAW1B,GAEtByB,EAAWzB,EAAU,SACrB0B,EAAW1B,EAAU,UAEnB,CAACe,EAAY,CACf,IAAIa,EAAU,IAAIC,GAClBJ,EAAWA,EAAS,KAAKG,CAAO,EAChC,IAAIE,EAAU,IAAIC,GAClBD,EAAQ,KAAKJ,CAAQ,EACrBA,EAAWI,CACb,CACA7B,EAAU,IAAI+B,EAAsB,KAAMP,EAAUC,EAAUtW,CAAI,EAC7D2V,IACHd,EAAQ,KAAK,MAAO,UAAW,CAC7BwB,EAAS,OAAOG,CAAO,EACvBE,EAAQ,OAAOJ,CAAQ,CACzB,CAAC,EACDE,EAAQ,KAAK,QAAS,SAAS9O,EAAK,CAClCmN,EAAQ,QAAQnN,CAAG,CACrB,CAAC,EAEL,CACA,IAAImP,EAAW,KAAK,WACpB,OAAAA,EAAS,KAAKhC,CAAO,EACrBA,EAAQ,KAAK,SAAU,UAAW,CAChCgC,EAAS,OAAOA,EAAS,QAAQ,IAAI,EAAG,CAAC,CAC3C,CAAC,EACD,KAAK,YAAc,GACnB,KAAK,KAAK,UAAWhC,CAAO,EACrBA,CACT,EACAT,EAAO,UAAU,gBAAkB,SAASpU,EAAM,CAChD,KAAK,WAAW,QAAQ,SAAS6U,EAAS,CACxCA,EAAQ,QAAQ7U,GAAQA,EAAK,MAAM,CACrC,CAAC,CACH,EACAoU,EAAO,UAAU,YAAc,SAAS5S,EAAMuT,EAAK/U,EAAM1C,EAAI,CAC3D,IAAI0R,EAAM8H,EAAmB,KAAK,MAAOtV,CAAI,EACzCuV,EAAO,IAAIC,EAAehI,EAAK,CAAC,EAAG+F,CAAG,EAC1C,KAAK,cAAcgC,EAAM/W,EAAM1C,CAAE,CACnC,EACA8W,EAAO,UAAU,gBAAkB,UAAW,CAC5C,OAAO6C,GAAmB,KAAK,QAAS,EAAI,CAC9C,EACA,OAAO,eAAe7C,EAAO,UAAW,UAAW,CACjD,WAAY,GACZ,IAAK,UAAW,CACd,OAAO,KAAK,KACd,CACF,CAAC,EACDA,EAAO,UAAU,IAAM,UAAW,CAChC,IAAIzT,EAAGC,EAAGE,EACV,IAAKH,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IACvCG,EAAK,UAAUH,CAAC,EAChB,KAAK,MAAM,KAAKG,EAAG,OAAS,EAAIA,EAAG,IAAI,EAAIA,CAAE,EAE/C,OAAO,IACT,EACAsT,EAAO,UAAU,cAAgB,SAAS2C,EAAM/W,EAAM1C,EAAI,CACpD,CAACA,GAAM,OAAO0C,GAAS,aACzB1C,EAAK0C,EACLA,EAAO,QAET,IAAIwN,EAAO,KACPqJ,EAAW,KAAK,WAChBK,EAAcL,EAAS,OAC3B,GAAI,CAACK,EAAa,CAChB,GAAI,KAAK,YACPvR,EAAM,2CAA2C,EACjD,KAAK,KAAK,UAAW,UAAW,CAC9B,KAAK,cAAcoR,EAAM/W,EAAM1C,CAAE,CACnC,CAAC,MACI,CACL,IAAIoK,EAAM,IAAI,MAAM,oBAAoB,EACxC,QAAQ,SAAS,UAAW,CACtBpK,EACFA,EAAG,KAAK,IAAI6Z,EAAYJ,EAAK,IAAI,EAAGrP,CAAG,EAEvC8F,EAAK,KAAK,QAAS9F,CAAG,CAE1B,CAAC,CACH,CACA,MACF,CACA1H,EAAOA,GAAQ,CAAC,EACZA,EAAK,UAAY,SACnBA,EAAK,QAAU,KAAK,WAEtB,IAAI6U,EACJ,GAAIqC,IAAgB,EAClBrC,EAAUgC,EAAS,CAAC,UACX,KAAK,UAEd,GADAhC,EAAU,KAAK,SAAS,KAAK,WAAW,MAAM,CAAC,EAC3C,CAACA,EAAS,CACZlP,EAAM,2CAA2C,EACjD,MACF,OAEAkP,EAAUgC,EAAS,KAAK,MAAM,KAAK,OAAO,EAAIK,CAAW,CAAC,EAE5DrC,EAAQ,MAAMkC,EAAM/W,EAAM,SAASmW,EAAMiB,EAAM,CAC7C,IAAIC,EAAM,KACN9D,EAAU8D,EAAI,QAAQ,UAC1B,GAAIlB,EAAM,CACJ3I,EAAK,WACP2I,EAAO5C,EAAQ,MAAM4C,EAAK,QAAS,CAAE,WAAY,EAAK,CAAC,GAEzDmB,EAAKnB,CAAI,EACT,MACF,CACA,GAAI,CAACiB,EAAM,CACTE,EAAK,EACL,MACF,CACAnB,EAAOiB,EAAK,MACP5J,EAAK,WACJ2I,IAAS,OACXA,EAAO,KAEHrP,EAAK,OAAOyM,EAAS,iBAAiB,EACpC,OAAO4C,GAAQ,WACjBA,EAAO,IAAI,MAAMA,CAAI,GAEdA,GAAQA,EAAK,QAAU,OAAOA,EAAK,QAAU,WACtDA,EAAO,IAAI,MAAMA,EAAK,MAAM,IAIlCmB,EAAKnB,EAAMiB,EAAK,QAAQ,EACxB,SAASE,EAAKC,EAAMlS,EAAK,CACnB/H,EACFA,EAAG,KAAK+Z,EAAKE,EAAMlS,CAAG,EACbkS,GACT/J,EAAK,KAAK,QAAS+J,CAAI,CAE3B,CACF,CAAC,CACH,EACAnD,EAAO,UAAU,uBAAyB,SAASpF,EAAK,CACtD,IAAIZ,EAASY,EAAI,YAAY,UAAU,EACnCzN,EAAQ6M,EAAO,IAAI,SAASzJ,EAAI,CAClC,OAAOA,EAAG,QAAQ,CACpB,CAAC,EACG4F,EAAO,mBAAqByE,EAAI,KAAO,IAC3C,OAAIzN,EAAM,SACRgJ,GAAQhJ,EAAM,KAAK,IAAI,EAAI,MAE7BgJ,GAAQ;AAAA,EACRA,GAAQ,gBACRA,GAAQhJ,EAAM,IAAI,SAASiD,EAAG,CAC5B,OAAOA,EAAI,KAAOA,CACpB,CAAC,EAAE,KAAK,IAAI,EACZ+F,GAAQ;AAAA,EACRA,GAAQ,8BAAgCyE,EAAI,KAAO;AAAA,EACnDzE,GAAQ,KACD,IAAI,SAASA,CAAI,EAAE,CAC5B,EACA,SAAS8J,GAAOgB,EAAKrV,EAAM,CACzBA,EAAOA,GAAQ,CAAC,EAChB6S,EAAO,aAAa,KAAK,IAAI,EAC7B,KAAK,QAAUwC,EACf,KAAK,UAAY,CAAC,EAClB,KAAK,KAAO,CAAC,EACb,KAAK,UAAY,CAAC,EAClB,KAAK,eAAiB,EACtB,KAAK,OAASrV,EAAK,OAAS,CAAC,EAC7B,KAAK,gBAAkBA,EAAK,eAC5B,KAAK,iBAAmBA,EAAK,qBAC7B,KAAK,QAAU,CAAC,CAACA,EAAK,OACtB,KAAK,QAAU,CAAC,CAACA,EAAK,YAClBA,EAAK,iBACP0V,GAAsB,KAAK,OAAQ1V,EAAK,gBAAiBqV,EAAK,EAAK,EAErEA,EAAI,SAAS,QAAQ,SAASrG,EAAK,CACjC,IAAIxN,EAAOwN,EAAI,KACVhP,EAAK,eACRwB,EAAOiE,EAAM,WAAWjE,CAAI,GAE9B,KAAK,KAAOA,CAAI,EAAI,KAAK,sBAAsBwN,CAAG,CACpD,EAAG,IAAI,CACT,CACAlQ,EAAK,SAASuV,GAAQxB,EAAO,YAAY,EACzCwB,GAAO,UAAU,eAAiB,UAAW,CAC3C,OAAO5O,EAAM,aAAa,KAAK,SAAS,CAC1C,EACA4O,GAAO,UAAU,cAAgB,SAASO,EAAW5U,EAAM,CACzD,IAAI2V,EAAa3V,GAAQA,EAAK,WAC1B6U,EACJ,GAAI,OAAOD,GAAa,WAAY,CAClC,IAAI4C,EACA7B,EACF6B,EAAkB5C,EAElB4C,EAAkB,SAASla,EAAI,CAC7B,IAAI2Y,EAAW,IAAIC,GAAa,EAAE,KAAK,QAAS,SAASxO,EAAK,CAC5DmN,EAAQ,QAAQnN,CAAG,CACrB,CAAC,EACD,OAAOkN,EAAU,SAASlN,EAAKqO,EAAW,CACxC,GAAIrO,EAAK,CACPpK,EAAGoK,CAAG,EACN,MACF,CACA,IAAImO,GAAW,IAAIC,EACnBD,GAAS,KAAKE,CAAS,EACvBzY,EAAG,KAAMuY,EAAQ,CACnB,CAAC,EAAE,KAAKI,CAAQ,CAClB,EAEFpB,EAAU,IAAI4C,EAAuB,KAAMD,EAAiBxX,CAAI,CAClE,KAAO,CACL,IAAIqW,EAAUC,EAOd,GANIC,GAAS3B,CAAS,EACpByB,EAAWC,EAAW1B,GAEtByB,EAAWzB,EAAU,SACrB0B,EAAW1B,EAAU,UAEnB,CAACe,EAAY,CACf,IAAIa,EAAU,IAAIC,GAClBJ,EAAWA,EAAS,KAAKG,CAAO,EAChC,IAAIE,EAAU,IAAIC,GAClBD,EAAQ,KAAKJ,CAAQ,EACrBA,EAAWI,CACb,CACA7B,EAAU,IAAI6C,EAAsB,KAAMrB,EAAUC,EAAUtW,CAAI,EAC7D2V,IACHd,EAAQ,KAAK,MAAO,UAAW,CAC7BwB,EAAS,OAAOG,CAAO,EACvBE,EAAQ,OAAOJ,CAAQ,CACzB,CAAC,EACDE,EAAQ,KAAK,QAAS,SAAS9O,EAAK,CAClCmN,EAAQ,QAAQnN,CAAG,CACrB,CAAC,EAEL,CACK,KAAK,UAAU,OAAO,EAAE,QAC3B,KAAK,GAAG,QAAS,KAAK,QAAQ,EAEhC,IAAIiQ,EAAY,KAAK,iBACjBd,EAAW,KAAK,UACpB,OAAAA,EAASc,CAAS,EAAI9C,EAAQ,KAAK,MAAO,UAAW,CACnD,OAAOgC,EAASc,CAAS,CAC3B,CAAC,EACD,KAAK,KAAK,UAAW9C,CAAO,EACrBA,CACT,EACAR,GAAO,UAAU,UAAY,SAAS7S,EAAMwT,EAAS,CACnD,OAAA8B,EAAmB,KAAK,QAAStV,CAAI,EACrC,KAAK,UAAUA,CAAI,EAAIwT,EAChB,IACT,EACAX,GAAO,UAAU,gBAAkB,UAAW,CAC5C,OAAO4C,GAAmB,KAAK,OAAQ,EAAK,CAC9C,EACA5C,GAAO,UAAU,IAAM,UAAW,CAChC,IAAI1T,EAAGC,EAAGE,EACV,IAAKH,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IACvCG,EAAK,UAAUH,CAAC,EAChB,KAAK,KAAK,KAAKG,EAAG,OAAS,EAAIA,EAAG,IAAI,EAAIA,CAAE,EAE9C,OAAO,IACT,EACAuT,GAAO,UAAU,sBAAwB,SAASrF,EAAK,CACrD,IAAIxN,EAAOwN,EAAI,KACXZ,EAASY,EAAI,YAAY,OACzB4I,EAAUxJ,EAAO,OACjBT,EAAOS,EAAO,OAAS,KAAOA,EAAO,IAAI,SAASzJ,EAAI,CACxD,MAAO,OAASA,EAAG,IACrB,CAAC,EAAE,KAAK,IAAI,EAAI,GACZ4F,EAAO;AAAA,EACX,OAAAA,GAAQ,0BAA4BqN,EAAU;AAAA,EAC9CrN,GAAQ,8BAAgC/I,EAAO;AAAA,EAC/C+I,GAAQ,iCAAmCoD,EAAO;AAAA,EAClDpD,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ,8BAAgC/I,EAAO;AAAA,EAC/C+I,GAAQ,iCAAmCoD,EAAO;AAAA,EAClDpD,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACRA,GAAQ;AAAA,EACD,IAAI,SAASA,CAAI,EAAE,CAC5B,EACA8J,GAAO,UAAU,SAAW,SAAS3M,EAAK,CACpC,CAAC,KAAK,SAAWA,EAAI,UAAY,qBACnC,QAAQ,MAAM,EACVA,EAAI,SACN,QAAQ,MAAMA,EAAI,OAAO,EACzB,QAAQ,MAAMA,EAAI,KAAK,IAEvB,QAAQ,MAAM,uBAAuB,EACrC,QAAQ,MAAMA,CAAG,GAGvB,EACA,SAASmQ,EAAcnD,EAAQ1U,EAAM,CACnCA,EAAOA,GAAQ,CAAC,EAChB6S,EAAO,aAAa,KAAK,IAAI,EAC7B,KAAK,OAAS6B,EACd,KAAK,QAAUjP,EAAM,UAAUzF,EAAM,UAAW0U,EAAO,SAAS,EAChE,KAAK,aAAe,CAAC,CAACjP,EAAM,UAAUzF,EAAM,cAAe,EAAI,EAC/D,KAAK,QAAU8X,GAAiB9X,EAAK,KAAK,EAC1C,IAAI+X,EAAQrD,EAAO,QACfJ,EAAYI,EAAO,MACnBpU,EAAON,EAAK,WACXM,IACHA,EAAOgU,EAAU,MAEnB,IAAI0D,EAAUD,EAAMzX,CAAI,EACnB0X,IACH1X,EAAOgU,EAAU,KACjB0D,EAAUD,EAAMzX,CAAI,EAAI,IAAI2X,EAAQ3D,EAAWA,EAAWhU,CAAI,GAEhE,KAAK,SAAW0X,EAChB,KAAK,UAAY,IAAIE,EAAS,KAAM/E,EAAa,EACjD,KAAK,QAAU,EACf,KAAK,UAAY,GACjB,KAAK,SAAW,GAChB,KAAK,KAAK,OAAQ,SAASsC,EAAS/N,EAAK,CACvC/B,EAAM,oBAAoB,EAC1B,KAAK,UAAY,GACjB,KAAK,KAAK,MAAO8P,EAAS/N,CAAG,CAC/B,CAAC,CACH,CACA5I,EAAK,SAAS+Y,EAAehF,EAAO,YAAY,EAChDgF,EAAc,UAAU,QAAU,SAASM,EAAQ,CACjDxS,EAAM,2BAA2B,EAC5B,KAAK,WACR,KAAK,SAAW,GAChB,KAAK,KAAK,QAAQ,GAEpB,IAAIyB,EAAW,KAAK,UAChBqO,EAAU,KAAK,QACf0C,GACF/Q,EAAS,MAAM,EAEb+Q,GAAU,CAAC1C,EACT2C,GAAQD,CAAM,GAChBxS,EAAM,iCAAkCwS,CAAM,EAC9C,KAAK,KAAK,OAAQ1C,EAAS0C,CAAM,GAEjC,KAAK,KAAK,OAAQ1C,CAAO,EAG3B9P,EAAM,kDAAmD8P,CAAO,CAEpE,EACAoC,EAAc,UAAU,KAAO,SAASQ,EAAS/a,EAAI,CAC/C,CAACA,GAAM,OAAO+a,GAAW,aAC3B/a,EAAK+a,EACLA,EAAU,QAEZ,IAAI7K,EAAO,KACPuJ,EAAO,IAAIC,EAAe5D,CAAY,EAC1C,KAAK,MAAM2D,EAAM,CAAE,QAAAsB,CAAQ,EAAG,SAAS3Q,EAAK,CACtCpK,EACFA,EAAG,KAAKkQ,EAAM9F,CAAG,EACRA,GACT8F,EAAK,QAAQ9F,CAAG,CAEpB,CAAC,CACH,EACAmQ,EAAc,UAAU,wBAA0B,SAASG,EAASM,EAAO,CACzE,IAAIjD,EAAM,KAAK,OAAO,MACtB,MAAO,CACL,WAAYA,EAAI,KAChB,eAAgBiD,EAAQ,KAAO,KAAK,UAAUjD,EAAI,QAAQ,EAC1D,WAAY2C,EAAQ,KACtB,CACF,EACAH,EAAc,UAAU,MAAQ,SAASd,EAAM/W,EAAM1C,EAAI,CACvD,IAAI0R,EAAM+H,EAAK,KACXK,EAAOpI,EAAI,OAAS,OAAS,IAAIuJ,EAAgBvJ,EAAK,CAAC,CAAC,EACxDqI,EAAM,IAAIF,EAAYnI,EAAK,IAAI,EAC/BxB,EAAO,KACX,KAAK,UACL,QAAQ,SAAS,UAAW,CAC1B,GAAI,CAACwB,EAAI,KACPwJ,EAAazB,EAAMK,EAAMqB,CAAY,MAChC,CACLjL,EAAK,KAAK,eAAgB6J,EAAKrX,CAAI,EACnC,IAAI0Y,EAAMlL,EAAK,OAAO,MACtB7H,EAAM,mDAAoD+S,EAAI,MAAM,EACpEC,EAAgB,CACd,IAAAD,EACA,IAAArB,EACA,KAAAN,EACA,KAAAK,EACA,aAAAoB,EACA,aAAAC,EACA,QAAAG,CACF,CAAC,CACH,CACF,CAAC,EACD,SAASJ,EAAaK,EAAOC,EAAOC,EAAM,CACxC,IAAIrR,EAAKsR,EACT,GAAIxL,EAAK,UACP9F,EAAM,IAAI,MAAM,mBAAmB,MAEnC,IAAI,CACFsR,EAASH,EAAM,SAAS,CAC1B,MAAgB,CACdnR,EAAMuR,GACJ7Z,EAAG,qBAAsB4P,EAAI,IAAI,EACjC6J,EACA,CACE,CAAE,KAAM,UAAW,KAAMhI,CAAe,EACxC,CAAE,KAAM,UAAW,KAAM7B,EAAI,WAAY,CAC3C,CACF,CACF,CAEF,GAAItH,EAAK,CACPqR,EAAKrR,CAAG,EACR,MACF,CACA,IAAI2Q,GAAUrY,GAAQA,EAAK,UAAY,OAASA,EAAK,QAAUwN,EAAK,QAChE0L,GAAK1L,EAAK,UAAU,IAAI6K,GAAS,SAASlC,GAAMgD,GAAQnB,GAAS,CACnE,GAAI,CAAC7B,IAAQ,CAACnH,EAAI,OAChB,GAAI,CACFgJ,GAAQ,gBAAgBmB,GAAQL,EAAO9J,CAAG,CAC5C,OAAS8C,GAAO,CACdqE,GAAOrE,EACT,CAEFiH,EAAK5C,EAAI,CACX,CAAC,EACD+C,IAAM1L,EAAK,QACX7H,EAAM,qBAAsBuT,EAAE,EAC9B1L,EAAK,MAAM0L,GAAIF,EAAQ,CAAC,CAAChK,GAAOA,EAAI,MAAM,CAC5C,CACA,SAASyJ,EAAa/Q,EAAK,CACzB8F,EAAK,UACLlQ,EAAG,KAAK+Z,EAAK3P,EAAK0P,CAAI,EAClB5J,EAAK,UAAY,CAACA,EAAK,WAAa,CAACA,EAAK,SAC5CA,EAAK,QAAQ,CAEjB,CACA,SAASoL,EAAQlR,EAAK,CACpB8F,EAAK,OAAO,KAAK,QAAS9F,EAAK8F,CAAI,CACrC,CACF,EACAqK,EAAc,UAAU,YAAc,SAASrC,EAAM,CACnD,IAAIlV,EAAOkV,EAAK,WACZuC,EAAQ,KAAK,OAAO,QACpBC,EAAUD,EAAMzX,CAAI,EACxB,GAAI0X,EACF,OAAOA,EAET,IAAI9D,EAAO,KAAK,MAAMsB,EAAK,cAAc,EACrCjB,EAAYR,EAAQ,YAAYG,CAAI,EACxC,OAAA8D,EAAU,IAAIC,EAAQ,KAAK,OAAO,MAAO1D,EAAWjU,EAAM,EAAI,EACvDyX,EAAMzX,CAAI,EAAI0X,CACvB,EACAH,EAAc,UAAU,eAAiB,SAASqB,EAAI,CACpD,OAAOE,GAAcF,EAAI,KAAK,OAAO,CACvC,EACArB,EAAc,UAAU,MAAQpS,EAAM,iBACtCA,EAAM,qBAAqBoS,EAAe,CAAC,UAAW,SAAS,CAAC,EAChEA,EAAc,UAAU,SAAW/Y,EAAK,UACtC,UAAW,CACT,OAAO,KAAK,OAAO,OACrB,EACA,mDACF,EACA+Y,EAAc,UAAU,YAAc/Y,EAAK,UACzC,UAAW,CACT,OAAO,KAAK,OAAO,KACrB,EACA,4CACF,EACA+Y,EAAc,UAAU,YAAc/Y,EAAK,UACzC,UAAW,CACT,OAAO,KAAK,SACd,EACA,4CACF,EACA,SAASsX,EAAuB1B,EAAQkB,EAAiB5V,EAAM,CAC7D6X,EAAc,KAAK,KAAMnD,EAAQ1U,CAAI,EACrC,KAAK,iBAAmB4V,GACpB,CAAC5V,GAAQ,CAACA,EAAK,UACjB2F,EAAM,uBAAuB,EAC7B,KAAK,KAAK,EAEd,CACA7G,EAAK,SAASsX,EAAwByB,CAAa,EACnDzB,EAAuB,UAAU,MAAQ,SAAS8C,EAAIF,EAAQ,CAC5D,IAAI1b,EAAK,KAAK,UAAU,IAAI4b,CAAE,EAC1BlB,EAAU,KAAK,SACfxK,EAAO,KACX,eAAQ,SAAS6L,CAAI,EACd,GACP,SAASA,EAAKC,EAAO,CACnB,GAAI,CAAA9L,EAAK,UAGT,KAAI+H,EAAO/H,EAAK,wBAAwBwK,EAAS,CAACsB,CAAK,EACnDhD,EAAW9I,EAAK,iBAAiB,KAAKA,EAAM,SAAS9F,EAAK2O,EAAU,CACtE,GAAI3O,EAAK,CACPpK,EAAGoK,CAAG,EACN,MACF,CACA2O,EAAS,GAAG,OAAQ,SAAStV,EAAK,CAChC4E,EAAM,uBAAwB5E,EAAI,EAAE,EACpC,IAAIuD,EAAMtF,EAAQ,OAAO+B,EAAI,OAAO,EACpC,GAAI,CACF,IAAIgB,EAAQwX,GAASrG,EAAyB5O,CAAG,EAC7CkR,EAAOzT,EAAM,KACbyT,EAAK,aACPwC,EAAUxK,EAAK,YAAYgI,CAAI,EAEnC,OAAS1D,GAAO,CACdxU,EAAGwU,EAAK,EACR,MACF,CACA,IAAI7P,GAAQuT,EAAK,MACjB7P,EAAM,sBAAuB1D,EAAK,EAClCuL,EAAK,KAAK,YAAa+H,EAAMC,CAAI,EAC7BvT,KAAU,OACZ,QAAQ,SAAS,UAAW,CAC1BoX,EAAK,EAAI,CACX,CAAC,GAED7L,EAAK,SAAWwK,EAChB1a,EAAG,KAAMyE,EAAM,KAAMiW,CAAO,EAEhC,CAAC,CACH,CAAC,EACD,GAAI,CAAC1B,EAAU,CACbhZ,EAAG,IAAI,MAAM,yBAAyB,CAAC,EACvC,MACF,CACAgZ,EAAS,MAAM,CACb,GAAA4C,EACA,QAAS,CAACjG,EAAuB,SAASsC,CAAI,EAAGyD,CAAM,CACzD,CAAC,EACGxL,EAAK,cACP8I,EAAS,IAAI,EAEjB,CACF,EACA,SAASM,EAAsBlC,EAAQ2B,EAAUC,EAAUtW,EAAM,CAC/D6X,EAAc,KAAK,KAAMnD,EAAQ1U,CAAI,EACrC,KAAK,UAAYqW,EACjB,KAAK,UAAYC,EACjB,KAAK,WAAa,CAAC,EAAEtW,GAAQA,EAAK,QAClC,KAAK,UAAU,GAAG,MAAOwZ,CAAK,EAC9B,KAAK,UAAU,GAAG,SAAUC,CAAQ,EACpC,IAAIjM,EAAO,KACPkM,EAAQ,KACZ,KAAK,KAAK,MAAO,UAAW,CACtBA,IACF,aAAaA,CAAK,EAClBA,EAAQ,MAELlM,EAAK,YACRA,EAAK,KAAK,QAAQ,EAEpB,KAAK,UAAU,eAAe,SAAUiM,CAAQ,EAC5C,KAAK,eACP9T,EAAM,kBAAkB,EACxB,KAAK,UAAU,IAAI,GAErB,KAAK,UAAU,eAAe,OAAQgU,CAAM,EAAE,eAAe,OAAQC,CAAS,EAAE,eAAe,MAAOJ,CAAK,CAC7G,CAAC,EACD,IAAIjE,EACA,KAAK,WACP,KAAK,UAAU,GAAG,OAAQqE,CAAS,GAEnC,KAAK,UAAU,GAAG,OAAQD,CAAM,EAChC,QAAQ,SAASE,CAAI,EACjBrM,EAAK,UACPkM,EAAQ,WAAW,UAAW,CAC5BlM,EAAK,QAAQ,IAAI,MAAM,SAAS,CAAC,CACnC,EAAGA,EAAK,OAAO,IAGnB,SAASqM,EAAKP,EAAO,CACnB,GAAI,CAAA9L,EAAK,UAGT,CAAA+H,EAAO/H,EAAK,wBAAwBA,EAAK,SAAU,CAAC8L,CAAK,EACzD,IAAIQ,EAAU,CACZ7G,EAAuB,SAASsC,CAAI,EACpC9P,EAAM,WAAW,CAAC,EAAG,CAAC,CAAC,CAEzB,EACA+H,EAAK,UAAU,MAAM,CAAE,GAAIA,EAAK,QAAS,QAAAsM,CAAQ,CAAC,EACpD,CACA,SAASH,EAAO5Y,EAAK,CACnB,GAAI,CAACyM,EAAK,eAAezM,EAAI,EAAE,EAAG,CAChC4E,EAAM,qDAAsD5E,EAAI,EAAE,EAClE,MACF,CACA,IAAIuD,EAAMtF,EAAQ,OAAO+B,EAAI,OAAO,EACpC,GAAI,CACF,IAAIyU,EAAO+D,GAASrG,EAAyB5O,CAAG,EAAE,KAC9CkR,EAAK,aACPhI,EAAK,SAAWA,EAAK,YAAYgI,CAAI,EAEzC,OAAS1D,GAAO,CACdtE,EAAK,QAAQsE,EAAK,EAClB,MACF,CACA,IAAI7P,GAAQuT,EAAK,MACjB7P,EAAM,sBAAuB1D,EAAK,EAClCuL,EAAK,KAAK,YAAa+H,EAAMC,CAAI,EAC7BvT,KAAU,OACZ,QAAQ,SAAS,UAAW,CAC1B4X,EAAK,EAAI,CACX,CAAC,GAEDlU,EAAM,wBAAwB,EAC1B+T,IACF,aAAaA,CAAK,EAClBA,EAAQ,MAEVlM,EAAK,UAAU,eAAe,OAAQmM,CAAM,EAAE,GAAG,OAAQC,CAAS,EAClEpM,EAAK,WAAa,GAClBA,EAAK,KAAK,QAAQ,EAClB+H,EAAO,KAEX,CACA,SAASqE,EAAU7Y,EAAK,CACtB,IAAImY,EAAKnY,EAAI,GACb,GAAI,CAACyM,EAAK,eAAe0L,CAAE,EAAG,CAC5BvT,EAAM,iCAAkCuT,CAAE,EAC1C,MACF,CACA,IAAI5b,EAAKkQ,EAAK,UAAU,IAAI0L,CAAE,EAC1B5b,GACF,QAAQ,SAAS,UAAW,CAC1BqI,EAAM,sBAAuBuT,CAAE,EAC/B5b,EAAG,KAAM0B,EAAQ,OAAO+B,EAAI,OAAO,EAAGyM,EAAK,QAAQ,CACrD,CAAC,CAEL,CACA,SAASgM,GAAQ,CACfhM,EAAK,QAAQ,EAAI,CACnB,CACA,SAASiM,GAAW,CAClBjM,EAAK,QAAQ,CACf,CACF,CACA1O,EAAK,SAAS8X,EAAuBiB,CAAa,EAClDjB,EAAsB,UAAU,MAAQ,UAAW,CACjD,GAAI,KAAK,YAAc,KAAK,SAC1BiB,EAAc,UAAU,MAAM,MAAM,KAAM,SAAS,MAC9C,CACLlS,EAAM,iBAAiB,EACvB,IAAIgI,EAAO,CAAC,EACRhN,EAAGC,EACP,IAAKD,EAAI,EAAGC,EAAI,UAAU,OAAQD,EAAIC,EAAGD,IACvCgN,EAAK,KAAK,UAAUhN,CAAC,CAAC,EAExB,KAAK,KAAK,SAAU,UAAW,CAC7B,KAAK,MAAM,MAAM,KAAMgN,CAAI,CAC7B,CAAC,CACH,CACF,EACAiJ,EAAsB,UAAU,MAAQ,SAASsC,EAAIF,EAAQvF,EAAQ,CACnE,GAAIA,EAAQ,CACV,IAAIjG,EAAO,KACX,QAAQ,SAAS,UAAW,CAC1BA,EAAK,UAAU,IAAI0L,CAAE,EAAE,KAAMzT,EAAM,WAAW,CAAC,EAAG,EAAG,CAAC,CAAC,EAAG+H,EAAK,QAAQ,CACzE,CAAC,CACH,CACA,OAAO,KAAK,UAAU,MAAM,CAAE,GAAA0L,EAAI,QAAS,CAACF,CAAM,CAAE,CAAC,CACvD,EACA,SAASe,EAAc5F,EAAQnU,EAAM,CACnCA,EAAOA,GAAQ,CAAC,EAChB6S,EAAO,aAAa,KAAK,IAAI,EAC7B,KAAK,OAASsB,EACd,KAAK,aAAe,CAAC,CAAC1O,EAAM,UAAUzF,EAAM,cAAe,EAAI,EAC/D,KAAK,QAAU8X,GAAiB9X,EAAK,KAAK,EAC1C,IAAI+X,EAAQ5D,EAAO,OACfkB,EAAMlB,EAAO,QACb7T,EAAO+U,EAAI,KACV0C,EAAMzX,CAAI,IACbyX,EAAMzX,CAAI,EAAI,IAAI2X,EAAQ5C,EAAKA,EAAK/U,CAAI,GAE1C,KAAK,SAAW,KAChB,KAAK,UAAY,GACjB,KAAK,SAAW,GAChB,KAAK,QAAU,EACf,KAAK,KAAK,OAAQ,SAASmV,EAAS/N,EAAK,CACvC/B,EAAM,oBAAoB,EAC1B,KAAK,KAAK,MAAO8P,EAAS/N,CAAG,CAC/B,CAAC,CACH,CACA5I,EAAK,SAASib,EAAelH,EAAO,YAAY,EAChDkH,EAAc,UAAU,QAAU,SAAS5B,EAAQ,CAC5C,KAAK,WACR,KAAK,SAAW,GAChB,KAAK,KAAK,QAAQ,IAEhBA,GAAU,CAAC,KAAK,WAClB,KAAK,UAAY,GACbC,GAAQD,CAAM,GAChBxS,EAAM,iCAAkCwS,CAAM,EAC9C,KAAK,KAAK,OAAQ,KAAK,QAASA,CAAM,GAEtC,KAAK,KAAK,OAAQ,KAAK,OAAO,EAGpC,EACA4B,EAAc,UAAU,yBAA2B,SAASrS,EAAK6N,EAAM,CACrE,IAAIF,EAAM,KAAK,OAAO,QAClB/Q,EAAM+Q,EAAI,KACV2E,EAAczE,GAAQA,EAAK,WAAW,OAAOjR,CAAG,EACpD,MAAO,CACL,MAAOoD,EAAM,OAASsS,EAAc,OAAS,SAC7C,eAAgBA,EAAc,KAAO,KAAK,UAAU3E,EAAI,QAAQ,EAChE,WAAY2E,EAAc,KAAO1V,CACnC,CACF,EACAyV,EAAc,UAAU,YAAc,SAASxE,EAAM,CACnD,IAAIjV,EAAOiV,EAAK,WACZyC,EAAU,KAAK,OAAO,OAAO1X,CAAI,EACrC,GAAI0X,EACF,OAAOA,EAET,GAAI,CAACzC,EAAK,eACR,MAAM0E,GAAW,kBAAkB,EAErC,IAAI/F,EAAO,KAAK,MAAMqB,EAAK,cAAc,EACrCjB,EAAYP,EAAQ,YAAYG,CAAI,EACxC,OAAA8D,EAAU,IAAIC,EAAQ3D,EAAW,KAAK,OAAO,QAAShU,EAAM,EAAI,EACzD,KAAK,OAAO,OAAOA,CAAI,EAAI0X,CACpC,EACA+B,EAAc,UAAU,eAAiB,SAASb,EAAI,CACpD,OAAOE,GAAcF,EAAI,KAAK,OAAO,CACvC,EACAa,EAAc,UAAU,SAAW,SAASf,EAAQhB,EAAS1a,EAAI,CAC/D,IAAIkQ,EAAO,KACPuJ,EACJ,GAAI,CACFA,EAAOiB,EAAQ,eAAegB,CAAM,CACtC,OAASlH,EAAO,CACdxU,EAAGkQ,EAAK,mBAAmByM,GAAW,kBAAmBnI,CAAK,CAAC,CAAC,EAChE,MACF,CACA,IAAI9C,EAAM+H,EAAK,KACXK,EAAO,IAAImB,EAAgBvJ,EAAK,CAAC,CAAC,EACtC,GAAI,CAACA,EAAI,KAAM,CACboI,EAAK,SAAW,KAChB9Z,EAAG8Z,EAAK,SAAS,EAAG,EAAK,EACzB,MACF,CACA,IAAIC,EAAM,IAAIF,EAAYnI,EAAK,IAAI,EACnCxB,EAAK,KAAK,eAAgB6J,CAAG,EAC7B,IAAIqB,EAAM,KAAK,OAAO,KACtB/S,EAAM,mDAAoD+S,EAAI,MAAM,EACpElL,EAAK,UACLmL,EAAgB,CACd,IAAAD,EACA,IAAArB,EACA,KAAAN,EACA,KAAAK,EACA,aAAAoB,EACA,aAAAC,EACA,QAAAG,CACF,CAAC,EACD,SAASJ,EAAaK,EAAOC,EAAOC,EAAM,CACxC,IAAI/D,GAAUxH,EAAK,OAAO,UAAUwB,EAAI,IAAI,EAC5C,GAAKgG,GAQE,CACL,IAAIS,GAAU,CAACzG,EAAI,OACnB,GAAI,CACEyG,GACFT,GAAQ,KAAKqC,EAAKwB,EAAM,QAAS,SAASnR,GAAKrC,GAAK,CAClDoQ,GAAU,GACVqD,EAAM,MAAQpR,GACdoR,EAAM,SAAWzT,GACjB0T,EAAK,CACP,CAAC,GAED/D,GAAQ,KAAKqC,EAAKwB,EAAM,OAAO,EAC/BE,EAAK,EAET,OAASrR,GAAK,CACR+N,IACFA,GAAU,GACVsD,EAAKrR,EAAG,GAERkR,EAAQlR,EAAG,CAEf,CACF,KA9Bc,CACZ,IAAIwS,GAAiB1M,EAAK,OAAO,gBACjC,GAAI0M,GACFA,GAAe,KAAK7C,EAAKwB,EAAOC,EAAOC,CAAI,MACtC,CACL,IAAIjH,GAAQ,IAAI,MAAM1S,EAAG,oBAAqB4P,EAAI,IAAI,CAAC,EACvD+J,EAAKkB,GAAW,kBAAmBnI,EAAK,CAAC,CAC3C,CACF,CAuBF,CACA,SAAS2G,EAAa/Q,EAAK,CACzB8F,EAAK,UACL,IAAI2G,EAAS3G,EAAK,OACd2L,EACJ,GAAI,CAACzR,EAAK,CACR,IAAIyS,GAAS/C,EAAK,MACdgD,GAAWjG,EAAO,QACjBiG,KACChC,GAAQ+B,EAAM,EAChB/C,EAAK,MAAQpI,EAAI,UAAU,MAAMmL,GAAO,QAAS,CAAE,WAAY,EAAK,CAAC,EAC5DA,KAAW,OACpBA,GAAS/C,EAAK,MAAQ,QAEpB+C,KAAW,QAAU/C,EAAK,WAAa,QAAUpI,EAAI,aAAa,QAAQ,IAAI,IAChFoI,EAAK,SAAW,OAGpB,GAAI,CACF+B,EAAS/B,EAAK,SAAS,CACzB,MAAgB,CACVA,EAAK,QAAU,OACjB1P,EAAMuR,GACJ7Z,EAAG,mBAAoB4P,EAAI,IAAI,EAE/BoI,EACA,CACE,CAAE,KAAM,UAAW,KAAMvG,CAAe,EACxC,CAAE,KAAM,QAAS,KAAM7B,EAAI,SAAU,CACvC,CACF,EAEAtH,EAAMuR,GACJ7Z,EAAG,sBAAuB4P,EAAI,IAAI,EAClCoI,EACA,CACE,CAAE,KAAM,UAAW,KAAMvG,CAAe,EACxC,CAAE,KAAM,WAAY,KAAM7B,EAAI,YAAa,CAC7C,CACF,CAEJ,CACF,CACKmK,EAEMgB,KAAW,QACpBhG,EAAO,KAAK,QAAS8F,GAAW,oBAAqBE,EAAM,CAAC,EAF5DhB,EAAS3L,EAAK,mBAAmB9F,EAAK0P,EAAK,OAAO,EAIpD9Z,EAAG6b,EAAQnK,EAAI,MAAM,EACjBxB,EAAK,UAAY,CAACA,EAAK,SACzBA,EAAK,QAAQ,CAEjB,CACA,SAASoL,EAAQlR,EAAK,CACpB8F,EAAK,OAAO,KAAK,QAAS9F,EAAK8F,CAAI,CACrC,CACF,EACA/H,EAAM,qBAAqBsU,EAAe,CAAC,SAAS,CAAC,EACrDA,EAAc,UAAU,SAAWjb,EAAK,UACtC,UAAW,CACT,OAAO,KAAK,OAAO,MACrB,EACA,mDACF,EACAib,EAAc,UAAU,YAAcjb,EAAK,UACzC,UAAW,CACT,OAAO,KAAK,OAAO,OACrB,EACA,4CACF,EACAib,EAAc,UAAU,YAAcjb,EAAK,UACzC,UAAW,CACT,OAAO,KAAK,SACd,EACA,4CACF,EACAib,EAAc,UAAU,mBAAqB,SAASrS,EAAK6J,EAAQ,CACjE,IAAI4C,EAAS,KAAK,OAClBA,EAAO,KAAK,QAASzM,EAAK,IAAI,EAC9B,IAAI2S,EACAlG,EAAO,iBACTkG,EAASlG,EAAO,iBAAiB,KAAK,KAAMzM,CAAG,EACtCA,EAAI,UACb2S,EAAS3S,EAAI,SAEf,IAAI4S,EACJ,GAAI/I,EACF,GAAI,CACF+I,EAASzJ,EAAe,SAASU,CAAM,CACzC,OAASO,EAAO,CACdqC,EAAO,KAAK,QAASrC,EAAO,IAAI,CAClC,CAEF,OAAO9S,EAAQ,OAAO,CACpBsb,GAAU7U,EAAM,WAAW,CAAC,CAAC,CAAC,EAC9BA,EAAM,WAAW,CAAC,EAAG,CAAC,CAAC,EAEvBuN,EAAY,SAASqH,GAAU,uBAAuB,CACxD,CAAC,CACH,EACA,SAAS5C,EAAuBtD,EAAQqD,EAAiBxX,EAAM,CAC7D+Z,EAAc,KAAK,KAAM5F,EAAQnU,CAAI,EACrC,KAAK,UAAY,OACjB,IAAIwN,EAAO,KACP6I,EACJ,QAAQ,SAAS,UAAW,CAC1BA,EAAWmB,EAAgB,KAAKhK,EAAM,SAAS9F,EAAK4O,EAAU,CAC5D,QAAQ,SAAS,UAAW,CAC1B,GAAI5O,EAAK,CACP+R,EAAS/R,CAAG,EACZ,MACF,CACA8F,EAAK,UAAY8I,EAAS,GAAG,SAAUmD,CAAQ,EAC/CjM,EAAK,KAAK,WAAW,CACvB,CAAC,CACH,CAAC,EAAE,GAAG,OAAQ+M,CAAS,EAAE,GAAG,MAAOf,CAAK,CAC1C,CAAC,EACD,SAASe,EAAUxZ,EAAK,CACtB,IAAImY,EAAKnY,EAAI,GACTuD,EAAMtF,EAAQ,OAAO+B,EAAI,OAAO,EAChC2G,EACJ,GAAI,CACF,IAAI3F,EAAQwX,GAAStG,EAAwB3O,CAAG,EAC5CiR,EAAOxT,EAAM,KACbiW,EAAUxK,EAAK,YAAY+H,CAAI,CACrC,OAASzD,GAAO,CACdpK,EAAMuS,GAAW,4BAA6BnI,EAAK,CACrD,CACA,IAAI0D,GAAOhI,EAAK,yBAAyB9F,EAAK6N,CAAI,EAClD/H,EAAK,KAAK,YAAa+H,EAAMC,EAAI,EAC7B9N,EACF4P,GAAK9J,EAAK,mBAAmB9F,CAAG,CAAC,EAEjC8F,EAAK,SAASzL,EAAM,KAAMiW,EAASV,EAAI,EAEzC,SAASA,GAAK6B,GAAQ,CACpB,GAAI,CAAC3L,EAAK,UAAW,CACnB,GAAI,CAACA,EAAK,UAAW,CACnBA,EAAK,KAAK,YAAa,UAAW,CAChC8J,GAAK6B,EAAM,CACb,CAAC,EACD,MACF,CACA3L,EAAK,UAAU,MAAM,CACnB,GAAA0L,EACA,QAAS,CAAChG,EAAwB,SAASsC,EAAI,EAAG2D,EAAM,CAC1D,CAAC,CACH,CACI3L,EAAK,WAAaA,EAAK,cACzBA,EAAK,UAAU,IAAI,CAEvB,CACF,CACA,SAASgM,GAAQ,CACfhM,EAAK,QAAQ,CACf,CACA,SAASiM,EAAS/R,EAAK,CACrB2O,EAAS,eAAe,OAAQkE,CAAS,EAAE,eAAe,MAAOf,CAAK,EACtEhM,EAAK,QAAQ9F,GAAO,EAAI,CAC1B,CACF,CACA5I,EAAK,SAAS2Y,EAAwBsC,CAAa,EACnD,SAASrC,EAAsBvD,EAAQkC,EAAUC,EAAUtW,EAAM,CAC/D+Z,EAAc,KAAK,KAAM5F,EAAQnU,CAAI,EACrC,KAAK,SAAW,OAChB,KAAK,UAAYsW,EAAS,GAAG,SAAUmD,CAAQ,EAC/C,KAAK,UAAYpD,EAAS,GAAG,OAAQmE,CAAW,EAAE,GAAG,MAAOhB,CAAK,EACjE,KAAK,KAAK,SAAU,UAAW,CAC7B,KAAK,UAAU,eAAe,OAAQgB,CAAW,EAAE,eAAe,OAAQD,CAAS,EAAE,eAAe,MAAOf,CAAK,CAClH,CAAC,EAAE,KAAK,MAAO,UAAW,CACxB,KAAK,UAAU,eAAe,SAAUC,CAAQ,EAC5C,KAAK,cACP,KAAK,UAAU,IAAI,CAEvB,CAAC,EACD,IAAIjM,EAAO,KACX,SAASgN,EAAYzZ,EAAK,CACxB,IAAImY,EAAKnY,EAAI,GACb,GAAI,CAACyM,EAAK,eAAe0L,CAAE,EACzB,OAEF,IAAI5U,EAAMtF,EAAQ,OAAO+B,EAAI,OAAO,EAChC2G,EACJ,GAAI,CACF,IAAI3F,EAAQwX,GAAStG,EAAwB3O,CAAG,EAC5CiR,EAAOxT,EAAM,KACjByL,EAAK,SAAWA,EAAK,YAAY+H,CAAI,CACvC,OAASzD,GAAO,CACdpK,EAAMuS,GAAW,4BAA6BnI,EAAK,CACrD,CACA,IAAI0D,GAAOhI,EAAK,yBAAyB9F,EAAK6N,CAAI,EAClD/H,EAAK,KAAK,YAAa+H,EAAMC,EAAI,EAC7B9N,EACF4P,GAAK9J,EAAK,mBAAmB9F,CAAG,CAAC,GAEjC8F,EAAK,UAAU,eAAe,OAAQgN,CAAW,EAAE,GAAG,OAAQD,CAAS,EACvE/M,EAAK,SAASzL,EAAM,KAAMyL,EAAK,SAAU8J,EAAI,GAE/C,SAASA,GAAK6B,GAAQ,CAChB3L,EAAK,WAGTA,EAAK,UAAU,MAAM,CACnB,GAAA0L,EACA,QAAS,CAAChG,EAAwB,SAASsC,EAAI,EAAG2D,EAAM,CAC1D,CAAC,CACH,CACF,CACA,SAASoB,EAAUxZ,EAAK,CACtB,IAAImY,EAAKnY,EAAI,GACb,GAAKyM,EAAK,eAAe0L,CAAE,EAG3B,KAAIF,EAASha,EAAQ,OAAO+B,EAAI,OAAO,EACvCyM,EAAK,SAASwL,EAAQxL,EAAK,SAAU,SAAS2L,EAAQ1F,EAAQ,CACxDjG,EAAK,WAAaiG,GAGtBjG,EAAK,UAAU,MAAM,CAAE,GAAA0L,EAAI,QAAS,CAACC,CAAM,CAAE,CAAC,CAChD,CAAC,EACH,CACA,SAASK,GAAQ,CACfhM,EAAK,QAAQ,CACf,CACA,SAASiM,GAAW,CAClBjM,EAAK,QAAQ,EAAI,CACnB,CACF,CACA1O,EAAK,SAAS4Y,EAAuBqC,CAAa,EAClD,SAAS/C,EAAehI,EAAKyL,EAAM1F,EAAK,CACtC,KAAK,KAAO/F,EACZ,KAAK,QAAUyL,GAAQ,CAAC,EACxB,KAAK,QAAU1F,GAAO,CAAC,CACzB,CACAiC,EAAe,UAAU,SAAW,UAAW,CAC7C,IAAIhI,EAAM,KAAK,KACf,OAAOhQ,EAAQ,OAAO,CACpB6R,EAAe,SAAS,KAAK,OAAO,EACpCmC,EAAY,SAAShE,EAAI,IAAI,EAC7BA,EAAI,YAAY,SAAS,KAAK,OAAO,CACvC,CAAC,CACH,EACA,SAASuJ,EAAgBvJ,EAAK0L,EAAKhT,EAAKrC,EAAK,CAC3C,KAAK,KAAO2J,EACZ,KAAK,QAAU0L,EACf,KAAK,MAAQhT,EACb,KAAK,SAAWrC,CAClB,CACAkT,EAAgB,UAAU,SAAW,UAAW,CAC9C,IAAImC,EAAM7J,EAAe,SAAS,KAAK,OAAO,EAC1C8J,EAAW,KAAK,QAAU,OAC9B,OAAO3b,EAAQ,OAAO,CACpB0b,EACA3H,EAAa,SAAS4H,CAAQ,EAC9BA,EAAW,KAAK,KAAK,UAAU,SAAS,KAAK,KAAK,EAAI,KAAK,KAAK,aAAa,SAAS,KAAK,QAAQ,CACrG,CAAC,CACH,EACA,SAASxD,EAAYnI,EAAK6F,EAAS,CACjC,KAAK,QAAUA,EACf,KAAK,OAAS,CAAC,EACf,KAAK,QAAU7F,EACf,OAAO,OAAO,IAAI,CACpB,CACA,SAASkJ,EAASb,EAAKuD,EAAc,CACnC,KAAK,KAAOvD,EACZ,KAAK,MAAQ,MAAQuD,EAAe,GACpC,KAAK,IAAM,EACX,KAAK,GAAK,EACV,KAAK,KAAO,CAAC,CACf,CACA1C,EAAS,UAAU,IAAM,SAASgB,EAAI,CACpC,OAAO,KAAK,KAAKA,EAAK,KAAK,KAAK,CAClC,EACAhB,EAAS,UAAU,IAAM,SAASG,EAASvX,EAAI,CAC7C,KAAK,IAAM,KAAK,IAAM,EAAI,KAAK,MAC/B,IAAI0M,EAAO,KACP0L,EAAK,KAAK,IACVQ,EACJ,OAAIrB,EAAU,IACZqB,EAAQ,WAAW,UAAW,CAC5Bpc,EAAG,IAAI,MAAM,SAAS,CAAC,CACzB,EAAG+a,CAAO,GAEZ,KAAK,KAAKa,CAAE,EAAI5b,EAChB,KAAK,KACE4b,EACP,SAAS5b,GAAK,CACPkQ,EAAK,KAAK0L,CAAE,IAGjB,OAAO1L,EAAK,KAAK0L,CAAE,EACnB1L,EAAK,KACDkM,GACF,aAAaA,CAAK,EAEpB5Y,EAAG,MAAM0M,EAAK,KAAM,SAAS,EAC/B,CACF,EACA0K,EAAS,UAAU,MAAQ,UAAW,CACpC,OAAO,KAAK,KAAK,IAAI,EAAE,QAAQ,SAASgB,EAAI,CAC1C,KAAK,KAAKA,CAAE,EAAE,IAAI,MAAM,aAAa,CAAC,CACxC,EAAG,IAAI,CACT,EACA,SAASjB,EAAQ3D,EAAWC,EAAWjU,EAAMua,EAAU,CACrD,KAAK,WAAavG,EAClB,KAAK,WAAaC,EAClB,KAAK,MAAQjU,EACb,KAAK,UAAY,CAAC,CAACua,EACnB,KAAK,SAAWrG,GAAcF,EAAWC,CAAS,CACpD,CACA0D,EAAQ,UAAU,eAAiB,SAAS3T,EAAK,CAC/C,IAAIS,EAAM,IAAIV,EAAIC,CAAG,EACjBoW,EAAM7J,EAAe,MAAM9L,CAAG,EAC9BvD,EAAOwR,EAAY,MAAMjO,CAAG,EAC5BiK,EAAK+F,EAOT,GANIvT,GACFwN,EAAM,KAAK,WAAW,QAAQxN,CAAI,EAClCuT,EAAM,KAAK,SAASvT,EAAO,GAAG,EAAE,MAAMuD,CAAG,GAEzCiK,EAAMoE,EAEJ,CAACrO,EAAI,QAAQ,EACf,MAAM,IAAI,MAAM3F,EAAG,uBAAwBoC,GAAQ,OAAO,CAAC,EAE7D,OAAO,IAAIwV,EAAehI,EAAK0L,EAAK3F,CAAG,CACzC,EACAkD,EAAQ,UAAU,gBAAkB,SAAS3T,EAAK8S,EAAMpI,EAAK,CAC3D,IAAIjK,EAAM,IAAIV,EAAIC,CAAG,EACrBmB,EAAM,kBAAkBoL,EAAe,MAAM9L,CAAG,EAAGqS,EAAK,QAAS,EAAI,EACrE,IAAI0D,EAAW/H,EAAa,MAAMhO,CAAG,EACjCvD,EAAOwN,EAAI,KACf,GAAIxN,EAAM,CACR,IAAI4N,EAAS,KAAK,SAAS5N,GAAQsZ,EAAW,IAAM,IAAI,EAOxD,GANA9L,EAAM,KAAK,WAAW,QAAQxN,CAAI,EAC9BsZ,EACF1D,EAAK,MAAQhI,EAAO,MAAMrK,CAAG,EAE7BqS,EAAK,SAAWhI,EAAO,MAAMrK,CAAG,EAE9B,CAACA,EAAI,QAAQ,EACf,MAAM,IAAI,MAAM3F,EAAG,wBAAyBoC,CAAI,CAAC,CAErD,MACEwN,EAAMoE,CAEV,EACA,SAAS8C,IAAe,CACtB3F,EAAO,UAAU,KAAK,KAAM,CAAE,mBAAoB,EAAK,CAAC,EACxD,KAAK,IAAM,OACX,KAAK,KAAO9K,EAAM,UAAU,CAAC,EAC7B,KAAK,MAAQ,CAAC,EACd,KAAK,GAAG,SAAU,UAAW,CAC3B,KAAK,KAAK,IAAI,CAChB,CAAC,CACH,CACA3G,EAAK,SAASoX,GAAc3F,EAAO,SAAS,EAC5C2F,GAAa,UAAU,WAAa,SAAS5R,EAAK+M,EAAU/T,EAAI,CAC9DgH,EAAMtF,EAAQ,OAAO,CAAC,KAAK,KAAMsF,CAAG,CAAC,EAErC,QADIyW,EACGzW,EAAI,QAAU,GAAKA,EAAI,SAAWyW,EAAczW,EAAI,YAAY,CAAC,GAAK,GAAG,CAC9E,GAAIyW,EACF,KAAK,MAAM,KAAKzW,EAAI,MAAM,EAAGyW,EAAc,CAAC,CAAC,MACxC,CACL,IAAIC,EAAO,KAAK,MAChB,KAAK,MAAQ,CAAC,EACd,KAAK,KAAK,CAAE,GAAI,KAAM,QAASA,CAAK,CAAC,CACvC,CACA1W,EAAMA,EAAI,MAAMyW,EAAc,CAAC,CACjC,CACA,KAAK,KAAOzW,EACZhH,EAAG,CACL,EACA4Y,GAAa,UAAU,OAAS,SAAS5Y,EAAI,CAC3C,GAAI,KAAK,KAAK,QAAU,KAAK,MAAM,OAAQ,CACzC,IAAI0d,EAAO,KAAK,MAAM,MAAM,EAC5BA,EAAK,QAAQ,KAAK,IAAI,EACtB,IAAItT,EAAMuS,GAAW,eAAe,EACpCvS,EAAI,aAAe1I,EAAQ,OAAOgc,CAAI,EAAE,SAAS,EACjD,KAAK,KAAK,QAAStT,CAAG,CACxB,CACApK,EAAG,CACL,EACA,SAASwY,GAAe,CACtBvF,EAAO,UAAU,KAAK,KAAM,CAAE,mBAAoB,EAAK,CAAC,EACxD,KAAK,GAAG,SAAU,UAAW,CAC3B,KAAK,KAAK,IAAI,CAChB,CAAC,CACH,CACAzR,EAAK,SAASgX,EAAcvF,EAAO,SAAS,EAC5CuF,EAAa,UAAU,WAAa,SAAS/U,EAAKsQ,EAAU/T,EAAI,CAC9D,IAAI0d,EAAOja,EAAI,QACXJ,EAAGC,EAAG0D,EACV,IAAK3D,EAAI,EAAGC,EAAIoa,EAAK,OAAQra,EAAIC,EAAGD,IAClC2D,EAAM0W,EAAKra,CAAC,EACZ,KAAK,KAAKsa,GAAU3W,EAAI,MAAM,CAAC,EAC/B,KAAK,KAAKA,CAAG,EAEf,KAAK,KAAK2W,GAAU,CAAC,CAAC,EACtB3d,EAAG,CACL,EACA,SAASmZ,IAAe,CACtBlG,EAAO,UAAU,KAAK,KAAM,CAAE,mBAAoB,EAAK,CAAC,EACxD,KAAK,IAAM,OACX,KAAK,YAAc,EACnB,KAAK,KAAO9K,EAAM,UAAU,CAAC,EAC7B,KAAK,MAAQ,CAAC,EACd,KAAK,GAAG,SAAU,UAAW,CAC3B,KAAK,KAAK,IAAI,CAChB,CAAC,CACH,CACA3G,EAAK,SAAS2X,GAAclG,EAAO,SAAS,EAC5CkG,GAAa,UAAU,WAAa,SAASnS,EAAK+M,EAAU/T,EAAI,CAE9D,IADAgH,EAAMtF,EAAQ,OAAO,CAAC,KAAK,KAAMsF,CAAG,CAAC,IACxB,CACX,GAAI,KAAK,MAAQ,OAAQ,CACvB,GAAIA,EAAI,OAAS,EAAG,CAClB,KAAK,KAAOA,EACZhH,EAAG,EACH,MACF,CACA,KAAK,IAAMgH,EAAI,YAAY,CAAC,EAC5B,KAAK,YAAcA,EAAI,YAAY,CAAC,EACpCA,EAAMA,EAAI,MAAM,CAAC,CACnB,CAEA,QADIyW,EACG,KAAK,aAAezW,EAAI,QAAU,GAAKA,EAAI,SAAWyW,EAAczW,EAAI,YAAY,CAAC,GAAK,GAC/F,KAAK,cACL,KAAK,MAAM,KAAKA,EAAI,MAAM,EAAGyW,EAAc,CAAC,CAAC,EAC7CzW,EAAMA,EAAI,MAAMyW,EAAc,CAAC,EAEjC,GAAI,KAAK,YAAa,CACpB,KAAK,KAAOzW,EACZhH,EAAG,EACH,MACF,KAAO,CACL,IAAIyD,EAAM,CAAE,GAAI,KAAK,IAAK,QAAS,KAAK,KAAM,EAC9C,KAAK,MAAQ,CAAC,EACd,KAAK,IAAM,OACX,KAAK,KAAKA,CAAG,CACf,CACF,CACF,EACA0V,GAAa,UAAU,OAASP,GAAa,UAAU,OACvD,SAASS,IAAe,CACtBpG,EAAO,UAAU,KAAK,KAAM,CAAE,mBAAoB,EAAK,CAAC,EACxD,KAAK,GAAG,SAAU,UAAW,CAC3B,KAAK,KAAK,IAAI,CAChB,CAAC,CACH,CACAzR,EAAK,SAAS6X,GAAcpG,EAAO,SAAS,EAC5CoG,GAAa,UAAU,WAAa,SAAS5V,EAAKsQ,EAAU/T,EAAI,CAC9D,IAAI0d,EAAOja,EAAI,QACXH,EAAIoa,EAAK,OACT1W,EACJA,EAAMmB,EAAM,UAAU,CAAC,EACvBnB,EAAI,aAAavD,EAAI,GAAI,CAAC,EAC1BuD,EAAI,aAAa1D,EAAG,CAAC,EACrB,KAAK,KAAK0D,CAAG,EACb,IAAI3D,EACJ,IAAKA,EAAI,EAAGA,EAAIC,EAAGD,IACjB2D,EAAM0W,EAAKra,CAAC,EACZ,KAAK,KAAKsa,GAAU3W,EAAI,MAAM,CAAC,EAC/B,KAAK,KAAKA,CAAG,EAEfhH,EAAG,CACL,EACA,SAAS2d,GAAUzW,EAAG,CACpB,IAAIF,EAAMmB,EAAM,UAAU,CAAC,EAC3B,OAAAnB,EAAI,aAAaE,CAAC,EACXF,CACT,CACA,SAASiV,GAASvS,EAAM1C,EAAK,CAC3B,IAAIS,EAAM,IAAIV,EAAIC,CAAG,EACjB4W,EAAOlU,EAAK,MAAMjC,CAAG,EACzB,GAAI,CAACA,EAAI,QAAQ,EACf,MAAM,IAAI,MAAM3F,EAAG,eAAgB4H,EAAK,OAAO,CAAC,CAAC,EAEnD,MAAO,CAAE,KAAAkU,EAAM,KAAMnW,EAAI,IAAI,MAAMA,EAAI,GAAG,CAAE,CAC9C,CACA,SAASoM,GAAagK,EAAOC,EAAO,CAClC,OAAOD,EAAM,OAAOC,CAAK,EAAID,EAAQA,EAAM,eAAeC,CAAK,CACjE,CACA,SAAS5G,GAAcF,EAAWC,EAAW,CAC3C,IAAIxT,EAAM,CAAC,EACX,OAAAuT,EAAU,SAAS,QAAQ,SAASnS,EAAG,CACrC,IAAIqC,EAAIrC,EAAE,KACNxC,EAAI4U,EAAU,QAAQ/P,CAAC,EAC3B,GAAI,CACF,GAAI,CAAC7E,EACH,MAAM,IAAI,MAAMP,EAAG,6BAA8BoF,CAAC,CAAC,EAErD,GAAI7E,EAAE,SAAWwC,EAAE,OACjB,MAAM,IAAI,MAAM/C,EAAG,mCAAoCoF,CAAC,CAAC,EAE3DzD,EAAIyD,EAAI,GAAG,EAAI2M,GAAaxR,EAAE,YAAawC,EAAE,WAAW,EACxDpB,EAAIyD,EAAI,GAAG,EAAI2M,GAAahP,EAAE,UAAWxC,EAAE,SAAS,EACpDoB,EAAIyD,EAAI,GAAG,EAAI2M,GAAahP,EAAE,aAAcxC,EAAE,YAAY,CAC5D,OAASmS,EAAO,CACd,MAAMmI,GAAW,wBAAyBnI,CAAK,CACjD,CACF,CAAC,EACM/Q,CACT,CACA,SAAS2U,GAAsBqC,EAAOsD,EAAOhG,EAAKiG,EAAU,CAC1D,OAAO,KAAKD,CAAK,EAAE,QAAQ,SAAS/a,EAAM,CACxC,IAAI4T,EAAOmH,EAAM/a,CAAI,EACjBgU,EAAWC,EACX+G,GACFhH,EAAYe,EACZd,EAAYR,EAAQ,YAAYG,CAAI,IAEpCI,EAAYP,EAAQ,YAAYG,CAAI,EACpCK,EAAYc,GAEd0C,EAAMzX,CAAI,EAAI,IAAI2X,EAAQ3D,EAAWC,EAAWjU,EAAM,EAAI,CAC5D,CAAC,CACH,CACA,SAAS2W,GAAmBc,EAAOuD,EAAU,CAC3C,IAAID,EAAQ,CAAC,EACb,cAAO,KAAKtD,CAAK,EAAE,QAAQ,SAASwD,EAAI,CACtC,IAAIvD,EAAUD,EAAMwD,CAAE,EACtB,GAAIvD,EAAQ,UAAW,CACrB,IAAI3C,EAAMiG,EAAWtD,EAAQ,WAAaA,EAAQ,WAClDqD,EAAME,CAAE,EAAIlG,EAAI,QAClB,CACF,CAAC,EACMgG,CACT,CACA,SAASjD,GAAQjP,EAAK,CACpB,MAAO,CAAC,CAACA,GAAO,OAAO,UAAU,SAAS,KAAKA,CAAG,IAAM,gBAC1D,CACA,SAAS2L,GAAc1T,EAAKC,EAAK,CAC/B,OAAOD,EAAI,GAAG,QAAS,SAASsG,EAAK,CACnCrG,EAAI,KAAK,QAASqG,EAAKtG,CAAG,CAC5B,CAAC,CACH,CACA,SAASoa,GAAQxM,EAAK8C,EAAO,CAC3B,IAAIpK,EAAM,IAAI,MAAMsH,CAAG,EACvB,OAAAtH,EAAI,MAAQoK,EACLpK,CACT,CACA,SAASuS,GAAWwB,EAAS3J,EAAO,CAClC,IAAIpK,EAAM8T,GAAQC,EAAQ,YAAY,EAAE,QAAQ,KAAM,GAAG,EAAG3J,CAAK,EACjE,OAAApK,EAAI,QAAUoK,GAASA,EAAM,QAAUA,EAAM,QAAU2J,EAChD/T,CACT,CACA,SAASuR,GAAmBjK,EAAKjO,EAAKqN,EAAQ,CAC5C,IAAIsN,EAAU,CAAC,EACX/a,EAAGC,EAAG+L,EACV,IAAKhM,EAAI,EAAGC,EAAIwN,EAAO,OAAQzN,EAAIC,EAAGD,IACpCgM,EAAQyB,EAAOzN,CAAC,EAChBgM,EAAM,KAAK,QAAQ5L,EAAI4L,EAAM,IAAI,EAAG,CAAE,UAAA1C,CAAU,CAAC,EAEnD,IAAI0R,EAAaD,EAAQ,IAAI,SAAS5M,EAAM,CAC1C,OAAO1P,EAAG,0BAA2B0P,EAAK,KAAMA,EAAK,MAAOA,EAAK,IAAI,CACvE,CAAC,EAAE,KAAK,IAAI,EACRpH,EAAM,IAAI,MAAMtI,EAAG,UAAW4P,EAAK2M,CAAU,CAAC,EAClD,OAAAjU,EAAI,QAAUgU,EACPhU,EACP,SAASuC,EAAUlI,EAAOoH,EAAKnC,EAAM,CACnC,IAAI4U,EAAO,CAAC,EACR1X,EAAIgB,GAAIrD,GACZ,IAAKqC,EAAK,EAAGgB,GAAKnD,EAAM,OAAQmC,EAAKgB,GAAIhB,IACvCrC,GAAOE,EAAMmC,CAAE,EACX,MAAMrC,EAAI,EACZ+Z,EAAK,KAAK,IAAM/Z,EAAI,EAEpB+Z,EAAK,KAAK,IAAM/Z,GAAO,GAAG,EAG9B6Z,EAAQ,KAAK,CACX,KAAM/O,EAAM,KAAOiP,EAAK,KAAK,EAAE,EAC/B,MAAOzS,EACP,KAAAnC,CACF,CAAC,CACH,CACF,CACA,SAAS8Q,GAAiB+D,EAAO,CAC/B,OAAOA,EAAQpW,EAAM,QAAQoW,CAAK,EAAE,YAAY,CAAC,GAAK,GAAK1I,GAAgB,CAC7E,CACA,SAASiG,GAAcF,EAAI4C,EAAQ,CACjC,OAAQ5C,EAAK4C,IAAW,GAAK3I,KAAkB,CACjD,CACA,SAASoD,GAASpN,EAAK,CACrB,MAAO,CAAC,EAAEA,GAAOA,EAAI,KACvB,CACA,SAAS2N,EAAmBzB,EAAK7T,EAAM,CACrC,IAAIwN,EAAMqG,EAAI,QAAQ7T,CAAI,EAC1B,GAAI,CAACwN,EACH,MAAM,IAAI,MAAM5P,EAAG,sBAAuBoC,CAAI,CAAC,EAEjD,OAAOwN,CACT,CACA,SAAS2J,EAAgBoD,EAAQ,CAC/B,IAAIpO,EAAO,CAACoO,EAAO,KAAMA,EAAO,IAAI,EAChCC,EAAM,CAAC,EACPlK,EACJmK,EAAQ,CAAC,EACT,SAASA,EAAQvb,EAAK,CACpB,IAAIwb,EAAS,GACTxb,EAAMqb,EAAO,IAAI,OACnBA,EAAO,IAAIrb,CAAG,EAAE,MAAMqb,EAAO,IAAKpO,EAAK,OAAO,SAASjG,EAAKpK,EAAI,CAC9D,GAAI4e,EAAQ,CACVH,EAAO,QAAQP,GAAQ,oCAAqC9T,CAAG,CAAC,EAChE,MACF,CAEA,GADAwU,EAAS,GACLxU,GAAOqU,EAAO,OACjBA,EAAO,KAAK,QAAU,QAAUA,EAAO,KAAK,WAAa,QAAS,CACjEjK,EAAQpK,EACRyU,EAAS,EACT,MACF,CACI7e,GACF0e,EAAI,KAAK1e,CAAE,EAEb2e,EAAQ,EAAEvb,CAAG,CACf,CAAC,CAAC,EAEFqb,EAAO,aAAa,MAAMA,EAAO,IAAKpO,EAAK,OAAO,SAASjG,EAAK,CAC9D,GAAIwU,EAAQ,CACVH,EAAO,QAAQP,GAAQ,yBAA0B9T,CAAG,CAAC,EACrD,MACF,CACAwU,EAAS,GACTpK,EAAQpK,EACR,QAAQ,SAASyU,CAAQ,CAC3B,CAAC,CAAC,CAEN,CACA,SAASA,GAAW,CAClB,IAAI7e,EAAK0e,EAAI,IAAI,EACjB,GAAI1e,EAAI,CACN,IAAI4e,EAAS,GACb5e,EAAG,KAAKye,EAAO,IAAKjK,EAAO,SAASpK,EAAK,CACvC,GAAIwU,EAAQ,CACVH,EAAO,QAAQP,GAAQ,qCAAsC9T,CAAG,CAAC,EACjE,MACF,CACAoK,EAAQpK,EACRwU,EAAS,GACTC,EAAS,CACX,CAAC,CACH,MACEJ,EAAO,aAAa,KAAKA,EAAO,IAAKjK,CAAK,CAE9C,CACF,CACArT,EAAO,QAAU,CACf,QAAAwZ,EACA,uBAAAhF,EACA,wBAAAC,EACA,QAAAG,EACA,SAAA6E,EACA,QAAAnE,EACA,iBAAAqB,EACA,QAAS,CACP,aAAAc,GACA,aAAAJ,EACA,aAAAW,GACA,aAAAE,EACF,CACF,CACF,CACF,CAAC,EAGGyF,GAAgB/e,GAAW,CAC7B,iCAAiCmB,EAASC,EAAQ,CAChD,aACA,IAAI4d,EAAKC,GACLnS,EAAOoS,GACX,SAASC,GAAmB,CAC1B,IAAIC,EAAU,CAAC,EACf,OAAO,SAASC,EAAOC,EAAMrf,EAAI,CAE/B,GADAof,EAAQvS,EAAK,QAAQuS,CAAK,EACtBD,EAAQC,CAAK,EAAG,CAClB,QAAQ,SAASpf,CAAE,EACnB,MACF,CACAmf,EAAQC,CAAK,EAAI,GACjBL,EAAG,SAASK,EAAO,CAAE,SAAU,MAAO,EAAGpf,CAAE,CAC7C,CACF,CACA,SAASsf,GAAuB,CAC9B,IAAIH,EAAU,CAAC,EACf,OAAO,SAASC,EAAOC,EAAMrf,EAAI,CAC/Bof,EAAQvS,EAAK,QAAQuS,CAAK,EACtBD,EAAQC,CAAK,EACfpf,EAAG,GAEHmf,EAAQC,CAAK,EAAI,GACjBpf,EAAG,KAAM+e,EAAG,aAAaK,EAAO,CAAE,SAAU,MAAO,CAAC,CAAC,EAEzD,CACF,CACAje,EAAO,QAAU,CACf,iBAAA+d,EACA,qBAAAI,EAEA,WAAYP,EAAG,WACf,aAAcA,EAAG,YACnB,CACF,CACF,CAAC,EAGGQ,GAAgBxf,GAAW,CAC7B,iCAAiCmB,EAASC,EAAQ,CAChD,aACA,IAAIqe,EAAQV,GAAc,EACtB3W,EAAQlH,GAAc,EACtB4L,EAAOoS,GACPzd,EAAOC,GACPK,EAAKN,EAAK,OACVie,EAAY,CACd,KAAM,CAAE,KAAM,MAAO,YAAa,MAAO,EACzC,QAAS,CAAE,KAAM,QAAS,YAAa,SAAU,EACjD,QAAS,CAAE,KAAM,OAAQ,YAAa,aAAc,EACpD,aAAc,CAAE,KAAM,OAAQ,YAAa,kBAAmB,CAChE,EACA,SAASC,EAAiBN,EAAO1c,EAAM1C,EAAI,CACrC,CAACA,GAAM,OAAO0C,GAAQ,aACxB1C,EAAK0C,EACLA,EAAO,QAETA,EAAOA,GAAQ,CAAC,EACXA,EAAK,aACRA,EAAK,WAAa8c,EAAM,iBAAiB,GAE3CG,EAAWP,EAAO,SAAShV,EAAKwV,EAAU,CACxC,GAAIxV,EAAK,CACPpK,EAAGoK,CAAG,EACN,MACF,CACA,GAAI,CAACwV,EAAU,CACb5f,EAAG,IAAI,MAAM,mBAAmB,CAAC,EACjC,MACF,CACA,IAAI6f,EAAUD,EAAS,MACvB,GAAIC,EAAS,CACX,IAAIvb,EAAYwb,GAAkBF,CAAQ,GAAK,GAC/CC,EAAQ,QAAQ,SAASpW,EAAQ,CAC3BA,EAAO,YAAcnF,GACvB,OAAOmF,EAAO,SAElB,CAAC,CACH,CACAzJ,EAAG,KAAM4f,CAAQ,CACnB,CAAC,EACD,SAASD,EAAWI,EAAQC,EAAK,CAC/Btd,EAAK,WAAWqd,EAAQ,MAAO,SAAS3V,EAAKtH,EAAK,CAChD,GAAIsH,EAAK,CACP4V,EAAI5V,CAAG,EACP,MACF,CACA,GAAItH,IAAQ,OAAQ,CAClBkd,EAAI,EACJ,MACF,CACA,GAAI,CACF,IAAIlO,EAAS,IAAImO,EAAOnd,EAAKJ,CAAI,EAC7Be,GAAMqO,EAAO,cAAchP,EAAKJ,CAAI,CAC1C,OAASmW,EAAM,CACbA,EAAK,KAAOkH,EACZC,EAAInH,CAAI,EACR,MACF,CACAqH,EAAazc,GAAI,SAAUA,GAAI,QAASoJ,EAAK,QAAQkT,CAAM,EAAGC,CAAG,CACnE,CAAC,CACH,CACA,SAASE,EAAaN,EAAUT,EAASgB,EAAOH,EAAK,CACnD,IAAII,EAAoB,CAAC,EACzBC,GAAK,EACL,SAASA,IAAO,CACd,IAAIC,EAAOnB,EAAQ,MAAM,EACzB,GAAI,CAACmB,EAAM,CACTF,EAAkB,QAAQ,EAC1B,GAAI,CACFA,EAAkB,QAAQ,SAASG,EAAU,CAC3CC,GAAYZ,EAAUW,CAAQ,CAChC,CAAC,CACH,OAASnW,EAAK,CACZ4V,EAAI5V,CAAG,EACP,MACF,CACA4V,EAAI,KAAMJ,CAAQ,EAClB,MACF,CACA,IAAIa,EAAa5T,EAAK,KAAKsT,EAAOG,EAAK,IAAI,EACvCA,EAAK,OAAS,MAChBX,EAAWc,EAAY,SAASrW,EAAKmW,EAAU,CAC7C,GAAInW,EAAK,CACP4V,EAAI5V,CAAG,EACP,MACF,CACImW,GACFH,EAAkB,KAAKG,CAAQ,EAEjCF,GAAK,CACP,CAAC,EAED3d,EAAK,WAAW+d,EAAYH,EAAK,KAAM,SAASlW,EAAKtH,EAAK,CACxD,GAAIsH,EAAK,CACP4V,EAAI5V,CAAG,EACP,MACF,CACA,OAAQkW,EAAK,KAAM,CACjB,IAAK,WACL,IAAK,SACH,GAAIxd,IAAQ,OAAQ,CAClBud,GAAK,EACL,MACF,CACA,GAAI,CACF,IAAI5c,EAAM,KAAK,MAAMX,CAAG,CAC1B,OAAS+V,EAAM,CACbA,EAAK,KAAO4H,EACZT,EAAInH,CAAI,EACR,MACF,CACA,IAAI0H,EAAWD,EAAK,OAAS,SAAW,CAAE,MAAO,CAAC7c,CAAG,CAAE,EAAIA,EAC3D2c,EAAkB,KAAKG,CAAQ,EAC/BF,GAAK,EACL,OACF,QACEL,EAAI,IAAI,MAAMle,EAAG,0BAA2Bwe,EAAK,IAAI,CAAC,CAAC,CAC3D,CACF,CAAC,CAEL,CACF,CACA,SAASE,GAAYZ,EAAUW,EAAU,CACvC,IAAIV,EAAUU,EAAS,OAAS,CAAC,EACjCV,EAAQ,QAAQ,EAChBA,EAAQ,QAAQ,SAASpW,EAAQ,CAC1BmW,EAAS,QACZA,EAAS,MAAQ,CAAC,GAEhBnW,EAAO,YAAc,SACvBA,EAAO,UAAYqW,GAAkBS,CAAQ,GAAK,IAEpDX,EAAS,MAAM,QAAQnW,CAAM,CAC/B,CAAC,EACD,OAAO,KAAK8W,EAAS,UAAY,CAAC,CAAC,EAAE,QAAQ,SAASrc,EAAM,CAI1D,GAHK0b,EAAS,WACZA,EAAS,SAAW,CAAC,GAEnBA,EAAS,SAAS1b,CAAI,EACxB,MAAM,IAAI,MAAMpC,EAAG,wBAAyBoC,CAAI,CAAC,EAEnD0b,EAAS,SAAS1b,CAAI,EAAIqc,EAAS,SAASrc,CAAI,CAClD,CAAC,CACH,CACF,CACA,SAASwc,EAAK5d,EAAK,CACjB,IAAI2G,EACJ,GAAI,OAAO3G,GAAO,UAAY,CAACA,EAAI,QAAQ+J,EAAK,GAAG,GAAK2S,EAAM,WAAW1c,CAAG,EAAG,CAC7E,IAAI6d,EAAWnB,EAAM,aAAa1c,EAAK,CAAE,SAAU,MAAO,CAAC,EAC3D,GAAI,CACF,OAAO,KAAK,MAAM6d,CAAQ,CAC5B,MAAc,CACZ,IAAIje,EAAO,CAAE,WAAY8c,EAAM,qBAAqB,CAAE,EACtDE,EAAiB5c,EAAKJ,EAAM,SAASmW,GAAM+H,EAAgB,CACzDnX,EAASoP,GAAO8H,EAAWC,CAC7B,CAAC,CACH,CACF,MACEnX,EAAS3G,EAEX,GAAI,OAAO2G,GAAU,UAAYA,IAAW,OAC1C,OAAOA,EAET,GAAI,CACF,OAAO,KAAK,MAAMA,CAAM,CAC1B,MAAc,CACZ,GAAI,CACF,OAAOwW,EAAO,aAAaxW,CAAM,CACnC,MAAe,CACb,GAAI,CACF,OAAOwW,EAAO,WAAWxW,CAAM,CACjC,MAAe,CACb,OAAOA,CACT,CACF,CACF,CACF,CACA,SAASwW,EAAOnd,EAAKJ,EAAM,CACzBA,EAAOA,GAAQ,CAAC,EAChB,KAAK,IAAM,IAAIme,EAAU/d,CAAG,EAC5B,KAAK,iBAAmB,CAAC,CAACJ,EAAK,gBAC/B,KAAK,cAAgB,CAACA,EAAK,qBAC3B,KAAK,UAAYA,EAAK,UAAY+c,CACpC,CACAQ,EAAO,aAAe,SAASnd,EAAKJ,EAAM,CACxC,IAAIoP,EAAS,IAAImO,EAAOnd,EAAKJ,CAAI,EAC7Bkd,EAAW9N,EAAO,cAAc,EACpC,GAAI8N,EAAS,QAAQ,OACnB,MAAM,IAAI,MAAM,qBAAqB,EAEvC,OAAOA,EAAS,QAClB,EACAK,EAAO,WAAa,SAASnd,EAAKJ,EAAM,CACtC,IAAIoP,EAAS,IAAImO,EAAOnd,EAAKJ,CAAI,EAC7B0T,EAAMtE,EAAO,aAAa,EAC1BrI,EAASqI,EAAO,UAAUsE,IAAQ,OAAS,CAAC,EAAI,CAAE,IAAAA,CAAI,EAAG,EAAI,EACjE,OAAAtE,EAAO,IAAI,KAAK,CAAE,GAAI,OAAQ,CAAC,EACxBrI,CACT,EACAwW,EAAO,UAAU,cAAgB,UAAW,CAC1C,IAAIa,EAAK,KAAK,IACV3B,EAAU,CAAC,EACX7U,EAAQ,CAAC,EACToM,EAAW,CAAC,EACZtT,EACJ,KAAK,aAAa+b,CAAO,EACzB,IAAIyB,GAAiB,CAAC,EAClBG,EAAkB,KAAK,aAAa,EAUxC,IATIA,IAAoB,SACtBH,GAAe,IAAMG,GAEvB,KAAK,iBAAiBH,EAAc,EACpCE,EAAG,KAAK,CAAE,IAAK,UAAW,CAAC,EACtBA,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,IACrCF,GAAe,SAAWE,EAAG,KAAK,CAAE,GAAI,MAAO,CAAC,EAAE,IAClDA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,GAEf,CAACA,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,GACxC,GAAI,CAAC,KAAK,aAAa3B,CAAO,EAAG,CAC/B,IAAI6B,EAAU,KAAK,aAAa,EAC5BpJ,EAAa,KAAK,UAAU,CAAC,EAAG,EAAI,EACpCqJ,EAAa,KAAK,aAAa9B,EAAS,EAAI,EAC5C+B,EAAU,OAEd,GADA9d,EAAM0d,EAAG,IACL,CAACG,IAAeC,EAAU,KAAK,aAAatJ,CAAU,GAAI,CACxDoJ,IAAY,QAAUE,EAAQ,OAAO,MAAQ,SAC/CA,EAAQ,OAAO,IAAMF,GAEvB,IAAI7K,GAAS,GAYb,IAXI+K,EAAQ,OAAO,WAAa,QAAUA,EAAQ,OAAO,SAAS,OAAS,UACzE/K,GAAS,CAAC,KAAK,kBAAoB,CAAC+K,EAAQ,OAAO,OAC/CA,EAAQ,OAAO,WAAa,OAC9BA,EAAQ,OAAO,SAAW,OAE1BA,EAAQ,OAAO,SAAS,KAAO,QAG/B/K,KACF+K,EAAQ,OAAO,SAAS,EAAI,IAE1BxK,EAASwK,EAAQ,IAAI,EACvB,MAAM,IAAI,MAAMpf,EAAG,wBAAyBof,EAAQ,IAAI,CAAC,EAE3DxK,EAASwK,EAAQ,IAAI,EAAIA,EAAQ,MACnC,MACMF,IACE,OAAOpJ,GAAc,SACvBA,EAAa,CAAE,IAAKoJ,EAAS,KAAMpJ,CAAW,EACrCA,EAAW,MAAQ,SAC5BA,EAAW,IAAMoJ,IAGrB1W,EAAM,KAAKsN,CAAU,EACrBkJ,EAAG,IAAM1d,EACT0d,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,EAEpCE,EAAU,MACZ,CAEF,OAAAF,EAAG,KAAK,CAAE,GAAI,OAAQ,CAAC,EACnBxW,EAAM,SACRsW,GAAe,MAAQtW,GAErB,OAAO,KAAKoM,CAAQ,EAAE,SACxBkK,GAAe,SAAWlK,GAErB,CAAE,SAAUkK,GAAgB,QAAAzB,CAAQ,CAC7C,EACAc,EAAO,UAAU,iBAAmB,SAASxW,EAAQ,CAEnD,QADIqX,EAAK,KAAK,IACPA,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,GAAG,CAE1C,QADIrc,EAAQ,CAAC,EACN,CAACqc,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,GACxCrc,EAAM,KAAKqc,EAAG,KAAK,EAAE,GAAG,EAE1BrX,EAAOhF,EAAM,KAAK,EAAE,CAAC,EAAIqc,EAAG,KAAK,CAAE,GAAI,MAAO,CAAC,EAAE,IACjDA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,CACtB,CACF,EACAb,EAAO,UAAU,aAAe,SAASkB,EAAgB,CACvD,IAAIL,EAAK,KAAK,IACVrX,EAAS,CAAE,QAAS,CAAC,EAAG,SAAU0X,CAAe,EACrD,KAAK,iBAAiB1X,CAAM,EAC5B,IAAIvF,EAAO4c,EAAG,KAAK,EAAE,IACrB,GAAIA,EAAG,KAAK,EAAE,MAAQ,IAGtB,IAAI,CAACA,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,EACrC,GACErX,EAAO,QAAQ,KAAK,KAAK,WAAW,CAAC,QAC9B,CAACqX,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,GAAKA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,GAEvE,IAAIM,EAAQN,EAAG,KAAK,EACpB,OAAQM,EAAM,IAAK,CACjB,IAAK,SACH3X,EAAO,OAAS,CAAC,EACjB,GACEA,EAAO,OAAO,KAAK,KAAK,UAAU,CAAC,QAC5B,CAACqX,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,GAAKA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,GACrE,MACF,IAAK,SACHrX,EAAO,SAAS,EAAI,GACpBqX,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,EACpB,MACF,IAAK,IACH,MACF,QACE,MAAMA,EAAG,MAAM,yBAA0BM,CAAK,CAClD,CACA,MAAO,CAAE,KAAAld,EAAM,OAAAuF,CAAO,EACxB,EACAwW,EAAO,UAAU,aAAe,UAAW,CACzC,IAAImB,EAAQ,KAAK,IAAI,KAAK,CAAE,GAAI,UAAW,YAAa,GAAM,OAAQ,EAAK,CAAC,EAC5E,GAAIA,EACF,OAAOA,EAAM,GAEjB,EACAnB,EAAO,UAAU,WAAa,UAAW,CACvC,IAAIa,EAAK,KAAK,IACVE,EAAU,KAAK,aAAa,EAC5BvX,EAAS,CAAE,KAAM,KAAK,UAAU,CAAE,EACtC,OAAIuX,IAAY,QAAUvX,EAAO,MAAQ,SACvCA,EAAO,IAAMuX,GAEf,KAAK,iBAAiBvX,CAAM,EAC5BA,EAAO,KAAOqX,EAAG,KAAK,CAAE,GAAI,MAAO,CAAC,EAAE,IAClCA,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,IACpCrX,EAAO,QAAaqX,EAAG,KAAK,CAAE,GAAI,MAAO,CAAC,EAAE,KAEvCrX,CACT,EACAwW,EAAO,UAAU,UAAY,SAASxW,EAAQ4X,EAAK,CAIjD,OAHA5X,EAASA,GAAU,CAAC,EACpB,KAAK,iBAAiBA,CAAM,EAC5BA,EAAO,KAAO,KAAK,IAAI,KAAK,CAAE,GAAI,MAAO,CAAC,EAAE,IACpCA,EAAO,KAAM,CACnB,IAAK,SACL,IAAK,QACH,OAAO,KAAK,YAAYA,CAAM,EAChC,IAAK,QACH,OAAO,KAAK,WAAWA,CAAM,EAC/B,IAAK,OACH,OAAO,KAAK,UAAUA,EAAQ4X,CAAG,EACnC,IAAK,MACH,OAAO,KAAK,SAAS5X,CAAM,EAC7B,IAAK,QACH,OAAO,KAAK,WAAWA,CAAM,EAC/B,IAAK,QACH,GAAI,OAAO,KAAKA,CAAM,EAAE,OAAS,EAC/B,MAAM,IAAI,MAAM,qCAAqC,EAEvD,OAAO,KAAK,WAAW,EACzB,QACE,IAAI6X,EAAM,KAAK,UAAU7X,EAAO,IAAI,EACpC,OAAI6X,IACF,OAAO7X,EAAO,KACdtB,EAAM,kBAAkBmZ,EAAK7X,CAAM,GAE9B,OAAO,KAAKA,CAAM,EAAE,OAAS,EAAIA,EAASA,EAAO,IAC5D,CACF,EACAwW,EAAO,UAAU,WAAa,SAASxW,EAAQ,CAC7C,IAAIqX,EAAK,KAAK,IACd,OAAKA,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,IACrCrX,EAAO,KAAOqX,EAAG,KAAK,CAAE,GAAI,MAAO,CAAC,EAAE,IACtCA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,GAEtBrX,EAAO,KAAO,SAASqX,EAAG,KAAK,CAAE,GAAI,QAAS,CAAC,EAAE,GAAG,EACpDA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,EACbrX,CACT,EACAwW,EAAO,UAAU,SAAW,SAASxW,EAAQ,CAC3C,IAAIqX,EAAK,KAAK,IACVS,EAAS,KAAK,cACdC,EAAeV,EAAG,KAAK,CAAE,IAAK,IAAK,OAAAS,CAAO,CAAC,IAAM,OACrD,OAAA9X,EAAO,OAAS,KAAK,UAAU,EAC/BqX,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQU,CAAa,CAAC,EACnC/X,CACT,EACAwW,EAAO,UAAU,WAAa,SAASxW,EAAQ,CAC7C,IAAIqX,EAAK,KAAK,IACVS,EAAS,KAAK,cACdC,EAAeV,EAAG,KAAK,CAAE,IAAK,IAAK,OAAAS,CAAO,CAAC,IAAM,OACrD,OAAA9X,EAAO,MAAQ,KAAK,UAAU,EAC9BqX,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQU,CAAa,CAAC,EACnC/X,CACT,EACAwW,EAAO,UAAU,UAAY,SAASxW,EAAQ4X,EAAK,CACjD,IAAIP,EAAK,KAAK,IACTA,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,IACrCrX,EAAO,KAAOqX,EAAG,KAAK,CAAE,GAAI,MAAO,CAAC,EAAE,IACtCA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,GAEtBrX,EAAO,QAAU,CAAC,EAClB,GACEA,EAAO,QAAQ,KAAKqX,EAAG,KAAK,EAAE,GAAG,QAC1B,CAACA,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,GAAKA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,GACrE,OAAIO,GAAOP,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,IAC3CrX,EAAO,QAAUqX,EAAG,KAAK,EAAE,IAC3BA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,GAEfrX,CACT,EACAwW,EAAO,UAAU,WAAa,UAAW,CACvC,IAAIa,EAAK,KAAK,IACV5d,EAAM,CAAC,EACX4d,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,EACpB,GACE5d,EAAI,KAAK,KAAK,UAAU,CAAC,QAClB,CAAC4d,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,GAAKA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,GACrE,OAAO5d,CACT,EACA+c,EAAO,UAAU,YAAc,SAASxW,EAAQ,CAC9C,IAAIqX,EAAK,KAAK,IAMd,IALKA,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,IACrCrX,EAAO,KAAOqX,EAAG,KAAK,CAAE,GAAI,MAAO,CAAC,EAAE,IACtCA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,GAEtBrX,EAAO,OAAS,CAAC,EACV,CAACqX,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,GACxCrX,EAAO,OAAO,KAAK,KAAK,WAAW,CAAC,EACpCqX,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,EAEtB,OAAOrX,CACT,EACAwW,EAAO,UAAU,aAAe,SAASd,EAASsC,EAAc,CAI9D,QAHIX,EAAK,KAAK,IACVG,EAAa,EACb7d,EAAM0d,EAAG,IACNA,EAAG,KAAK,CAAE,IAAK,SAAU,OAAQ,EAAK,CAAC,GAAG,CAC/C,GAAI,CAACG,GAAcQ,GAAgBX,EAAG,KAAK,CAAE,IAAK,IAAK,OAAQ,EAAK,CAAC,EAAG,CACtEA,EAAG,IAAM1d,EACT,MACF,CACA,IAAIic,GAAOyB,EAAG,KAAK,CAAE,GAAI,MAAO,CAAC,EAAE,IAC/BY,EAAQ,KAAK,MAAMZ,EAAG,KAAK,CAAE,GAAI,QAAS,CAAC,EAAE,GAAG,EACpDA,EAAG,KAAK,CAAE,IAAK,GAAI,CAAC,EACpB3B,EAAQ,KAAK,CAAE,KAAAE,GAAM,KAAMqC,CAAM,CAAC,EAClCT,GACF,CACA,OAAOA,CACT,EACA,SAASJ,EAAU/d,EAAK,CACtB,KAAK,KAAOA,EACZ,KAAK,IAAM,CACb,CACA+d,EAAU,UAAU,KAAO,SAASne,EAAM,CACxC,IAAI0e,EAAQ,CAAE,IAAK,KAAK,IAAK,GAAI,OAAQ,IAAK,MAAO,EACjDJ,EAAU,KAAK,MAAMte,GAAQA,EAAK,WAAW,EACjD,GAAI,OAAOse,GAAW,SACpBI,EAAM,GAAK,UACXA,EAAM,IAAMJ,MACP,CACL,IAAI5d,EAAM,KAAK,IACXN,EAAM,KAAK,KACX+B,GAAI/B,EAAI,OAAOM,CAAG,EACtB,GAAI,CAACyB,GACHuc,EAAM,GAAK,gBAEP1e,GAAQA,EAAK,KAAO,QACtB0e,EAAM,GAAK,OACX,KAAK,IAAM,KAAK,WAAW,GAClBvc,KAAM,KACfuc,EAAM,GAAK,SACX,KAAK,IAAM,KAAK,aAAa,GACpB,QAAQ,KAAKvc,EAAC,GACvBuc,EAAM,GAAK,SACX,KAAK,IAAM,KAAK,OAAO,OAAO,GACrB,cAAc,KAAKvc,EAAC,GAC7Buc,EAAM,GAAK,OACX,KAAK,IAAM,KAAK,OAAO,gBAAgB,IAEvCA,EAAM,GAAK,WACX,KAAK,IAAMhe,EAAM,GAEnBge,EAAM,IAAMte,EAAI,MAAMM,EAAK,KAAK,GAAG,EAC/Bge,EAAM,KAAO,OACf,GAAI,CACFA,EAAM,IAAM,KAAK,MAAMA,EAAM,GAAG,CAClC,MAAe,CACb,MAAM,KAAK,MAAM,eAAgBA,CAAK,CACxC,MACSA,EAAM,KAAO,SACtBA,EAAM,IAAMA,EAAM,IAAI,QAAQ,KAAM,EAAE,EAG5C,CACA,IAAIhX,EAMJ,GALI1H,GAAQA,EAAK,IAAMA,EAAK,KAAO0e,EAAM,GACvChX,EAAM,KAAK,MAAMtI,EAAG,iBAAkBY,EAAK,EAAE,EAAG0e,CAAK,EAC5C1e,GAAQA,EAAK,KAAOA,EAAK,MAAQ0e,EAAM,MAChDhX,EAAM,KAAK,MAAMtI,EAAG,oBAAqBY,EAAK,GAAG,EAAG0e,CAAK,GAEtDhX,EAEE,GAAI1H,GAAQA,EAAK,OAAQ,CAC9B,KAAK,IAAM0e,EAAM,IACjB,MACF,KACE,OAAMhX,MALN,QAAOgX,CAOX,EACAP,EAAU,UAAU,MAAQ,SAASc,EAAQC,EAAS,CACpD,IAAIC,EAAU,OAAOD,GAAW,SAC5Bxe,EAAMye,EAAUD,EAAQ,IAAMA,EAC9B9e,EAAM,KAAK,KACXgf,GAAU,EACVC,EAAY,EACZ1e,EACJ,IAAKA,EAAI,EAAGA,EAAID,EAAKC,IACfP,EAAI,OAAOO,CAAC,IAAM;AAAA,IACpBye,KACAC,EAAY1e,GAGhB,IAAIqO,EAAMmQ,EAAU/f,EAAG,uBAAwB8f,EAASD,CAAM,EAAIA,EAC9DvX,EAAM,IAAI,MAAMsH,CAAG,EACvB,OAAAtH,EAAI,MAAQyX,EAAUD,EAAU,OAChCxX,EAAI,QAAU0X,GACd1X,EAAI,OAAShH,EAAM2e,EACZ3X,CACT,EACAyW,EAAU,UAAU,MAAQ,SAASmB,EAAa,CAIhD,QAHIlf,EAAM,KAAK,KACXmf,EAAY,GACZ7e,EAAKyB,GACDA,EAAI/B,EAAI,OAAO,KAAK,GAAG,IAAM,KAAK,KAAK+B,CAAC,GAC9C,KAAK,MAGP,GADAzB,EAAM,KAAK,IACPyB,IAAM,IACR,OAAQ/B,EAAI,OAAO,KAAK,IAAM,CAAC,EAAG,CAChC,IAAK,IAEH,IADA,KAAK,KAAO,GACJ+B,EAAI/B,EAAI,OAAO,KAAK,GAAG,IAAM+B,IAAM;AAAA,GACzC,KAAK,MAEP,OAAO,KAAK,MAAMmd,CAAW,EAC/B,IAAK,IAKH,IAJA,KAAK,KAAO,EACRlf,EAAI,OAAO,KAAK,GAAG,IAAM,MAC3Bmf,EAAY,IAEPpd,EAAI/B,EAAI,OAAO,KAAK,KAAK,GAC9B,GAAI+B,IAAM,KAAO/B,EAAI,OAAO,KAAK,GAAG,IAAM,IAExC,OADA,KAAK,MACDmf,GAAaD,EACRE,EAAepf,EAAI,MAAMM,EAAM,EAAG,KAAK,IAAM,CAAC,CAAC,EAEjD,KAAK,MAAM4e,CAAW,EAGjC,MAAM,KAAK,MAAM,uBAAwB5e,CAAG,CAChD,CAEJ,EACAyd,EAAU,UAAU,OAAS,SAASsB,EAAK,CAGzC,QAFI/e,EAAM,KAAK,IACXN,EAAM,KAAK,KACRqf,EAAI,KAAKrf,EAAI,OAAOM,CAAG,CAAC,GAC7BA,IAEF,OAAOA,CACT,EACAyd,EAAU,UAAU,aAAe,UAAW,CAI5C,QAHIzd,EAAM,KAAK,IAAM,EACjBN,EAAM,KAAK,KACX+B,EACGA,EAAI/B,EAAI,OAAOM,CAAG,GAAG,CAC1B,GAAIyB,IAAM,IACR,OAAOzB,EAAM,EAEXyB,IAAM,KACRzB,GAAO,EAEPA,GAEJ,CACA,MAAM,KAAK,MAAM,sBAAuBA,EAAM,CAAC,CACjD,EACAyd,EAAU,UAAU,WAAa,UAAW,CAC1C,IAAIzd,EAAM+E,EAAM,QAAQ,KAAK,KAAM,KAAK,GAAG,EAC3C,GAAI/E,EAAM,EACR,MAAM,KAAK,MAAM,eAAgBA,CAAG,EAEtC,OAAOA,CACT,EACA,SAAS8e,EAAepf,EAAK,CAI3B,QAHIsf,EAAQtf,EAAI,QAAQ,mBAAoB,EAAE,EAAE,MAAM;AAAA,CAAI,EAAE,IAAI,SAASuf,EAAMhf,EAAG,CAChF,OAAOA,EAAIgf,EAAK,QAAQ,YAAa,EAAE,EAAIA,CAC7C,CAAC,EACMD,EAAM,QAAU,CAACA,EAAM,CAAC,GAC7BA,EAAM,MAAM,EAEd,KAAOA,EAAM,QAAU,CAACA,EAAMA,EAAM,OAAS,CAAC,GAC5CA,EAAM,IAAI,EAEZ,OAAOA,EAAM,KAAK;AAAA,CAAI,CACxB,CACA,SAAStC,GAAkBF,EAAU,CACnC,GAAIA,EAAS,UACX,OAAOA,EAAS,UAElB,IAAIjb,EAAQ,gBAAgB,KAAKib,EAAS,QAAQ,EAClD,OAAOjb,EAAQA,EAAM,CAAC,EAAI,MAC5B,CACAxD,EAAO,QAAU,CACf,UAAA0f,EACA,iBAAAnB,EACA,KAAAgB,EACA,aAAcT,EAAO,aACrB,WAAYA,EAAO,UACrB,CACF,CACF,CAAC,EAGGqC,GAAcviB,GAAW,CAC3B,iCAAiCmB,EAASC,EAAQ,CAChD,aACA,IAAIohB,EAAavP,GAAmB,EAChCwP,EAAWlN,GAAiB,EAC5BmN,EAAQlD,GAAc,EACtBjV,EAAQpC,GAAc,EACtBC,EAAQlH,GAAc,EACtBG,EAASC,GACT0d,EAAKC,GACLxd,EAAOC,GACPC,EAAUN,EAAO,OACrB,SAASshB,EAAO7W,EAAKnJ,EAAM,CACzB,IAAIigB,EAAmBF,EAAM,KAAK5W,CAAG,EACrC,OAAO8W,EAAiB,SAAWH,EAAS,QAAQ,YAAYG,EAAkBjgB,CAAI,EAAI4H,EAAM,KAAK,UAAUqY,EAAkBjgB,CAAI,CACvI,CACA,SAASkgB,EAAkB/V,EAAMnK,EAAM,CACrCA,EAAOA,GAAQ,CAAC,EAChB,IAAImgB,EAASngB,EAAK,SAAW,OAAS,GAAO,CAAC,CAACA,EAAK,OAChDV,EAAO,KAAK,IAAIU,EAAK,MAAQ,KAAM,CAAC,EACpCsE,GAAMmB,EAAM,UAAUnG,CAAI,EAC1B8gB,EAAK/D,EAAG,SAASlS,EAAM,GAAG,EAC9B,GAAI,CACF,IAAIzJ,EAAM2b,EAAG,SAAS+D,EAAI9b,GAAK,EAAGhF,CAAI,EACtC,GAAIoB,EAAM,GAAK,CAACmf,EAAW,YAAY,OAAOvb,GAAI,MAAM,EAAG,CAAC,CAAC,EAC3D,OAAO,KAET,IAAIS,EAAM,IAAIU,EAAM,IAAInB,EAAG,EACvBiN,EAAS,KACb,GACEA,EAASsO,EAAW,YAAY,MAAM9a,CAAG,QAClC,CAACsb,GAAQ,GAClB,GAAIF,IAAW,GAAO,CACpB,IAAI9N,EAAOd,EAAO,KAClBc,EAAK,aAAa,EAAI,KAAK,MAAMA,EAAK,aAAa,EAAE,SAAS,CAAC,EAC3DA,EAAK,YAAY,IAAM,SACzBA,EAAK,YAAY,EAAIA,EAAK,YAAY,EAAE,SAAS,EAErD,CACA,OAAOd,CACT,QAAE,CACA8K,EAAG,UAAU+D,CAAE,CACjB,CACA,SAASC,IAAU,CACjB,GAAItb,EAAI,QAAQ,EACd,MAAO,GAET,IAAIhC,EAAM,EAAIgC,EAAI,IAAI,OAClBsE,EAAO5D,EAAM,UAAU1C,CAAG,EAC9B,OAAAA,EAAMsZ,EAAG,SAAS+D,EAAI/W,EAAM,EAAGtG,CAAG,EAClCgC,EAAI,IAAM/F,EAAQ,OAAO,CAAC+F,EAAI,IAAKsE,CAAI,CAAC,EACxCtE,EAAI,IAAM,EACH,EACT,CACF,CACA,SAASub,GAAkBnW,EAAMnK,EAAM,CACrC,OAAOqc,EAAG,iBAAiBlS,CAAI,EAAE,KAAK,IAAI0V,EAAW,QAAQ,aAAa7f,CAAI,CAAC,CACjF,CACA,SAASugB,EAAkBpW,EAAMpD,EAAQ/G,EAAM,CAC7C,IAAI0W,EAAU,IAAImJ,EAAW,QAAQ,aAAa9Y,EAAQ/G,CAAI,EAC9D,OAAA0W,EAAQ,KAAK2F,EAAG,kBAAkBlS,EAAM,CAAE,gBAAiB,QAAS,CAAC,CAAC,EAC/DuM,CACT,CACAjY,EAAO,QAAU,CACf,QAASqhB,EAAS,QAClB,KAAMlY,EAAM,KACZ,iBAAkBmY,EAAM,iBACxB,kBAAAO,GACA,kBAAAC,EACA,iBAAkBT,EAAS,iBAC3B,kBAAAI,EACA,MAAOF,EACP,aAAcD,EAAM,aACpB,WAAYA,EAAM,WAClB,QAASF,EAAW,QACpB,MAAOjY,EAAM,SAEb,SAAUkY,EAAS,QACnB,SAAUhhB,EAAK,UACbihB,EAAM,iBACN,gCACF,EACA,QAASjhB,EAAK,UACZ8I,EAAM,KAAK,SACX,4BACF,EACA,MAAO9I,EAAK,UACV8I,EAAM,KAAK,SACX,6BACF,CACF,CACF,CACF,CAAC,EAGG4Y,GAAI,mBACJC,GAAI,eACJC,GAAI,KACJC,GAAI,IACJC,GAAI,mBACJC,GAAI,2BACJC,GAAI,kBACJC,GAAI,mBACJC,GAAI,CAAC,cAAe,kBAAmB,eAAgB,UAAU,EACjEC,GAAI,uBACJC,GAAI,aACJC,GAAI,OACJC,GAAI,gBACJC,GAAI,eACJC,GAAI,iBACJC,GAAI,OACJC,GAAI,gBACJC,GAAI,yBACJC,GAAK,GAAGD,EAAC,yCACTE,GAAK,GAAGF,EAAC,6CACTG,GAAK,GAAGH,EAAC,sCACTI,GAAK,GAAGJ,EAAC,wCACTK,GAAI,GAAGL,EAAC,iCACRM,GAAI,GAAGN,EAAC,sCACRO,GAAI,GAAGP,EAAC,kCACRQ,GAAI,GAAGR,EAAC,8DACRS,GAAI,GAAGT,EAAC,kCACRU,GAAI,GAAGV,EAAC,0BACRW,GAAI,GAAGX,EAAC,qCACRY,GAAI,GAAGZ,EAAC,6BACRa,GAAI,OAAO,aAAe,KAAM,QAAO,aAAa,GAAG,WACvDC,GAAI,OAAO,aAAe,KAAM,QAAO,aAAa,GAAG,WAC3D,OAAOD,GAAI,KAAO,OAAOC,GAAI,KAAO,QAAQ,MAAM,iKAAiK,EACnN,IAAIC,GAAK,CAAE,SAAU,EAAK,EACtBC,GAAMC,GAAM,IAAIA,EAAE,WAAW,CAAC,EAAE,SAAS,EAAE,EAAE,YAAY,CAAC,GAC1DC,GAAKD,GAAM,mBAAmBA,CAAC,EAAE,QAAQ,WAAYD,EAAE,EACvDG,GAAKF,GAAMC,GAAED,CAAC,EAAE,QAAQ,OAAQ,GAAG,EACnCG,GAAI,KAAM,CACZ,YAAY,CAAE,YAAaC,EAAG,gBAAiB7Z,EAAG,SAAU8Z,EAAG,WAAYve,EAAG,OAAQiJ,EAAI,OAAQ,sBAAuB9M,EAAI,QAAS,oBAAqBwC,EAAI,OAAQ,OAAQhB,EAAI,MAAO,EAAG,CAC3L,KAAK,cAAgB,IAAM,KAAK,WAAY,KAAK,cAAiBxC,GAAM,CACtE,KAAK,WAAaA,CACpB,EAAG,KAAK,UAAY,IAAM,KAAK,OAAQ,KAAK,UAAaA,GAAM,CAC7D,KAAK,OAASA,CAChB,EAAG,KAAK,YAAc,IAAM,KAAK,SAAU,KAAK,YAAeA,GAAM,CACnE,KAAK,SAAWA,CAClB,EAAG,KAAK,yBAA2B,IAAM,KAAK,sBAAuB,KAAK,yBAA4BA,GAAM,CAC1G,KAAK,sBAAwBA,CAC/B,EAAG,KAAK,aAAgBA,GAAMqjB,GAAErjB,CAAC,EAAG,KAAK,SAAW,KAAO,CAAE,YAAa,KAAK,YAAa,gBAAiB,KAAK,gBAAiB,OAAQ,KAAK,OAAQ,OAAQ,KAAK,WAAY,SAAU,KAAK,SAAU,sBAAuB,KAAK,sBAAuB,oBAAqB,KAAK,oBAAqB,OAAQ,KAAK,MAAO,GAAI,KAAK,SAAYA,GAAM,CACzV,KAAK,2BAA2BA,EAAE,YAAaA,EAAE,gBAAiBA,EAAE,WAAYA,EAAE,QAAQ,EAAG,KAAK,YAAcA,EAAE,YAAa,KAAK,gBAAkBA,EAAE,gBAAiB,KAAK,OAASA,EAAE,QAAU,OAAQ,KAAK,WAAaA,EAAE,WAAY,KAAK,SAAWA,EAAE,SAAU,KAAK,sBAAwBA,EAAE,uBAAyB,QAAS,KAAK,oBAAsBA,EAAE,oBAAqB,KAAK,OAASA,EAAE,MAC5Y,EAAG,KAAK,2BAA2BmjB,EAAG7Z,EAAG8Z,EAAGve,CAAC,EAAG,KAAK,YAAcse,EAAG,KAAK,gBAAkB7Z,EAAG,KAAK,SAAW8Z,EAAG,KAAK,WAAave,EAAG,KAAK,OAASiJ,EAAG,KAAK,sBAAwB9M,EAAG,KAAK,oBAAsBwC,EAAG,KAAK,OAAShB,CACvO,CACA,2BAA2B2gB,EAAG7Z,EAAG8Z,EAAGve,EAAG,CACrC,GAAI,OAAOse,GAAK,UAAYA,EAAE,KAAK,EAAE,SAAW,EAAG,MAAM,IAAI,UAAUpB,EAAE,EACzE,GAAI,OAAOzY,GAAK,UAAYA,EAAE,KAAK,EAAE,SAAW,EAAG,MAAM,IAAI,UAAU0Y,EAAE,EACzE,GAAI,OAAOoB,GAAK,UAAYA,EAAE,KAAK,EAAE,SAAW,EAAG,MAAM,IAAI,UAAUnB,EAAE,EACzE,GAAI,OAAOpd,GAAK,UAAYA,EAAE,KAAK,EAAE,SAAW,EAAG,MAAM,IAAI,UAAUqd,EAAE,CAC3E,CACA,qBAAqBiB,EAAG,CACtB,GAAIA,IAAM,OAASA,IAAM,OAAQ,MAAM,KAAK,KAAK,QAAS,GAAGrB,EAAC,mCAAmC,EAAG,IAAI,MAAM,mCAAmC,CACnJ,CACA,UAAUqB,EAAG,CACX,GAAI,OAAOA,GAAK,UAAYA,EAAE,KAAK,EAAE,SAAW,EAAG,MAAM,KAAK,KAAK,QAAShB,EAAC,EAAG,IAAI,UAAUA,EAAC,CACjG,CACA,gBAAgBgB,EAAG,CACjB,GAAI,OAAOA,GAAK,UAAYA,EAAE,KAAK,EAAE,SAAW,EAAG,MAAM,KAAK,KAAK,QAAST,EAAC,EAAG,IAAI,UAAUA,EAAC,CACjG,CACA,aAAaS,EAAG,CACd,GAAI,OAAOA,GAAK,SAAU,MAAM,KAAK,KAAK,QAASX,EAAC,EAAG,IAAI,UAAUA,EAAC,CACxE,CACA,cAAcW,EAAG,CACf,GAAI,OAAOA,GAAK,UAAYA,GAAK,EAAG,MAAM,KAAK,KAAK,QAASV,EAAC,EAAG,IAAI,UAAUA,EAAC,CAClF,CACA,WAAWU,EAAG,CACZ,GAAI,OAAOA,GAAK,SAAU,MAAM,KAAK,KAAK,QAAS,GAAGrB,EAAC,wBAAwB,EAAG,IAAI,UAAU,GAAGA,EAAC,wBAAwB,CAC9H,CACA,KAAKqB,EAAG7Z,EAAG8Z,EAAI,CAAC,EAAG,CACjB,GAAI,KAAK,QAAU,OAAO,KAAK,OAAOD,CAAC,GAAK,WAAY,CACtD,IAAIte,EAAKrB,GAAM,OAAOA,GAAK,UAAYA,IAAM,KAAOA,EAAI,OAAO,KAAKA,CAAC,EAAE,OAAO,CAAChB,EAAGxC,KAAOqhB,GAAE,SAASrhB,EAAE,YAAY,CAAC,EAAIwC,EAAExC,CAAC,EAAI,aAAe,OAAOwD,EAAExD,CAAC,GAAK,UAAYwD,EAAExD,CAAC,IAAM,KAAOwC,EAAExC,CAAC,EAAI6E,EAAErB,EAAExD,CAAC,CAAC,EAAIwC,EAAExC,CAAC,EAAIwD,EAAExD,CAAC,EAAGwC,GAAI,MAAM,QAAQgB,CAAC,EAAI,CAAC,EAAI,CAAC,CAAC,EAAGsK,EAAIjJ,EAAEue,CAAC,EAAGpiB,EAAI,CAAE,UAA4B,IAAI,KAAK,EAAG,YAAY,EAAG,MAAOmiB,EAAG,QAAS7Z,EAAG,GAAGwE,EAAG,QAASjJ,EAAE,CAAE,WAAY,KAAK,WAAY,OAAQ,KAAK,OAAQ,SAAU,KAAK,SAAU,YAAa,KAAK,YAAc,GAAG,KAAK,YAAY,UAAU,EAAG,CAAC,CAAC,MAAQ,MAAO,CAAC,CAAE,EACvgB,KAAK,OAAOse,CAAC,EAAEniB,CAAC,CAClB,CACF,CACA,MAAM,iBAAiBmiB,EAAG,CACxB,KAAK,UAAUA,CAAC,EAChB,IAAI7Z,EAAI,CAAE,CAACgY,EAAC,EAAGL,EAAE,EAAGmC,EAAIH,GAAEE,CAAC,EAAG,CAAE,IAAKte,EAAG,QAASiJ,CAAE,EAAI,MAAM,KAAK,MAAM,OAAQsV,EAAG,CAAC,EAAG9Z,EAAG,EAAE,EAAG9F,GAAK,MAAM,KAAK,aAAaqB,EAAG,OAAQiJ,CAAC,GAAG,QAAQ,IAAI6T,EAAC,EACxJ,OAAOne,EAAI,SAASA,EAAG,EAAE,EAAI,CAC/B,CACA,MAAM,cAAe,CACnB,IAAI2f,EAAI,CAAE,CAAC7B,EAAC,EAAGL,EAAE,EAAG,CAAE,IAAK3X,EAAG,QAAS8Z,CAAE,EAAI,MAAM,KAAK,MAAM,OAAQ,GAAI,CAAC,EAAGD,EAAG,EAAE,EAAGte,EAAI,MAAM,KAAK,aAAayE,EAAG,OAAQ8Z,CAAC,EAC9H,MAAO,CAAC,EAAEve,EAAE,IAAMA,EAAE,SAAW,IACjC,CACA,MAAM,WAAWse,EAAG7Z,EAAI,CAAC,EAAG,CAC1B,KAAK,UAAU6Z,CAAC,EAChB,GAAI,CAAE,aAAcC,EAAG,mBAAoBve,CAAE,EAAI,KAAK,iBAAiByE,CAAC,EAAGwE,EAAI,CAAE,CAACwT,EAAC,EAAGL,GAAG,GAAGpc,CAAE,EAAG7D,EAAIiiB,GAAEE,CAAC,EAAG,CAAE,IAAK3f,EAAG,QAAShB,CAAE,EAAI,MAAM,KAAK,MAAM,OAAQxB,EAAGoiB,EAAGtV,EAAG,EAAE,EACxK,GAAI,CACF,IAAI9N,EAAI,MAAM,KAAK,aAAawD,EAAG,OAAQhB,EAAG,GAAI,CAAC,IAAK,IAAK,IAAK,GAAG,CAAC,EACtE,OAAOxC,EAAE,SAAW,IAAM,GAAQA,EAAE,SAAW,KAAOA,EAAE,SAAW,IAAM,KAAOA,EAAE,IAAMA,EAAE,SAAW,IAAM,IAAQ,KAAK,qBAAqBA,CAAC,EAAG,GACnJ,OAASA,EAAG,CACV,IAAIiB,EAAIjB,aAAa,MAAQA,EAAE,QAAU,OAAOA,CAAC,EACjD,MAAM,KAAK,KAAK,QAAS,GAAG8hB,EAAC,mCAAmC7gB,CAAC,EAAE,EAAG,IAAI,MAAM,GAAG6gB,EAAC,mCAAmC7gB,CAAC,EAAE,CAC5H,CACF,CACA,MAAM,MAAMkiB,EAAG7Z,EAAG8Z,EAAGve,EAAGiJ,EAAG,CACzB,IAAI9M,EAAqB,IAAI,KAAK,EAAG,YAAY,EAAE,QAAQ,gBAAiB,EAAE,EAAGwC,EAAI,OAAO8F,GAAK,UAAYA,EAAE,OAAS,EAAI,IAAI,IAAIA,EAAG,KAAK,QAAQ,EAAI,IAAI,IAAI,KAAK,QAAQ,EAC7K9F,EAAE,SAAW,IAAI,UAAU,KAAK,UAAU,CAAC,GAAGA,EAAE,QAAQ,GAAIqB,EAAEyc,EAAC,EAAIxT,EAAI,MAAMwV,GAAExV,CAAC,EAAImT,GAAGpc,EAAE0c,EAAC,EAAIvgB,EAAG6D,EAAE2c,EAAC,EAAIhe,EAAE,KAC1G,IAAIhB,EAAI,KAAK,uBAAuBqC,CAAC,EAAG7E,EAAI,OAAO,KAAK6E,CAAC,EAAE,IAAK0e,IAAMA,GAAE,YAAY,CAAC,EAAE,KAAK,EAAE,KAAK,GAAG,EAAGtiB,EAAI,MAAM,KAAK,uBAAuBkiB,EAAG3f,EAAG4f,EAAG5gB,EAAGxC,EAAG8N,CAAC,EAAG/I,EAAI,MAAM,KAAK,mBAAmB/D,EAAGC,CAAC,EAAGiE,EAAI,MAAM,KAAK,oBAAoBlE,EAAG+D,CAAC,EAAGye,EAAI,KAAK,0BAA0BxiB,EAAGhB,EAAGkF,CAAC,EAC/R,OAAOL,EAAE4c,EAAC,EAAI+B,EAAG,CAAE,IAAKhgB,EAAE,SAAS,EAAG,QAASqB,CAAE,CACnD,CACA,uBAAuBse,EAAG,CACxB,OAAO,OAAO,QAAQA,CAAC,EAAE,IAAI,CAAC,CAAC7Z,EAAG8Z,CAAC,IAAM,GAAG9Z,EAAE,YAAY,CAAC,IAAI,OAAO8Z,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK;AAAA,CAClG,CACC,CACA,MAAM,uBAAuBD,EAAG7Z,EAAG8Z,EAAGve,EAAGiJ,EAAG9M,EAAG,CAC7C,MAAO,CAACmiB,EAAG7Z,EAAE,SAAU,KAAK,2BAA2B8Z,CAAC,EAAG,GAAGve,CAAC;AAAA,EAChEiJ,EAAG9M,EAAI,MAAMsiB,GAAEtiB,CAAC,EAAIigB,EAAC,EAAE,KAAK;AAAA,CAC9B,CACC,CACA,MAAM,mBAAmBkC,EAAG7Z,EAAG,CAC7B,IAAI8Z,EAAI,CAACD,EAAE,MAAM,EAAG,CAAC,EAAG,KAAK,OAAQpC,GAAGD,EAAC,EAAE,KAAK,GAAG,EACnD,MAAO,CAACD,GAAGsC,EAAGC,EAAG,MAAME,GAAEha,CAAC,CAAC,EAAE,KAAK;AAAA,CACrC,CACC,CACA,MAAM,oBAAoB6Z,EAAG7Z,EAAG,CAC9B,IAAI8Z,EAAI,MAAM,KAAK,iBAAiBD,EAAE,MAAM,EAAG,CAAC,CAAC,EACjD,OAAOM,GAAEL,EAAG9Z,EAAG,KAAK,CACtB,CACA,0BAA0B6Z,EAAG7Z,EAAG8Z,EAAG,CACjC,IAAIve,EAAI,CAACse,EAAE,MAAM,EAAG,CAAC,EAAG,KAAK,OAAQpC,GAAGD,EAAC,EAAE,KAAK,GAAG,EACnD,MAAO,CAAC,GAAGD,EAAC,eAAe,KAAK,WAAW,IAAIhc,CAAC,GAAI,iBAAiByE,CAAC,GAAI,aAAa8Z,CAAC,EAAE,EAAE,KAAK,IAAI,CACvG,CACA,iBAAiBD,EAAG,CAClB,IAAI7Z,EAAI,CAAC,EAAG8Z,EAAI,CAAC,EAAGve,EAAI,CAAC,WAAY,gBAAiB,oBAAqB,qBAAqB,EAChG,OAAS,CAACiJ,EAAG9M,CAAC,IAAK,OAAO,QAAQmiB,CAAC,EAAGte,EAAE,SAASiJ,CAAC,EAAIsV,EAAEtV,CAAC,EAAI9M,EAAIsI,EAAEwE,CAAC,EAAI9M,EACxE,MAAO,CAAE,aAAcsI,EAAG,mBAAoB8Z,CAAE,CAClD,CACA,MAAM,KAAKD,EAAI,IAAK7Z,EAAI,GAAI8Z,EAAI,IAAKve,EAAI,MAAOiJ,EAAI,CAAC,EAAG,CACtD,KAAK,gBAAgBqV,CAAC,EAAG,KAAK,aAAa7Z,CAAC,EAAG,KAAK,cAAc8Z,CAAC,EAAG,KAAK,qBAAqBve,CAAC,EAAG,KAAK,WAAWiJ,CAAC,EAAG,KAAK,KAAK,OAAQ,sBAAsBxE,CAAC,EAAE,EACnK,IAAItI,EAAI,CAAE,YAAaggB,GAAG,WAAY,OAAOoC,CAAC,EAAG,GAAGtV,CAAE,EACtDxE,EAAE,OAAS,IAAMtI,EAAE,OAASsI,GAC5B,IAAI9F,EAAI,CAAE,CAACke,EAAC,EAAGN,GAAG,CAACE,EAAC,EAAGL,EAAE,EAAGze,EAAI2gB,IAAM,IAAMA,EAAIH,GAAEG,CAAC,EAAG,CAAE,IAAKnjB,EAAG,QAASiB,CAAE,EAAI,MAAM,KAAK,MAAM,MAAOuB,EAAGxB,EAAGwC,EAAG,EAAE,EAAGuB,EAAI,GAAG/E,CAAC,IAAI,IAAI,gBAAgBgB,CAAC,CAAC,GAAIkE,EAAI,MAAM,KAAK,aAAaH,EAAG,MAAO9D,CAAC,EAAGuiB,EAAI,MAAMte,EAAE,KAAK,EACtN,GAAIL,IAAM,OAAQ,CAChB,IAAI6e,EAAIxe,EAAE,QAAQ,IAAIyc,EAAC,EAAGgC,EAAIze,EAAE,QAAQ,IAAI2c,EAAC,EAAG+B,EAAI1e,EAAE,QAAQ,IAAI0c,EAAC,EACnE,MAAO,CAAE,KAAM8B,EAAI,CAACA,EAAI,OAAQ,MAAOC,EAAI,IAAI,KAAKA,CAAC,EAAI,OAAQ,KAAMC,GAAK,MAAO,CACrF,CACA,IAAIL,GAAIM,GAAEL,CAAC,EAAGM,EAAIP,GAAE,kBAAoBA,GAAE,OAASA,GACnD,OAAOO,EAAE,UAAYA,CACvB,CACA,MAAM,qBAAqBX,EAAI,IAAK7Z,EAAI,GAAI8Z,EAAI,MAAOve,EAAI,CAAC,EAAG,CAC7D,IAAIiJ,EAAG9M,EAAGwC,EACV,KAAK,gBAAgB2f,CAAC,EAAG,KAAK,aAAa7Z,CAAC,EAAG,KAAK,qBAAqB8Z,CAAC,EAAG,KAAK,WAAWve,CAAC,EAAG,KAAK,KAAK,OAAQ,gCAAgCyE,CAAC,EAAE,EACtJ,IAAI9G,EAAI,CAAE,QAAS,GAAI,GAAGqC,CAAE,EAAG7E,EAAI,CAAE,CAAC0hB,EAAC,EAAGN,GAAG,CAACE,EAAC,EAAGL,EAAE,EAAGhgB,EAAIkiB,IAAM,IAAMA,EAAIH,GAAEG,CAAC,EAAG,CAAE,IAAKpe,EAAG,QAASG,CAAE,EAAI,MAAM,KAAK,MAAM,MAAOjE,EAAGuB,EAAGxC,EAAG,EAAE,EAAGwjB,EAAI,GAAGze,CAAC,IAAI,IAAI,gBAAgBvC,CAAC,CAAC,GAAI+gB,GAAI,MAAM,KAAK,aAAaC,EAAG,MAAOte,CAAC,EAAG4e,EAAI,MAAMP,GAAE,KAAK,EACjP,GAAIH,IAAM,OAAQ,MAAO,CAAE,KAAM,GAAGtV,EAAIyV,GAAE,QAAQ,IAAI5B,EAAC,KAAO,MAAQ7T,IAAM,OAASA,EAAI,KAAM,MAAO,IAAI,MAAM9M,EAAIuiB,GAAE,QAAQ,IAAI1B,EAAC,KAAO,MAAQ7gB,IAAM,OAASA,EAAI,EAAE,EAAG,MAAOwC,EAAI+f,GAAE,QAAQ,IAAI3B,EAAC,KAAO,MAAQpe,IAAM,OAASA,EAAI,EAAG,EACzO,IAAIkgB,EAAIG,GAAEC,CAAC,EAAGH,EAAID,EAAE,4BAA8BA,EAAE,OAASA,EAC7D,OAAOC,EAAE,SAAWA,CACtB,CACA,MAAM,IAAIR,EAAG7Z,EAAI,CAAC,EAAG,CACnB,KAAK,UAAU6Z,CAAC,EAAG,KAAK,KAAK,OAAQ,kBAAkBA,CAAC,EAAE,EAC1D,GAAI,CAAE,aAAcC,EAAG,mBAAoBve,CAAE,EAAI,KAAK,iBAAiByE,CAAC,EAAGwE,EAAI,CAAE,CAAC4T,EAAC,EAAGN,GAAG,CAACE,EAAC,EAAGL,GAAG,GAAGpc,CAAE,EAAG7D,EAAIiiB,GAAEE,CAAC,EAAG,CAAE,IAAK3f,EAAG,QAAShB,CAAE,EAAI,MAAM,KAAK,MAAM,MAAOxB,EAAGoiB,EAAGtV,EAAG,EAAE,EAAG9N,EAAI,MAAM,KAAK,aAAawD,EAAG,MAAOhB,EAAG,GAAI,CAAC,IAAK,IAAK,IAAK,GAAG,CAAC,EACnP,GAAIxC,EAAE,SAAW,KAAOA,EAAE,SAAW,KAAOA,EAAE,SAAW,IAAK,OAAO,KAAK,KAAK,QAAS,iCAAiCA,EAAE,MAAM,EAAE,EAAG,KACtI,GAAI,CAACA,EAAE,GAAI,MAAM,KAAK,KAAK,QAAS,iCAAiCA,EAAE,MAAM,EAAE,EAAG,IAAI,MAAM,iCAAiCA,EAAE,MAAM,EAAE,EACvI,OAAOA,EAAE,KAAK,CAChB,CACA,MAAM,kBAAkBmjB,EAAG7Z,EAAI,CAAC,EAAG,CACjC,KAAK,UAAU6Z,CAAC,EAAG,KAAK,KAAK,OAAQ,kBAAkBA,CAAC,EAAE,EAC1D,GAAI,CAAE,aAAcC,EAAG,mBAAoBve,CAAE,EAAI,KAAK,iBAAiByE,CAAC,EAAGwE,EAAI,CAAE,CAAC4T,EAAC,EAAGN,GAAG,CAACE,EAAC,EAAGL,GAAG,GAAGpc,CAAE,EAAG7D,EAAIiiB,GAAEE,CAAC,EAAG,CAAE,IAAK3f,EAAG,QAAShB,CAAE,EAAI,MAAM,KAAK,MAAM,MAAOxB,EAAGoiB,EAAGtV,EAAG,EAAE,EAC/K,GAAI,CACF,IAAI9N,EAAI,MAAM,KAAK,aAAawD,EAAG,MAAOhB,EAAG,GAAI,CAAC,IAAK,IAAK,IAAK,GAAG,CAAC,EACrE,GAAIxC,EAAE,SAAW,KAAOA,EAAE,SAAW,KAAOA,EAAE,SAAW,IAAK,OAAO,KAAK,KAAK,QAAS,iCAAiCA,EAAE,MAAM,EAAE,EAAG,CAAE,KAAM,KAAM,KAAM,IAAK,EAC/J,GAAI,CAACA,EAAE,GAAI,MAAM,KAAK,KAAK,QAAS,iCAAiCA,EAAE,MAAM,EAAE,EAAG,IAAI,MAAM,iCAAiCA,EAAE,MAAM,EAAE,EACvI,IAAIiB,EAAIjB,EAAE,QAAQ,IAAI,MAAM,EAC5B,GAAI,CAACiB,EAAG,MAAM,IAAI,MAAM,oCAAoC,EAC5D,IAAI8D,EAAI,MAAM/E,EAAE,KAAK,EACrB,MAAO,CAAE,KAAMqjB,GAAEpiB,CAAC,EAAG,KAAM8D,CAAE,CAC/B,OAAS/E,EAAG,CACV,MAAM,KAAK,KAAK,QAAS,wBAAwBmjB,CAAC,eAAenjB,CAAC,EAAE,EAAGA,CACzE,CACF,CACA,MAAM,QAAQmjB,EAAG7Z,EAAI,CAAC,EAAG,CACvB,KAAK,UAAU6Z,CAAC,EAAG,KAAK,KAAK,OAAQ,uBAAuBA,CAAC,EAAE,EAC/D,GAAI,CAAE,aAAcC,EAAG,mBAAoBve,CAAE,EAAI,KAAK,iBAAiByE,CAAC,EAAGwE,EAAI,CAAE,CAAC4T,EAAC,EAAGN,GAAG,CAACE,EAAC,EAAGL,GAAG,GAAGpc,CAAE,EAAG7D,EAAIiiB,GAAEE,CAAC,EAAG,CAAE,IAAK3f,EAAG,QAAShB,CAAE,EAAI,MAAM,KAAK,MAAM,OAAQxB,EAAGoiB,EAAGtV,EAAG,EAAE,EAAG9N,EAAI,MAAM,KAAK,aAAawD,EAAG,OAAQhB,EAAG,GAAI,CAAC,IAAK,IAAK,GAAG,CAAC,EAChP,GAAI,KAAK,KAAK,OAAQ,oBAAoBxC,EAAE,OAAQA,EAAE,UAAU,EAAE,EAAGA,EAAE,SAAW,KAAOA,EAAE,SAAW,IAAK,OAAO,KAClH,IAAIiB,EAAIjB,EAAE,QAAQ,IAAI,MAAM,EAC5B,GAAI,CAACiB,EAAG,MAAM,KAAK,KAAK,QAAS,oCAAoC,EAAG,IAAI,MAAM,oCAAoC,EACtH,OAAOoiB,GAAEpiB,CAAC,CACZ,CACA,MAAM,YAAYkiB,EAAG7Z,EAAI,GAAM8Z,EAAI,EAAGve,EAAI,KAAK,sBAAuBiJ,EAAI,CAAC,EAAG,CAC5E,KAAK,UAAUqV,CAAC,EAChB,GAAI,CAAE,aAAcniB,EAAG,mBAAoBwC,CAAE,EAAI,KAAK,iBAAiB,CAAE,GAAGsK,CAAE,CAAC,EAAGtL,EAAI,CAAE,CAACkf,EAAC,EAAGN,GAAG,CAACE,EAAC,EAAGL,GAAG,GAAG3X,EAAI,CAAC,EAAI,CAAE,MAAO,SAAS8Z,CAAC,IAAIve,EAAI,CAAC,EAAG,EAAG,GAAGrB,CAAE,EAAGxD,EAAIijB,GAAEE,CAAC,EAAG,CAAE,IAAKliB,EAAG,QAAS8D,CAAE,EAAI,MAAM,KAAK,MAAM,MAAO/E,EAAGgB,EAAGwB,EAAG,EAAE,EAAG0C,EAAI,GAAGjE,CAAC,IAAI,IAAI,gBAAgBD,CAAC,CAAC,GACzQ,OAAO,KAAK,aAAakE,EAAG,MAAOH,CAAC,CACtC,CACA,MAAM,IAAIoe,EAAG7Z,EAAG,CACd,GAAI,KAAK,UAAU6Z,CAAC,EAAG,EAAE7Z,aAAa,QAAU,OAAOA,GAAK,UAAW,MAAM,KAAK,KAAK,QAASiZ,EAAC,EAAG,IAAI,UAAUA,EAAC,EACnH,KAAK,KAAK,OAAQ,oBAAoBY,CAAC,EAAE,EACzC,IAAIC,EAAI,OAAO9Z,GAAK,SAAW,OAAO,WAAWA,CAAC,EAAIA,EAAE,OAAQzE,EAAI,CAAE,CAAC8c,EAAC,EAAGyB,CAAE,EAAGtV,EAAImV,GAAEE,CAAC,EAAG,CAAE,IAAKniB,EAAG,QAASwC,CAAE,EAAI,MAAM,KAAK,MAAM,MAAOsK,EAAG,CAAC,EAAGjJ,EAAGyE,CAAC,EACtJ,OAAO,MAAM,KAAK,aAAatI,EAAG,MAAOwC,EAAG8F,CAAC,CAC/C,CACA,MAAM,qBAAqB6Z,EAAG7Z,EAAI4X,GAAG,CACnC,GAAI,KAAK,UAAUiC,CAAC,EAAG,OAAO7Z,GAAK,SAAU,MAAM,KAAK,KAAK,QAAS,GAAGwY,EAAC,2BAA2B,EAAG,IAAI,UAAU,GAAGA,EAAC,2BAA2B,EACrJ,KAAK,KAAK,OAAQ,0CAA0CqB,CAAC,EAAE,EAC/D,IAAIC,EAAI,CAAE,QAAS,EAAG,EAAGve,EAAI,CAAE,CAAC6c,EAAC,EAAGpY,EAAG,CAACgY,EAAC,EAAGL,EAAE,EAAGnT,EAAImV,GAAEE,CAAC,EAAG,CAAE,IAAKniB,EAAG,QAASwC,CAAE,EAAI,MAAM,KAAK,MAAM,OAAQsK,EAAGsV,EAAGve,EAAG,EAAE,EAAGrC,EAAI,GAAGxB,CAAC,IAAI,IAAI,gBAAgBoiB,CAAC,CAAC,GAAIniB,EAAI,MAAO,MAAM,KAAK,aAAauB,EAAG,OAAQgB,CAAC,GAAG,KAAK,EAAGuB,EAAI8e,GAAE5iB,CAAC,EAClO,GAAI,OAAO8D,GAAK,UAAYA,IAAM,MAAQ,UAAWA,GAAK,OAAOA,EAAE,OAAS,UAAYA,EAAE,QAAU,MAAQ,YAAaA,EAAE,MAAO,CAChI,IAAIG,EAAI,OAAOH,EAAE,MAAM,OAAO,EAC9B,MAAM,KAAK,KAAK,QAAS,GAAG+c,EAAC,qCAAqC5c,CAAC,EAAE,EAAG,IAAI,MAAM,GAAG4c,EAAC,qCAAqC5c,CAAC,EAAE,CAChI,CACA,GAAI,OAAOH,GAAK,UAAYA,IAAM,KAAM,CACtC,GAAI,CAACA,EAAE,+BAAiC,CAACA,EAAE,8BAA8B,SAAU,MAAM,KAAK,KAAK,QAAS,GAAG+c,EAAC,4DAA4D,EAAG,IAAI,MAAM,GAAGA,EAAC,kEAAkE,EAC/P,OAAO/c,EAAE,8BAA8B,QACzC,KAAO,OAAM,KAAK,KAAK,QAAS,GAAG+c,EAAC,+DAA+D,EAAG,IAAI,MAAM,GAAGA,EAAC,+DAA+D,CACrL,CACA,MAAM,WAAWqB,EAAG7Z,EAAG8Z,EAAGve,EAAGiJ,EAAI,CAAC,EAAG,CACnC,KAAK,0BAA0BqV,EAAG7Z,EAAG8Z,EAAGve,EAAGiJ,CAAC,EAC5C,IAAI9M,EAAI,CAAE,SAAUoiB,EAAG,WAAYve,EAAG,GAAGiJ,CAAE,EAAGtK,EAAI,CAAE,CAACme,EAAC,EAAGrY,EAAE,MAAO,EAAG9G,EAAIygB,GAAEE,CAAC,EAAG,CAAE,IAAKnjB,EAAG,QAASiB,CAAE,EAAI,MAAM,KAAK,MAAM,MAAOuB,EAAGxB,EAAGwC,EAAG8F,CAAC,EAAGvE,EAAI,GAAG/E,CAAC,IAAI,IAAI,gBAAgBgB,CAAC,CAAC,GAAIkE,EAAI,MAAM,KAAK,aAAaH,EAAG,MAAO9D,EAAGqI,CAAC,EAAGka,EAAIH,GAAEne,EAAE,QAAQ,IAAI,MAAM,GAAK,EAAE,EACjQ,MAAO,CAAE,WAAYL,EAAG,KAAM2e,CAAE,CAClC,CACA,0BAA0BL,EAAG7Z,EAAG8Z,EAAGve,EAAGiJ,EAAG,CACvC,GAAI,KAAK,UAAUqV,CAAC,EAAG,EAAE7Z,aAAa,QAAU,OAAOA,GAAK,UAAW,MAAM,KAAK,KAAK,QAASiZ,EAAC,EAAG,IAAI,UAAUA,EAAC,EACnH,GAAI,OAAOa,GAAK,UAAYA,EAAE,KAAK,EAAE,SAAW,EAAG,MAAM,KAAK,KAAK,QAAShB,EAAC,EAAG,IAAI,UAAUA,EAAC,EAC/F,GAAI,CAAC,OAAO,UAAUvd,CAAC,GAAKA,GAAK,EAAG,MAAM,KAAK,KAAK,QAAS,GAAGid,EAAC,uCAAuC,EAAG,IAAI,UAAU,GAAGA,EAAC,uCAAuC,EACpK,KAAK,WAAWhU,CAAC,CACnB,CACA,MAAM,wBAAwBqV,EAAG7Z,EAAG8Z,EAAG,CACrC,GAAI,KAAK,UAAUD,CAAC,EAAG,OAAO7Z,GAAK,UAAYA,EAAE,KAAK,EAAE,SAAW,EAAG,MAAM,KAAK,KAAK,QAAS8Y,EAAC,EAAG,IAAI,UAAUA,EAAC,EAClH,GAAI,CAAC,MAAM,QAAQgB,CAAC,GAAKA,EAAE,SAAW,EAAG,MAAM,KAAK,KAAK,QAASf,EAAC,EAAG,IAAI,UAAUA,EAAC,EACrF,GAAI,CAACe,EAAE,MAAOG,GAAM,OAAOA,EAAE,YAAc,UAAY,OAAOA,EAAE,MAAQ,QAAQ,EAAG,MAAM,KAAK,KAAK,QAASjB,EAAC,EAAG,IAAI,UAAUA,EAAC,EAC/H,KAAK,KAAK,OAAQ,6BAA6BhZ,CAAC,eAAe6Z,CAAC,EAAE,EAClE,IAAIte,EAAI,CAAE,SAAUyE,CAAE,EAAGwE,EAAI,KAAK,iCAAiCsV,CAAC,EAAGpiB,EAAI,CAAE,CAAC0gB,EAAC,EAAGP,GAAG,CAACQ,EAAC,EAAG,OAAO,WAAW7T,CAAC,EAAE,SAAS,EAAG,CAACwT,EAAC,EAAG,MAAMgC,GAAExV,CAAC,CAAE,EAAGtK,EAAIyf,GAAEE,CAAC,EAAG,CAAE,IAAK3gB,EAAG,QAASxC,CAAE,EAAI,MAAM,KAAK,MAAM,OAAQwD,EAAGqB,EAAG7D,EAAG8M,CAAC,EAAG7M,EAAI,GAAGuB,CAAC,IAAI,IAAI,gBAAgBqC,CAAC,CAAC,GAAIK,EAAI,MAAO,MAAM,KAAK,aAAajE,EAAG,OAAQjB,EAAG8N,CAAC,GAAG,KAAK,EAAG0V,EAAIK,GAAE3e,CAAC,EACjU,GAAI,OAAOse,GAAK,UAAYA,IAAM,MAAQ,UAAWA,GAAK,OAAOA,EAAE,OAAS,UAAYA,EAAE,QAAU,MAAQ,YAAaA,EAAE,MAAO,CAChI,IAAID,EAAI,OAAOC,EAAE,MAAM,OAAO,EAC9B,MAAM,KAAK,KAAK,QAAS,GAAG1B,EAAC,qCAAqCyB,CAAC,EAAE,EAAG,IAAI,MAAM,GAAGzB,EAAC,qCAAqCyB,CAAC,EAAE,CAChI,CACA,OAAOC,EAAE,6BACX,CACA,MAAM,qBAAqBL,EAAG7Z,EAAG,CAC/B,GAAI,KAAK,UAAU6Z,CAAC,EAAG,OAAO7Z,GAAK,UAAYA,EAAE,KAAK,EAAE,SAAW,EAAG,MAAM,KAAK,KAAK,QAAS8Y,EAAC,EAAG,IAAI,UAAUA,EAAC,EAClH,KAAK,KAAK,OAAQ,6BAA6B9Y,CAAC,eAAe6Z,CAAC,EAAE,EAClE,IAAIC,EAAI,CAAE,SAAU9Z,CAAE,EAAGzE,EAAI,CAAE,CAAC6c,EAAC,EAAGP,GAAG,CAACG,EAAC,EAAGL,EAAE,EAC9C,GAAI,CACF,IAAInT,EAAImV,GAAEE,CAAC,EAAG,CAAE,IAAKniB,EAAG,QAASwC,CAAE,EAAI,MAAM,KAAK,MAAM,SAAUsK,EAAGsV,EAAGve,EAAG,EAAE,EAAGrC,EAAI,GAAGxB,CAAC,IAAI,IAAI,gBAAgBoiB,CAAC,CAAC,GAAIpjB,EAAI,MAAM,KAAK,aAAawC,EAAG,SAAUgB,CAAC,EAChK,GAAIxD,EAAE,GAAI,CACR,IAAIiB,EAAI,MAAMjB,EAAE,KAAK,EAAG+E,EAAI8e,GAAE5iB,CAAC,EAC/B,GAAI,OAAO8D,GAAK,UAAYA,IAAM,MAAQ,UAAWA,GAAK,OAAOA,EAAE,OAAS,UAAYA,EAAE,QAAU,MAAQ,YAAaA,EAAE,MAAO,CAChI,IAAIG,EAAI,OAAOH,EAAE,MAAM,OAAO,EAC9B,MAAM,KAAK,KAAK,QAAS,GAAG+c,EAAC,qCAAqC5c,CAAC,EAAE,EAAG,IAAI,MAAM,GAAG4c,EAAC,qCAAqC5c,CAAC,EAAE,CAChI,CACA,MAAO,CAAE,OAAQ,UAAW,IAAKie,EAAG,SAAU7Z,EAAG,SAAUvE,CAAE,CAC/D,KAAO,OAAM,KAAK,KAAK,QAAS,GAAG+c,EAAC,oCAAoC9hB,EAAE,MAAM,EAAE,EAAG,IAAI,MAAM,GAAG8hB,EAAC,oCAAoC9hB,EAAE,MAAM,EAAE,CACnJ,OAAS8N,EAAG,CACV,IAAI9M,EAAI8M,aAAa,MAAQA,EAAE,QAAU,OAAOA,CAAC,EACjD,MAAM,KAAK,KAAK,QAAS,GAAGgU,EAAC,4CAA4CqB,CAAC,KAAKniB,CAAC,EAAE,EAAG,IAAI,MAAM,GAAG8gB,EAAC,4CAA4CqB,CAAC,KAAKniB,CAAC,EAAE,CAC1J,CACF,CACA,iCAAiCmiB,EAAG,CAClC,MAAO;AAAA;AAAA,UAEDA,EAAE,IAAK7Z,GAAM;AAAA;AAAA,0BAEGA,EAAE,UAAU;AAAA,oBAClBA,EAAE,IAAI;AAAA;AAAA,SAEjB,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA,KAGjB,CACA,MAAM,OAAO6Z,EAAG,CACd,KAAK,UAAUA,CAAC,EAAG,KAAK,KAAK,OAAQ,mBAAmBA,CAAC,EAAE,EAC3D,IAAI7Z,EAAI,CAAE,CAACoY,EAAC,EAAGN,GAAG,CAACE,EAAC,EAAGL,EAAE,EAAGmC,EAAIH,GAAEE,CAAC,EAAG,CAAE,IAAKte,EAAG,QAASiJ,CAAE,EAAI,MAAM,KAAK,MAAM,SAAUsV,EAAG,CAAC,EAAG9Z,EAAG,EAAE,EAAGtI,EAAI,MAAM,KAAK,aAAa6D,EAAG,SAAUiJ,CAAC,EACnJ,OAAO9M,EAAE,SAAW,KAAOA,EAAE,SAAW,GAC1C,CACA,MAAM,aAAamiB,EAAG7Z,EAAG8Z,EAAGve,EAAGiJ,EAAI,CAAC,EAAG,CACrC,KAAK,KAAK,OAAQ,WAAWxE,CAAC,eAAe6Z,CAAC,cAAc,KAAK,UAAUC,CAAC,CAAC,EAAE,EAC/E,IAAIpiB,EAAI,MAAM,MAAMmiB,EAAG,CAAE,OAAQ7Z,EAAG,QAAS8Z,EAAG,KAAM,CAAC,MAAO,MAAM,EAAE,SAAS9Z,CAAC,EAAI,OAASzE,EAAG,OAAQ,KAAK,sBAAwB,OAAS,YAAY,QAAQ,KAAK,mBAAmB,EAAI,MAAO,CAAC,EACtM,MAAO,CAAC7D,EAAE,IAAM,CAAC8M,EAAE,SAAS9M,EAAE,MAAM,GAAK,MAAM,KAAK,qBAAqBA,CAAC,EAAGA,CAC/E,CACA,MAAM,qBAAqBmiB,EAAG,CAC5B,IAAI7Z,EAAI,MAAM6Z,EAAE,KAAK,EAAGC,EAAID,EAAE,QAAQ,IAAI,kBAAkB,GAAK,UAAWte,EAAIse,EAAE,QAAQ,IAAI,qBAAqB,GAAKA,EAAE,WAC1H,MAAM,KAAK,KAAK,QAAS,GAAGrB,EAAC,8BAA8BqB,EAAE,MAAM,KAAKC,CAAC,MAAMve,CAAC,cAAcyE,CAAC,EAAE,EAAG,IAAI,MAAM,GAAGwY,EAAC,8BAA8BqB,EAAE,MAAM,KAAKC,CAAC,MAAMve,CAAC,eAAeyE,CAAC,EAAE,CACzL,CACA,2BAA2B6Z,EAAG,CAC5B,OAAO,OAAO,KAAKA,CAAC,EAAE,OAAS,EAAI,GAAK,OAAO,KAAKA,CAAC,EAAE,KAAK,EAAE,IAAK7Z,GAAM,GAAG,mBAAmBA,CAAC,CAAC,IAAI,mBAAmB6Z,EAAE7Z,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK,GAAG,CAC3I,CACA,MAAM,iBAAiB6Z,EAAG,CACxB,IAAI7Z,EAAI,MAAMma,GAAE,OAAO,KAAK,eAAe,GAAIN,CAAC,EAAGC,EAAI,MAAMK,GAAEna,EAAG,KAAK,MAAM,EAAGzE,EAAI,MAAM4e,GAAEL,EAAGrC,EAAC,EAChG,OAAO0C,GAAE5e,EAAGic,EAAC,CACf,CACF,EACIwC,GAAI,MAAOP,GAAM,CACnB,IAAII,EAAIP,GAAE,QAAQ,EAClB,OAAOO,EAAE,OAAOJ,CAAC,EAAGI,EAAE,OAAO,KAAK,CACpC,EACIM,GAAI,MAAOV,EAAGI,EAAG7Z,IAAM,CACzB,IAAI8Z,EAAIT,GAAE,SAAUI,CAAC,EACrB,OAAOK,EAAE,OAAOD,CAAC,EAAGC,EAAE,OAAO9Z,CAAC,CAChC,EACI+Z,GAAKN,GAAM,CACb,IAAII,EAAI,CAAE,IAAK,GAAI,SAAU,GAAI,QAAS,GAAI,SAAU,GAAI,WAAY,EAAG,EAC3E,OAAOJ,EAAE,QAAQ,uCAAyCzZ,GAAM6Z,EAAE7Z,CAAC,CAAC,CACtE,EACIua,GAAKd,GAAM,CACb,IAAII,EAAKrV,GAAMA,EAAE,QAAQ,UAAW,GAAG,EAAE,QAAQ,UAAW,GAAG,EAAE,QAAQ,QAAS,GAAG,EAAE,QAAQ,QAAS,GAAG,EAAE,QAAQ,SAAU,GAAG,EAAGxE,EAAI,CAAC,EAAG8Z,EAAI,2DAA4Dve,EAC7M,KAAOA,EAAIue,EAAE,KAAKL,CAAC,GAAK,CACtB,GAAI,CAAC,CAAEjV,EAAG9M,EAAGwC,CAAC,EAAIqB,EAAGrC,EAAIsL,EAAE,YAAY,EAAI9M,EAAGhB,EAAIwD,GAAK,KAAOqgB,GAAErgB,CAAC,EAAI,GACrE,OAAOxD,GAAK,SAAWsJ,EAAE9G,CAAC,EAAI6gB,GAAEF,EAAEnjB,CAAC,CAAC,EAAI,MAAM,QAAQsJ,EAAE9G,CAAC,CAAC,EAAI8G,EAAE9G,CAAC,EAAE,KAAKxC,CAAC,EAAIsJ,EAAE9G,CAAC,EAAI8G,EAAE9G,CAAC,GAAK,KAAO,CAAC8G,EAAE9G,CAAC,EAAGxC,CAAC,EAAI6iB,GAAGrgB,CAAC,EAAI,CAACxC,CAAC,EAAIA,CAC/H,CACA,OAAO,OAAO,KAAKsJ,CAAC,EAAE,OAASA,EAAI6Z,EAAEJ,CAAC,CACxC,EAGIgB,GAAcxlB,GAAQ0hB,GAAY,EAAG,CAAC,EAGtC+D,EAAyB,CAC3B,iBAAkB,mBAClB,kBAAmB,oBACnB,wBAAyB,0BACzB,wBAAyB,0BACzB,wBAAyB,0BACzB,+BAAgC,iCAChC,qBAAsB,uBACtB,wBAAyB,0BACzB,0BAA2B,4BAC3B,mBAAoB,qBACpB,WAAY,aACZ,eAAgB,iBAChB,gBAAiB,kBACjB,aAAc,eACd,aAAc,eACd,iBAAkB,mBAClB,aAAc,eACd,YAAa,cACb,cAAe,eACjB,EACIC,GAAkB,cAAc,KAAM,CACxC,YAAYpF,EAASqF,EAAOF,EAAuB,cAAe,CAChE,MAAM,oBAAoBnF,CAAO,aAAaqF,CAAI,EAAE,EACpD,KAAK,KAAO,KAAK,YAAY,KAC7B,KAAK,KAAOA,EACZ,MAAM,kBAAkB,KAAM,KAAK,WAAW,CAChD,CACF,EACIC,GAAwB,cAAcF,EAAgB,CACxD,YAAYpF,EAASqF,EAAOF,EAAuB,wBAAyB,CAC1E,MAAMnF,EAASmF,EAAuB,uBAAuB,CAC/D,CACF,EACII,GAA0B,cAAcH,EAAgB,CAC1D,YAAYpF,EAASqF,EAAOF,EAAuB,0BAA2B,CAC5E,MAAMnF,EAASmF,EAAuB,yBAAyB,CACjE,CACF,EACIK,GAAmB,cAAcJ,EAAgB,CACnD,YAAYpF,EAASyF,EAAW,CAC9B,MAAM,MAAMA,CAAS,sBAAsBzF,CAAO,GAAImF,EAAuB,kBAAkB,CACjG,CACF,EAIIO,GAAe,CAACC,EAAUC,IACrB,OAAO,KAAKA,CAAK,EAAE,MAAOtmB,GAAQqmB,EAASrmB,CAAG,IAAMsmB,EAAMtmB,CAAG,CAAC,EAEnEumB,GAAe,SACb,OAAOC,GAAe,KAAe,OAAOA,IAAe,WACtDA,GAAW,EAEhB,OAAO,OAAW,KAAe,OAAO,QAAW,UAAY,OAAO,OAAO,YAAe,WACvF,OAAO,WAAW,EAEpB,uCAAuC,QAAQ,QAAS,SAASniB,EAAG,CACzE,IAAI4gB,EAAI,KAAK,OAAO,EAAI,GAAK,EAAGtiB,EAAK0B,IAAM,IAAM4gB,EAAIA,EAAI,EAAI,EAC7D,OAAOtiB,EAAG,SAAS,EAAE,CACvB,CAAC,EAEC8jB,GAAyBxd,GAAW,CACtC,IAAMyd,EAAU,CACd,KAAM,MACN,KAAM,SACN,KAAM,GACN,YAAa,MACf,EACA,OAAI,OAAOzd,EAAW,KAAeA,IAAW,OAG5C,SAAUA,GAAUA,EAAO,OAAS,UAAY,WAAYA,GAAU,MAAM,QAAQA,EAAO,MAAM,EAChFA,EAAO,OAAO,KAAM4F,GAAUA,EAAM,OAAS,KAAK,GAEnE5F,EAAO,OAAO,QAAQyd,CAAO,EAEtB,SAAUzd,GAAUA,EAAO,OAAS,SAAW,UAAWA,GAAUA,EAAO,QAAU,MAAQ,OAAOA,EAAO,OAAU,UAAY,SAAUA,EAAO,OAASA,EAAO,MAAM,OAAS,UAAY,WAAYA,EAAO,OAAS,MAAM,QAAQA,EAAO,MAAM,MAAM,IAChPA,EAAO,MAAM,OAAO,KAAM4F,GAAUA,EAAM,OAAS,KAAK,GAEzE5F,EAAO,MAAM,OAAO,QAAQyd,CAAO,IAGhCzd,CACT,EAGI0d,EAAc,aACdC,GAAoB,IACpBC,GAAqB,aACrBC,GAAa,QACbC,GAAY,KAAO,KACnBC,GAAY,EAAID,GAChBE,GAAa,OAAO,KAAK,GAAI,MAAM,EACnCC,GAAoB,CAACC,EAAYtB,EAAuB,4BAA8B,CACxF,MAAM,IAAII,GAAwB,GAAGU,CAAW,gCAAgCQ,CAAS,EAAE,CAC7F,EACIC,GAAc,CAACC,EAAU,KAAO,CAClC,GAAIA,EAAQ,KAAK,IAAM,IAAMA,IAAY,MAAQ,OAAOA,EAAY,KAAeA,EAAQ,OAAS,KAAOA,IAAY,KACrH,MAAM,IAAIvB,GAAgB,GAAGa,CAAW,kDAAmDd,EAAuB,gBAAgB,CAEtI,EACIyB,GAAa,KAAM,CACrB,YAAYC,EAAS,CACnB,KAAK,WAAc1X,GAAS,CAC1B,IAAM2X,EAAiB,CAAC,cAAe,kBAAmB,WAAY,YAAY,EAClF,QAAW3Y,KAAS2Y,EAClB,GAAI,CAAC3X,EAAKhB,CAAK,EACb,MAAM,IAAIiX,GAAgB,GAAGa,CAAW,KAAK9X,CAAK,eAAgBgX,EAAuB,gBAAgB,CAG/G,EAKA,KAAK,GAAK,IACD,KAAK,IAEd,KAAK,WAAW0B,CAAO,EACvB,KAAK,SAA2B,IAAI,IACpC,KAAK,IAAM,IAAIxC,GAAEwC,CAAO,EACxB,KAAK,WAAaA,EAAQ,WAAaV,GACvC,KAAK,WAAajB,GAAY,IAChC,CAMA,MAAM,iBAAkB,CACtB,GAAI,CACF,IAAM6B,EAAS,MAAM,KAAK,IAAI,KAAKb,GAAmB,KAAK,UAAU,EACrE,OAAI,MAAM,QAAQa,CAAM,EACfA,EAAO,IAAKC,GAAUA,EAAM,IAAI,MAAM,KAAK,WAAW,OAAS,EAAG,CAACZ,GAAW,MAAM,CAAC,EACnF,OAAOW,GAAW,UAAYA,IAAW,MAAQ,aAAcA,GAAUA,EAAO,WAAa,IAC/F,CAAC,EAEH,CAAC,CACV,OAASE,EAAO,CACd,MAAM,IAAIzB,GAAiB,GAAGS,CAAW,KAAKgB,EAAM,OAAO,GAAI9B,EAAuB,kBAAkB,CAC1G,CACF,CAOA,MAAM,iBAAiBwB,EAAU,GAAI,CACnC,GAAI,CACF,OAAAD,GAAYC,CAAO,EAEZ,CAAC,CADO,MAAM,KAAK,IAAI,WAAW,GAAG,KAAK,UAAU,GAAGT,EAAiB,GAAGS,CAAO,GAAGP,EAAU,EAAE,CAE1G,OAASa,EAAO,CACd,GAAIA,EAAM,QAAQ,SAAS,WAAW,EACpC,MAAO,GAET,MAAM,IAAI7B,GAAgB,GAAGa,CAAW,KAAKgB,EAAM,OAAO,GAAI9B,EAAuB,oBAAoB,CAC3G,CACF,CASA,MAAM,iBAAiBwB,EAAU,GAAIpe,EAAQvH,EAAO,CAAC,EAAG,CACtD,GAAI,CAGF,GAFA0lB,GAAYC,CAAO,EAEf,CADW,MAAM,KAAK,iBAAiBA,CAAO,EACrC,CACX,GAAI,OAAOpe,EAAW,KAAeA,IAAW,KAC9C,GAAI,CAEF,GADa,KAAK,WAAW,UAAUA,CAAM,EAM3C,KAAK,SAAS,IAAIoe,EAASpe,CAAM,MAJjC,OAAM,IAAI+c,GACR,GAAGW,CAAW,wBAAwB1d,CAAM,IAAI4c,EAAuB,uBAAuB,EAChG,CAIJ,MAAgB,CACd,MAAM,IAAIG,GAAsB,GAAGW,CAAW,wBAAwB1d,CAAM,GAAI4c,EAAuB,uBAAuB,CAChI,CAEF,GAAInkB,EAAK,OAAS,GAAKuH,EAAQ,CAC7B,IAAM2e,EAAc,KAAK,WAAW,UAAU,CAAE,KAAM,QAAS,MAAO3e,CAAO,CAAC,EAC9E,MAAM,KAAK,IAAI,IAAI,GAAG,KAAK,UAAU,GAAG2d,EAAiB,GAAGS,CAAO,GAAGP,EAAU,GAAIc,EAAY,SAASlmB,CAAI,CAAC,CAChH,MACE,MAAM,KAAK,IAAI,IAAI,GAAG,KAAK,UAAU,GAAGklB,EAAiB,GAAGS,CAAO,GAAGP,EAAU,GAAIG,EAAU,EAEhG,OAAO,KAAK,WAAWI,EAASpe,EAAQ,EAAK,CAC/C,CACA,MAAM,IAAI6c,GAAgB,GAAGa,CAAW,gBAAgBU,CAAO,kBAAmBxB,EAAuB,iBAAiB,CAC5H,OAAS8B,EAAO,CACd,MAAIA,aAAiB7B,GACb6B,EAEF,IAAI7B,GAAgB,GAAGa,CAAW,KAAKgB,EAAM,OAAO,GAAI9B,EAAuB,uBAAuB,CAC9G,CACF,CAOA,MAAM,iBAAiBwB,EAAU,GAAI,CACnC,GAAI,CAGF,GAFAD,GAAYC,CAAO,EACJ,MAAM,KAAK,iBAAiBA,CAAO,EACtC,CACV,MAAM,KAAK,IAAI,OAAO,GAAG,KAAK,UAAU,GAAGT,EAAiB,GAAGS,CAAO,GAAGP,EAAU,EAAE,EACrF,IAAMe,EAAU,MAAM,KAAK,iBAAiBR,CAAO,EACnD,GAAI,OAAOQ,GAAY,UAAW,CAChC,GAAI,CAACA,EACH,YAAK,SAAS,OAAOR,CAAO,EACrB,GAET,MAAM,IAAIvB,GAAgB,GAAGa,CAAW,iCAAiCU,CAAO,GAAIxB,EAAuB,kBAAkB,CAC/H,CACA,MAAM,IAAIK,GAAiB,GAAGS,CAAW,iCAAiCU,CAAO,GAAIxB,EAAuB,kBAAkB,CAChI,CACA,MAAM,IAAIC,GAAgB,GAAGa,CAAW,gBAAgBU,CAAO,kBAAmBxB,EAAuB,uBAAuB,CAClI,OAAS8B,EAAO,CACd,MAAIA,aAAiBzB,GACbyB,EAEF,IAAI7B,GACR,GAAGa,CAAW,kCAAkCgB,EAAM,OAAO,GAC7D9B,EAAuB,uBACzB,CACF,CACF,CASA,MAAM,WAAWwB,EAAU,GAAIpe,EAAQ6e,EAAa,GAAM,CACxD,GAAI,CACFV,GAAYC,CAAO,EACnB,IAAMU,EAAU,GAAG,KAAK,UAAU,GAAGnB,EAAiB,GAAGS,CAAO,GAAGP,EAAU,GAE7E,GAAI,CADW,MAAM,KAAK,IAAI,WAAWiB,CAAO,EACnC,CACX,GAAI,CAACD,EACH,MAAM,IAAIhC,GAAgB,GAAGa,CAAW,gBAAgBU,CAAO,kBAAmBxB,EAAuB,oBAAoB,EAE/H,MAAM,KAAK,IAAI,IAAIkC,EAASd,EAAU,CACxC,CACA,IAAMe,EAAY/e,GAAU,KAAK,SAAS,IAAIoe,CAAO,GAAK,OAC1D,OAAO,IAAIY,GAAWZ,EAASW,EAAW,KAAK,IAAK,KAAK,UAAU,CACrE,OAASL,EAAO,CACd,MAAIA,EAAM,QAAQ,SAAS,cAAc,EACjC,IAAI3B,GACR,GAAGW,CAAW,8BAA8BgB,EAAM,OAAO,GACzD9B,EAAuB,uBACzB,EAEI,IAAIC,GAAgB,GAAGa,CAAW,KAAKgB,EAAM,OAAO,GAAI9B,EAAuB,oBAAoB,CAC3G,CACF,CACF,EACIoC,GAAa,MAAMC,EAAY,CACjC,YAAYb,EAAU,GAAIpe,EAAQkf,EAAIC,EAAYvB,GAAoBwB,EAAY,GAAOC,EAAYtB,GAAW,CAC9G,KAAK,SAAW,KAAO,CACrB,QAAS,KAAK,SACd,GAAI,KAAK,IACT,OAAQ,KAAK,QACb,UAAW,KAAK,WAChB,SAAU,KAAK,UACf,UAAW,KAAK,WAChB,UAAW,KAAK,WAChB,UAAW,KAAK,UAClB,GACA,KAAK,SAAYtiB,GAAU,CACzB,KAAK,SAAWA,EAAM,QACtB,KAAK,QAAUA,EAAM,OACrB,KAAK,IAAMA,EAAM,GACjB,KAAK,WAAaA,EAAM,UACxB,KAAK,UAAYA,EAAM,SACvB,KAAK,WAAaA,EAAM,UACxB,KAAK,WAAaA,EAAM,UACxB,KAAK,WAAaA,EAAM,SAC1B,EACA,KAAK,aAAgB2jB,GAAc,CACjC,KAAK,WAAaA,CACpB,EACA,KAAK,aAAe,IACX,KAAK,WAEd,KAAK,cAAgB,IACZ,KAAK,QAEd,KAAK,cAAiBpf,GAAW,CAC/B,GAAI,CACF,KAAK,QAAUwd,GAAsBxd,CAAM,EAC3C,KAAK,UAAY,OAAOA,EAAW,IAAc,KAAO,KAAK,WAAW,UAAUA,CAAM,CAC1F,OAAS0e,EAAO,CACd,MAAM,IAAI7B,GAAgB,GAAGa,CAAW,KAAKgB,EAAM,OAAO,GAAI9B,EAAuB,uBAAuB,CAC9G,CACF,EACA,KAAK,kBAAoB,IAChB,KAAK,UAEd,KAAK,gBAAkB,CAACnkB,EAAMwH,EAAO,WAAa,CAC5C,MAAM,QAAQxH,CAAI,IACpBA,EAAOA,EAAK,CAAC,GAGf,IAAMuH,EADc,KAAK,WAAW,SAASvH,CAAI,EACtB,OAAO,EAClC,OAAO+kB,GAAsBxd,CAAM,CACrC,EACA,KAAK,SAAWoe,EAAQ,KAAK,EAC7B,KAAK,IAAMc,EACX,KAAK,QAAU1B,GAAsBxd,CAAM,EAC3C,KAAK,WAAamf,EAClB,KAAK,WAAaC,EAClB,KAAK,WAAaC,GAAatB,GAC/B,KAAK,IAAI,yBAAyB,KAAK,UAAU,EACjD,KAAK,WAAapB,GAAY,KAC9B,KAAK,UAAY,GACjB,KAAK,WAAa,CAAC,EACnB,KAAK,UAAY,OAAO3c,EAAW,IAAc,KAAO,KAAK,WAAW,UAAUA,CAAM,EACxF,KAAK,KAAO,GAAG,KAAK,UAAU,GAAG2d,EAAiB,GAAG,KAAK,QAAQ,GAAGE,EAAU,EACjF,CACA,MAAM,eAAgB,CACpB,GAAI,CACF,KAAK,UAAY,GACjB,IAAMplB,EAAO,MAAM,KAAK,UAAU,EAClC,YAAK,WAAaA,EACX,EACT,OAASimB,EAAO,CACd,MAAM,IAAI7B,GAAgB,GAAGa,CAAW,kCAAkCgB,EAAM,OAAO,GAAI9B,EAAuB,kBAAkB,CACtI,CACF,CACA,MAAM,WAAY,CAChB,GAAI,CACF,GAAI,KAAK,YAAc,MAAQ,OAAO,KAAK,UAAc,IACvD,MAAM,IAAIC,GACR,GAAGa,CAAW,0DACdd,EAAuB,uBACzB,EAEF,GAAM,CAAE,KAAA0C,EAAM,KAAA7mB,CAAK,EAAI,MAAM,KAAK,IAAI,kBAAkB,KAAK,KAAM,CAAE,gBAAiB,KAAK,SAAU,CAAC,EACtG,GAAIA,IAAS,KACX,OAAO,KAAK,WAEd,KAAK,UAAY6mB,IAAS,KAAO,KAAK,UAAYA,EAClD,IAAMX,EAAc,KAAK,WAAW,UAAU,CAAE,KAAM,QAAS,MAAO,KAAK,SAAU,CAAC,EACtF,GAAIlmB,EAAK,OAAS,KAAK,WACrB,YAAK,WAAaA,EAAK,OAAS,EAAIkmB,EAAY,WAAW,OAAO,KAAKlmB,EAAM,MAAM,CAAC,EAAI,CAAC,EAClF,KAAK,WAEd,IAAI8mB,EAAS,KAAK,WACdC,EAAY,CAAC,OAAO,KAAK/mB,EAAM,MAAM,CAAC,EACtCgnB,EAAS,GACb,KAAOA,GAAQ,CACb,IAAMC,EAAmB,MAAM,KAAK,IAAI,YAAY,KAAK,KAAM,GAAOH,EAAQA,EAAS,KAAK,UAAU,EAChGI,EAAe,MAAMD,EAAiB,KAAK,EACjDF,EAAU,KAAK,OAAO,KAAKG,EAAc,MAAM,CAAC,EAChDJ,GAAU,KAAK,WACO,SAASG,EAAiB,QAAQ,IAAI,gBAAgB,GAAKC,EAAa,OAAO,SAAS,CAAC,EAC3F,KAAK,aACvBF,EAAS,GAEb,CACA,IAAMG,EAAe,OAAO,OAAOJ,CAAS,EAC5C,YAAK,WAAab,EAAY,WAAWiB,CAAY,EAC9C,KAAK,UACd,OAASlB,EAAO,CACd,GAAIA,EAAM,SAAS,EAAE,QAAQ,iCAAiC,EAAI,GAChE,YAAK,WAAa,CAAC,EACZ,KAAK,WAEd,MAAM,IAAIzB,GAAiB,GAAGS,CAAW,0BAA0BgB,EAAM,OAAO,GAAI9B,EAAuB,kBAAkB,CAC/H,CACF,CACA,MAAM,UAAUnkB,EAAM,CACpB,GAAI,CACF,GAAI,KAAK,YAAc,MAAQ,OAAO,KAAK,UAAc,IACvD,MAAM,IAAIokB,GACR,GAAGa,CAAW,0DACdd,EAAuB,uBACzB,EAEF,IAAM+B,EAAc,KAAK,WAAW,UAAU,CAAE,KAAM,QAAS,MAAO,KAAK,SAAU,CAAC,EAChFkB,EAAapnB,EAAK,OAAS,EAAIkmB,EAAY,SAASlmB,CAAI,EAAIulB,GAClE,GAAI,KAAK,YAAc,KAAK,YAAc,GAAI,CAC5C,IAAM8B,EAAc,MAAM,KAAK,IAAI,QAAQ,KAAK,IAAI,EACpD,GAAIA,IAAgB,MAAQA,IAAgB,KAAK,UAC/C,MAAO,EAEX,CACA,IAAMC,EAAO,MAAM,KAAK,IAAI,IAAI,KAAK,KAAMF,CAAU,EACrD,GAAI,OAAOE,GAAS,UAAY,WAAYA,GAAQA,EAAK,SAAW,IAClE,MAAM,IAAI9C,GAAiB,GAAGS,CAAW,wBAAyBd,EAAuB,kBAAkB,EAE7G,IAAMoD,EAAUD,EAAK,SAAS,IAAI,MAAM,GAAK,GAC7C,OAAIC,GAAWA,EAAQ,OAAS,IAC9B,KAAK,UAAY,KAAK,IAAI,aAAaA,CAAO,EAC9C,KAAK,WAAavnB,GAEb,EACT,OAASimB,EAAO,CACd,MAAIA,aAAiBzB,GACbyB,EAEF,IAAI7B,GAAgB,GAAGa,CAAW,KAAKgB,EAAM,OAAO,GAAI9B,EAAuB,eAAe,CACtG,CACF,CAQA,MAAM,OAAOjQ,EAAK3M,EAAQ,CACxB,GAAI,CACF,GAAsB2M,GAAQ,KAC5B,MAAM,IAAIkQ,GAAgB,GAAGa,CAAW,oCAAqCd,EAAuB,YAAY,EAElH,GAAI,OAAOjQ,GAAQ,UAAY,CAAC,MAAM,QAAQA,CAAG,EAC/C,MAAM,IAAIqQ,GACR,GAAGU,CAAW,2CACdd,EAAuB,yBACzB,EAEF,IAAM9f,EAAS,MAAM,QAAQ6P,CAAG,EAAYA,EAAR,CAACA,CAAG,EAClCsT,EAAejgB,EAASwd,GAAsBxd,CAAM,EAAI,KAAK,SAAW,KAAK,gBAAgBlD,EAAM,CAAC,CAAC,EACrGojB,EAAW,KAAK,WAAW,UAAUD,CAAY,EACvD,GAAI,CAACC,EACH,MAAM,IAAInD,GACR,GAAGW,CAAW,4DACdd,EAAuB,uBACzB,EAEF,KAAK,UAAYsD,EACjB,IAAMznB,EAAO,MAAM,KAAK,UAAU,EAClC,QAASoE,KAAQC,EAAO,CACtB,GAAI,OAAOD,GAAS,UAAYA,IAAS,KACvC,MAAM,IAAImgB,GACR,GAAGU,CAAW,kEACdd,EAAuB,yBACzB,EAOF,GALA/f,EAAK,IAAMA,EAAK,KAAO,MAAMygB,GAAa,EACtB,KAAK,UAAU,QAAQzgB,EAAM,CAC/C,UAAWohB,GACX,mBAAoB,EACtB,CAAC,IACmB,GAClBxlB,EAAK,KAAKoE,CAAI,MAEd,OAAM,IAAImgB,GAAwB,GAAGU,CAAW,+BAAgCd,EAAuB,yBAAyB,CAEpI,CAEA,GAAI,CADY,MAAM,KAAK,UAAUnkB,CAAI,EAEvC,MAAM,IAAIwkB,GAAiB,GAAGS,CAAW,8BAA+Bd,EAAuB,kBAAkB,EAEnH,YAAK,cAAcqD,CAAY,EACxBnjB,CACT,OAAS4hB,EAAO,CACd,MAAIA,EAAM,QAAQ,SAAS,cAAc,EACjC,IAAI3B,GACR,GAAGW,CAAW,8BAA8BgB,EAAM,OAAO,GACzD9B,EAAuB,uBACzB,EAEE8B,aAAiB7B,GACb6B,EAEF,IAAI7B,GAAgB,GAAGa,CAAW,6BAA6BgB,EAAM,OAAO,GAAI9B,EAAuB,YAAY,CAC3H,CACF,CAUA,MAAM,KAAKS,EAAQ,CAAC,EAAGiB,EAAU,CAAC,EAAG,CACnC,GAAI,CACF,GAAwBjB,GAAU,KAChC,MAAM,IAAIR,GAAgB,GAAGa,CAAW,iCAAkCd,EAAuB,gBAAgB,EAEnH,IAAMnkB,EAAO,MAAM,KAAK,UAAU,EAC5B8D,EAAQ+hB,EAAQ,OAAS,OAAS,SAAS,OAAOA,EAAQ,IAAI,EAAG,EAAE,EAAI,EACvE9hB,EAAM8hB,EAAQ,QAAU,OAAS/hB,EAAQ,SAAS,OAAO+hB,EAAQ,KAAK,EAAG,EAAE,EAAI,OAErF,OADqB7lB,EAAK,OAAQkU,GAAQwQ,GAAaxQ,EAAK0Q,CAAK,CAAC,EAAE,MAAM9gB,EAAOC,CAAG,CAEtF,OAASkiB,EAAO,CACd,MAAM,IAAI7B,GAAgB,GAAGa,CAAW,4BAA4BgB,EAAM,OAAO,GAAI9B,EAAuB,UAAU,CACxH,CACF,CAOA,MAAM,QAAQS,EAAQ,CAAC,EAAG,CACxB,GAAI,CACF,GAAIA,IAAU,KACZ,MAAM,IAAIR,GAAgB,GAAGa,CAAW,yBAA0Bd,EAAuB,gBAAgB,EAG3G,OADe,MAAM,KAAK,KAAKS,EAAO,CAAE,MAAO,CAAE,CAAC,GACpC,CAAC,GAAK,IACtB,OAASqB,EAAO,CACd,MAAIA,aAAiB7B,GACb6B,EAEF,IAAI7B,GAAgB,GAAGa,CAAW,+BAA+BgB,EAAM,OAAO,GAAI9B,EAAuB,cAAc,CAC/H,CACF,CAWA,MAAM,OAAOS,EAAQ,CAAC,EAAG8C,EAAS,CAAC,EAAG7B,EAAU,CAAC,EAAG,CAClD,GAAI,CACF,GAAwBjB,GAAU,MAAQ8C,IAAW,QAAUA,IAAW,KACxE,MAAM,IAAItD,GACR,GAAGa,CAAW,oDACdd,EAAuB,gBACzB,EAEF,GAAI,CAAC,KAAK,UACR,MAAM,IAAIG,GACR,GAAGW,CAAW,8CACdd,EAAuB,uBACzB,EAEF,IAAMnkB,EAAO,MAAM,KAAK,UAAU,EAClC,GAAIA,EAAK,SAAW,EAAG,MAAO,GAC9B,IAAI2nB,EAAe,EACnB,QAASxmB,EAAI,EAAGA,EAAInB,EAAK,OAAQmB,IAC/B,GAAIujB,GAAa1kB,EAAKmB,CAAC,EAAGyjB,CAAK,EAAG,CAChC,IAAMgD,EAAa,CAAE,GAAG5nB,EAAKmB,CAAC,EAAG,GAAGumB,CAAO,EAK3C,GAJgB,KAAK,UAAU,QAAQE,EAAY,CACjD,UAAWpC,GACX,mBAAoB,EACtB,CAAC,IACe,GACdxlB,EAAKmB,CAAC,EAAIymB,EACVD,QAEA,OAAM,IAAIpD,GACR,GAAGU,CAAW,+BACdd,EAAuB,yBACzB,CAEJ,CAEF,GAAIwD,EAAe,GAEjB,GAAI,CADY,MAAM,KAAK,UAAU3nB,CAAI,EAEvC,MAAM,IAAIwkB,GAAiB,GAAGS,CAAW,8BAA+Bd,EAAuB,kBAAkB,UAE1G0B,GAAW,WAAYA,GAAWA,EAAQ,OAAQ,CAE3D,GAAI,CADY,MAAM,KAAK,OAAO6B,CAAM,EAEtC,MAAM,IAAIlD,GAAiB,GAAGS,CAAW,8BAA+Bd,EAAuB,kBAAkB,EAEnHwD,EAAe,CACjB,CACA,OAAOA,CACT,OAAS1B,EAAO,CACd,MAAIA,aAAiBzB,GACbyB,EAEF,IAAI7B,GAAgB,GAAGa,CAAW,8BAA8BgB,EAAM,OAAO,GAAI9B,EAAuB,YAAY,CAC5H,CACF,CAaA,MAAM,UAAUS,EAAQ,CAAC,EAAG8C,EAAS,CAAC,EAAG7B,EAAU,CAAC,EAAG,CACrD,GAAI,CACF,GAAwBjB,GAAU,MAAQ8C,IAAW,QAAUA,IAAW,KACxE,MAAM,IAAItD,GAAgB,GAAGa,CAAW,sBAAuBd,EAAuB,gBAAgB,EAExG,GAAI,CAAC,KAAK,UACR,MAAM,IAAIG,GACR,GAAGW,CAAW,8CACdd,EAAuB,uBACzB,EAEF,IAAMnkB,EAAO,MAAM,KAAK,UAAU,EAClC,GAAIA,EAAK,SAAW,EAAG,MAAO,GAC9B,IAAM6nB,EAAW7nB,EAAK,UAAWkU,GAAQwQ,GAAaxQ,EAAK0Q,CAAK,CAAC,EACjE,GAAIiD,IAAa,GAAI,CACnB,IAAMD,EAAa,CAAE,GAAG5nB,EAAK6nB,CAAQ,EAAG,GAAGH,CAAO,EAKlD,GAJgB,KAAK,UAAU,QAAQE,EAAY,CACjD,UAAWpC,GACX,mBAAoB,EACtB,CAAC,IACe,GAAM,CAGpB,GAFAxlB,EAAK6nB,CAAQ,EAAID,EAEb,CADY,MAAM,KAAK,UAAU5nB,CAAI,EAEvC,MAAM,IAAIwkB,GAAiB,GAAGS,CAAW,8BAA+Bd,EAAuB,kBAAkB,EAEnH,MAAO,EACT,KACE,OAAM,IAAII,GAAwB,GAAGU,CAAW,+BAAgCd,EAAuB,yBAAyB,CAEpI,CACA,GAAI0B,GAAW,WAAYA,GAAWA,EAAQ,OAAQ,CAEpD,GAAI,CADY,MAAM,KAAK,OAAO6B,CAAM,EAEtC,MAAM,IAAIlD,GAAiB,GAAGS,CAAW,8BAA+Bd,EAAuB,kBAAkB,EAEnH,MAAO,EACT,CACA,MAAO,EACT,OAAS8B,EAAO,CACd,MAAIA,aAAiB7B,GACb6B,EAEF,IAAI7B,GAAgB,GAAGa,CAAW,iCAAiCgB,EAAM,OAAO,GAAI9B,EAAuB,gBAAgB,CACnI,CACF,CAQA,MAAM,OAAOS,EAAQ,CAAC,EAAG,CACvB,GAAI,CACF,GAAwBA,GAAU,KAChC,MAAM,IAAIR,GAAgB,GAAGa,CAAW,sBAAuBd,EAAuB,gBAAgB,EAExG,IAAMnkB,EAAO,MAAM,KAAK,UAAU,EAClC,GAAIA,EAAK,SAAW,EAAG,MAAO,GAC9B,IAAM8nB,EAAgB9nB,EAAK,OACrB+nB,EAAU/nB,EAAK,OAAQkU,GAAQ,CAACwQ,GAAaxQ,EAAK0Q,CAAK,CAAC,EAE9D,GAAI,CADY,MAAM,KAAK,UAAUmD,CAAO,EAE1C,MAAM,IAAIvD,GAAiB,GAAGS,CAAW,8BAA+Bd,EAAuB,kBAAkB,EAEnH,OAAO2D,EAAgBC,EAAQ,MACjC,OAAS9B,EAAO,CACd,MAAIA,aAAiBzB,GACbyB,EAEF,IAAI7B,GAAgB,GAAGa,CAAW,8BAA8BgB,EAAM,OAAO,GAAI9B,EAAuB,YAAY,CAC5H,CACF,CAOA,MAAM,WAAY,CAChB,GAAI,CAEF,IAAM2D,GADO,MAAM,KAAK,UAAU,GACP,OAE3B,GAAI,CADY,MAAM,KAAK,UAAU,CAAC,CAAC,EAErC,MAAM,IAAItD,GAAiB,GAAGS,CAAW,8BAA+Bd,EAAuB,kBAAkB,EAEnH,OAAO2D,CACT,OAAS7B,EAAO,CACd,MAAIA,aAAiBzB,GACbyB,EAEF,IAAI7B,GAAgB,GAAGa,CAAW,8BAA8BgB,EAAM,OAAO,GAAI9B,EAAuB,YAAY,CAC5H,CACF,CAOA,MAAM,MAAMS,EAAQ,CAAC,EAAG,CACtB,GAAI,CAEF,OADa,MAAM,KAAK,KAAKA,CAAK,GACtB,MACd,OAASqB,EAAO,CACd,MAAM,IAAI7B,GAAgB,GAAGa,CAAW,6BAA6BgB,EAAM,OAAO,GAAI9B,EAAuB,WAAW,CAC1H,CACF,CACA,MAAM,iBAAiB6D,EAAYC,EAAY,KAAK,QAAS,CAC3D,GAAI,CAGF,GAFAvC,GAAYsC,CAAU,EACP,MAAM,KAAK,IAAI,WAAW,GAAG,KAAK,UAAU,GAAG9C,EAAiB,GAAG8C,CAAU,GAAG5C,EAAU,EAAE,EAEzG,MAAM,IAAIhB,GAAgB,GAAGa,CAAW,gBAAgB+C,CAAU,kBAAmB7D,EAAuB,iBAAiB,EAE/H,IAAM5c,EAAS0gB,GAAa,KAAK,cAAc,EACzCjoB,EAAO,MAAM,KAAK,UAAU,EAC5BkoB,EAAY,IAAI1B,GAAYwB,EAAYzgB,EAAQ,KAAK,IAAK,KAAK,WAAY,KAAK,WAAY,KAAK,UAAU,EACjH,aAAM2gB,EAAU,UAAUloB,CAAI,EAC9B,MAAM,KAAK,IAAI,OAAO,GAAG,KAAK,UAAU,GAAGklB,EAAiB,GAAG,KAAK,QAAQ,GAAGE,EAAU,EAAE,EACpF8C,CACT,OAASjC,EAAO,CACd,MAAIA,aAAiB7B,GACb6B,EAEF,IAAI7B,GACR,GAAGa,CAAW,+BAA+BgB,EAAM,OAAO,GAC1D9B,EAAuB,uBACzB,CACF,CACF,CACF",
  "names": ["__import_BUFFER", "__import_CRYPTO", "__import_UTIL", "__import_STREAM", "__import_ZLIB", "__import_EVENTS", "__import_FS", "__import_PATH", "randomUUID", "__create", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__getProtoOf", "__hasOwnProp", "__commonJS", "cb", "mod", "__getOwnPropNames", "__copyProps", "to", "from", "except", "desc", "key", "__hasOwnProp", "__defProp", "__getOwnPropDesc", "__toESM", "isNodeMode", "target", "__create", "__getProtoOf", "require_utils", "exports", "module", "buffer", "__import_BUFFER", "crypto2", "__import_CRYPTO", "util", "__import_UTIL", "Buffer2", "POOL", "BufferPool", "NAME_PATTERN", "f2", "newBuffer", "size", "bufferFrom", "data", "enc", "capitalize", "s", "compare", "n1", "n2", "getOption", "opts", "def", "value", "getHash", "str", "algorithm", "hash", "singleIndexOf", "arr", "v2", "pos", "i", "l", "toMap", "fn", "obj", "elem", "objectValues", "hasDuplicates", "copyOwnProperties", "src", "dst", "overwrite", "names", "name", "descriptor", "isValidName", "qualify", "namespace", "part", "unqualify", "parts", "impliedNamespace", "match", "jsonEnd", "c", "depth", "literal", "abstractFunction", "addDeprecatedGetters", "props", "proto", "prop", "getter", "createGetter", "prop2", "delegate", "len", "maxLen", "Lcg", "seed", "a", "m2", "state", "start", "end", "flags", "mask", "result", "OrderedQueue", "item", "items", "j2", "first", "mid", "i1", "i2", "c1", "c2", "Tap", "buf", "b2", "n", "k2", "h", "f3", "fk", "d", "fixed", "tap", "l1", "p1", "l2", "p2", "b1", "res", "neg", "invert", "require_types", "utils", "SlowBuffer", "debug", "TYPES", "ArrayType", "BooleanType", "BytesType", "DoubleType", "EnumType", "RecordType", "FixedType", "FloatType", "IntType", "LongType", "MapType", "NullType", "StringType", "RANDOM", "TAP", "LOGICAL_TYPE", "UNDERLYING_TYPES", "Type", "schema", "type", "Hash", "maybeQualify", "isPrimitive", "registry", "UnionType2", "wrapUnions", "WrappedUnionType", "UnwrappedUnionType", "DerivedType", "err", "logicalType", "types", "isAmbiguous", "typeName", "Type2", "val", "fieldNames", "expanded", "numWrappedUnions", "isValidWrappedUnion", "branchTypes", "branchType", "unionType", "bucketized", "bucket", "getTypeBucket", "bucketTypes", "buckets", "augmented", "combineNumbers", "combineStrings", "combineBuffers", "t", "combineObjects", "any", "buf1", "buf2", "resolver", "Resolver", "resolvers", "index", "resolver2", "readValue", "canon", "schemaStr", "noCheck", "className", "getClassName", "errorHook", "hook", "path", "Branch", "derefedSchema", "attr", "body", "asBranch", "PrimitiveType", "noFreeze", "throwInvalidError", "tap1", "tap2", "isSafeLong", "methods", "noUnpack", "mapping", "AbstractLongType", "isJsonBuffer", "UnionType", "branch", "getValueBucket", "logicalBranches", "typeResolver", "coerce", "wrap", "keys", "val1", "val2", "index1", "index2", "firstType", "name1", "name2", "symbol", "symbols", "hasCompatibleName", "values", "readArraySize", "rsv", "copy", "ns", "field", "Field", "errorStack", "plainRecords", "outerArgs", "innerArgs", "ds", "innerBody", "defaultValue", "hasDefault", "stackField", "outerBody", "Record", "self", "o", "field2", "args", "rFields", "wFields", "wFieldsMap", "matches", "fieldResolver", "getAliases", "lazyIndex", "uname", "fields", "order", "fieldType", "fieldSchema", "fieldOrder", "fieldAliases", "fieldDoc", "LogicalType", "_fromValue", "obj1", "obj2", "isVisited", "msg", "readerType", "lazy", "aliases", "reader", "writer", "strict", "alias", "unqualified", "typeNames", "superIndex", "superType", "typeSymbols", "allTypes", "fieldTypes", "fieldDefaults", "isValidRecord", "fieldDefault", "fieldName", "fieldType2", "fieldDefault2", "unionTypes", "require_containers", "stream", "__import_STREAM", "zlib", "__import_ZLIB", "OPTS", "LONG_TYPE", "MAP_BYTES_TYPE", "HEADER_TYPE", "BLOCK_TYPE", "MAGIC_BYTES", "RawDecoder", "noDecode", "createReader", "chunk", "encoding", "BlockDecoder", "header", "codecs", "nBlocks", "block", "tryReadBlock", "chunkCb", "count", "cause", "BlockInfo", "BlockData", "RawEncoder", "copyBuffer", "BlockEncoder", "codec", "meta", "Header", "flushing", "raw", "compressed", "writerType", "skipper", "require_services", "events", "__import_EVENTS", "BOOLEAN_TYPE", "STRING_TYPE", "HANDSHAKE_REQUEST_TYPE", "HANDSHAKE_RESPONSE_TYPE", "PREFIX_LENGTH", "PING_MESSAGE", "Message", "reqType", "errType", "resType", "oneWay", "doc", "recordName", "reqSchema", "msgDoc", "errSchema", "Service", "messages", "types2", "ptcl", "server", "Client", "Server", "clientSvc", "serverSvc", "createReaders", "msgs", "client", "pts", "transport", "channel", "forwardErrors", "req", "handler", "parent", "typeSchema", "msgNames", "discoverProtocol", "svc", "ptclStr", "hreq", "hres", "pending", "insertRemoteProtocols", "objectMode", "writableFactory", "encoder2", "FrameEncoder", "writable2", "readable2", "decoder2", "FrameDecoder", "err2", "StatelessClientChannel", "readable", "writable", "isStream", "decoder", "NettyDecoder", "encoder", "NettyEncoder", "StatefulClientChannel", "channels", "getExistingMessage", "wreq", "WrappedRequest", "getRemoteProtocols", "numChannels", "CallContext", "wres", "ctx", "done", "err3", "readableFactory", "StatelessServerChannel", "StatefulServerChannel", "channelId", "numArgs", "ClientChannel", "normalizedPrefix", "cache", "adapter", "Adapter", "Registry", "noWait", "isError", "timeout", "noSvc", "WrappedResponse", "onTransition", "onCompletion", "fns", "chainMiddleware", "onError", "wreq2", "wres2", "prev", "reqBuf", "serializationError", "id", "resBuf", "matchesPrefix", "emit", "retry", "readHead", "onEnd", "onFinish", "timer", "onPing", "onMessage", "ping", "payload", "ServerChannel", "serverMatch", "toRpcError", "defaultHandler", "resErr", "isStrict", "errStr", "hdrBuf", "onRequest", "onHandshake", "hdrs", "hdr", "hasError", "prefixLength", "isRemote", "isError2", "frameLength", "bufs", "intBuffer", "head", "rtype", "wtype", "ptcls", "isClient", "hs", "toError", "rpcCode", "details", "detailsStr", "strs", "scope", "prefix", "params", "cbs", "forward", "isDone", "backward", "require_files", "fs", "__import_FS", "__import_PATH", "createImportHook", "imports", "fpath", "kind", "createSyncImportHook", "require_specs", "files", "TYPE_REFS", "assembleProtocol", "importFile", "protocol", "schemas", "protocolNamespace", "fpath2", "cb2", "Reader", "fetchImports", "dpath", "importedProtocols", "next", "info", "imported", "mergeImport", "importPath", "read", "contents", "protocolSchema", "Tokenizer", "tk", "protocolJavadoc", "javadoc", "numImports", "message", "responseSchema", "token", "top", "ref", "silent", "implicitTags", "maybeMessage", "fname", "reason", "context", "isToken", "lineNum", "lineStart", "emitJavadoc", "isJavadoc", "extractJavadoc", "pat", "lines", "line", "require_lib", "containers", "services", "specs", "parse2", "schemaOrProtocol", "extractFileHeader", "decode", "fd", "isValid", "createFileDecoder", "createFileEncoder", "x", "K", "O", "v", "E", "W", "M", "w", "X", "f", "Z", "V", "J", "m", "T", "P", "C", "u", "ee", "te", "se", "re", "j", "$", "L", "k", "D", "B", "F", "G", "z", "Q", "ne", "oe", "p", "q", "y", "N", "e", "r", "H", "U", "_", "g", "A", "R", "S", "Y", "b", "I", "import_avsc", "lowstorage_ERROR_CODES", "lowstorageError", "code", "SchemaValidationError", "DocumentValidationError", "S3OperationError", "operation", "matchesQuery", "document", "query", "generateUUID", "randomUUID", "ensureIdFieldInSchema", "idField", "MODULE_NAME", "DEFAULT_DELIMITER", "PROJECT_DIR_PREFIX", "COL_SUFFIX", "CHUNG_1MB", "CHUNG_5MB", "EMPTY_DATA", "errorValidationFn", "errorCode", "_hasColName", "colName", "lowstorage", "options", "requiredFields", "listed", "entry", "error", "wrapperType", "exists2", "autoCreate", "colPath", "colSchema", "Collection", "_Collection", "s3", "dirPrefix", "safeWrite", "chunkSize", "etag", "offset", "bufferArr", "repeat", "nextDataResponse", "nextDataBody", "bufferedData", "dataBuffer", "currentETag", "resp", "newETag", "schemaWithId", "avroType", "update", "updatedCount", "updatedDoc", "docIndex", "initialLength", "newData", "newColName", "newSchema", "createNew"]
}
